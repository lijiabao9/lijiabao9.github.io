[{"title":"Hexo åšå®¢å…¥é—¨ï¼šä»é›¶æ­å»º","url":"/posts/d87f7e0c.html","content":"Hexo æ˜¯ä¸€æ¬¾å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„é™æ€åšå®¢æ¡†æ¶ã€‚æœ¬æ–‡è¯¦ç»†è®°å½•äº† Hexo çš„æ­å»ºè¿‡ç¨‹ï¼ŒåŸºäºæœ€æ–°ç‰ˆæœ¬çš„ Hexo 8.1.1ã€‚\n\nå®˜æ–¹ç½‘ç«™ï¼šhttps://hexo.io/zh-cn/\nGitHub ä»“åº“ï¼šhttps://github.com/hexojs/hexo\n\nç¯å¢ƒè¦æ±‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç”µè„‘å·²å®‰è£…ä»¥ä¸‹åŸºç¡€ç¯å¢ƒï¼š\n\nGit\n\nç‰ˆæœ¬æ— ç‰¹æ®Šè¦æ±‚\næ¼”ç¤ºç‰ˆæœ¬ï¼šgit version 2.52.0.windows.1\n\n\nNode.js\n\nHexo 7.0+ ç‰ˆæœ¬è¦æ±‚ NodeJS &gt;= 14.0.0\næ¼”ç¤ºç‰ˆæœ¬ï¼šv24.10.0\n\n\n\n1. å®‰è£… Hexoæ¨èç›´æ¥ä½¿ç”¨ npm å…¨å±€å®‰è£… hexo-cliï¼Œæ–¹ä¾¿åœ¨ä»»æ„ç›®å½•ä¸‹ä½¿ç”¨ã€‚\nnpm install -g hexo-cli\nå®‰è£…å®Œæˆåï¼Œè¾“å…¥ hexo -vï¼Œè‹¥å‡ºç°ç‰ˆæœ¬ä¿¡æ¯åˆ™ä»£è¡¨å®‰è£…æˆåŠŸã€‚\n2. åˆ›å»ºé¡¹ç›®é€‰æ‹©ä¸€ä¸ªç£ç›˜ç›®å½•ï¼ˆä¾‹å¦‚ D:/Projects/ï¼‰ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–åšå®¢ï¼š\n# åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¹¶åˆå§‹åŒ–hexo init hexo-blog-source\nåˆå§‹åŒ–æˆåŠŸåï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\n\nscaffolds/ï¼šæ¨¡ç‰ˆæ–‡ä»¶å¤¹ï¼ˆæ–°å»ºæ–‡ç« æ—¶ä½¿ç”¨çš„æ¨¡æ¿ï¼‰\nsource/ï¼šèµ„æºæ–‡ä»¶å¤¹\n_posts/ï¼šå­˜æ”¾ä½ çš„ markdown æ–‡ç« \n\n\nthemes/ï¼šä¸»é¢˜æ–‡ä»¶å¤¹\n_config.ymlï¼šå…¨å±€é…ç½®æ–‡ä»¶\npackage.jsonï¼šä¾èµ–åŒ…ç®¡ç†æ–‡ä»¶\n\n3. å¯åŠ¨é¡¹ç›®å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š\n# clean: æ¸…ç†ç¼“å­˜ä»¥åŠ public é™æ€æ–‡ä»¶ï¼ˆé‡åˆ°æ ·å¼ä¸æ›´æ–°æ—¶å¸¸ç”¨ï¼‰hexo cl# generate: ç”Ÿæˆé™æ€æ–‡ä»¶åˆ° public ç›®å½•hexo g# server: æœ¬åœ°å¯åŠ¨é¢„è§ˆ# é»˜è®¤ç«¯å£ 4000ï¼Œå¯é€šè¿‡ -p 4001 æŒ‡å®šç«¯å£hexo s\nå¯åŠ¨åï¼Œæµè§ˆå™¨è®¿é—® http://localhost:4000 å³å¯çœ‹åˆ°åšå®¢é›å½¢ã€‚\n4. æ–°å»ºæ–‡ç« hexo new &quot;ç¬¬ä¸€ç¯‡æ–‡ç« &quot;\nè¿è¡Œè¯¥å‘½ä»¤åï¼Œä¼šåœ¨ /source/_posts/ ä¸‹ç”Ÿæˆ ç¬¬ä¸€ç¯‡æ–‡ç« .mdã€‚ä½ å¯ä»¥ä½¿ç”¨ä»»ä½• Markdown ç¼–è¾‘å™¨ï¼ˆå¦‚ Typora, VS Codeï¼‰ç¼–å†™å†…å®¹ã€‚æ”¯æŒæ ‡å‡†çš„ Markdown è¯­æ³•ã€‚\næç¤ºï¼šæ–‡ç« çš„æ–°å¢æˆ–ä¿®æ”¹ï¼Œåªéœ€åˆ·æ–°æµè§ˆå™¨é¡µé¢å³å¯é¢„è§ˆï¼›è‹¥ä¿®æ”¹äº† _config.yml é…ç½®æ–‡ä»¶ï¼Œåˆ™éœ€è¦é‡å¯ hexo serverã€‚\n\n5. åŸºç¡€é…ç½® (å¯é€‰)ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„ _config.ymlï¼Œè®¾ç½®ç½‘ç«™çš„åŸºæœ¬ä¿¡æ¯ï¼š\n_config.yml# Sitetitle: Gabrielçš„åšå®¢subtitle: &#x27;åœ¨ä»£ç ä¸æ–‡å­—ä¹‹é—´&#x27;description: &#x27;è®°å½•æŠ€æœ¯æ¢ç´¢ï¼Œä¹Ÿå†™äººé—´çƒŸç«ã€‚&#x27;keywords: ç¼–ç¨‹, åˆ†äº«, ç”Ÿæ´»author: Gabriellanguage: zh-CNtimezone: &#x27;Asia/Shanghai&#x27;# URL## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;url: https://lijiabao9.github.io\n6. ä¸€é”®éƒ¨ç½²åˆ° GitHub Pagesæœ¬åœ°é¢„è§ˆåªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦å°†åšå®¢éƒ¨ç½²åˆ°å…¬ç½‘ã€‚GitHub Pages æä¾›äº†å…è´¹ä¸”ç¨³å®šçš„æ‰˜ç®¡æœåŠ¡ã€‚\n6.1 å‡†å¤‡ä»“åº“\næ³¨å†Œ/ç™»å½• GitHubã€‚\nåˆ›å»ºä¸€ä¸ª Public ä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸º ç”¨æˆ·å.github.ioï¼ˆä¾‹å¦‚æˆ‘çš„ä»“åº“åä¸ºï¼š lijiabao9.github.ioï¼‰ã€‚\n\n6.2 é…ç½® SSH å…¬é’¥ä¸ºäº†è®©æœ¬åœ°èƒ½å‘ GitHub æ¨é€ä»£ç ï¼Œéœ€è¦é…ç½® SSH Keyã€‚\né…ç½®æ­¥éª¤ï¼š\n\nå‘½ä»¤è¡Œæ‰§è¡Œ ssh-keygen -t rsa -C &quot;your_email@example.com&quot;ï¼Œä¸€è·¯å›è½¦ã€‚\nåœ¨ ~/.ssh/ ç›®å½•ä¸‹æ‰¾åˆ° id_rsa.pubï¼Œå¤åˆ¶å…¶å†…å®¹ã€‚\nè¿›å…¥ GitHub -> Settings -> SSH and GPG keys -> New SSH keyã€‚\nTitle éšæ„å¡«ï¼ŒKey ç²˜è´´åˆšæ‰å¤åˆ¶çš„å†…å®¹ï¼Œä¿å­˜ã€‚\n\n\n6.3 å®‰è£…éƒ¨ç½²æ’ä»¶åœ¨åšå®¢æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š\nnpm install hexo-deployer-git --save\n6.4 ä¿®æ”¹é…ç½®ä¿®æ”¹ _config.yml çš„ deploy éƒ¨åˆ†ï¼š\n_config.ymldeploy:  type: &#x27;git&#x27;  repo: git@github.com:lijiabao9/lijiabao9.github.io.git  branch: main\n6.5 æ‰§è¡Œéƒ¨ç½²è¿è¡Œå‘½ä»¤ï¼š\nhexo d\néƒ¨ç½²å®Œæˆåï¼Œè®¿é—® https://lijiabao9.github.io å³å¯çœ‹åˆ°ä¸Šçº¿çš„åšå®¢ã€‚\n7. è¿›é˜¶ï¼šGitHub Actions è‡ªåŠ¨éƒ¨ç½²éšç€æ–‡ç« å¢å¤šï¼Œæ¯æ¬¡æ‰‹åŠ¨æ‰§è¡Œ hexo d ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶ä¸Šä¼ ä¼šå˜å¾—ç¹çã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ GitHub Actions å®ç°æäº¤æºç å³è‡ªåŠ¨éƒ¨ç½²ã€‚\n7.1 åˆ›å»ºæºç ä»“åº“\nåœ¨ GitHub ä¸Šæ–°å»ºä¸€ä¸ª Privateï¼ˆç§æœ‰ï¼‰ä»“åº“ï¼Œå‘½åä¸º hexo-blog-sourceï¼ˆç”¨äºå­˜æ”¾åšå®¢æºç ï¼Œè€Œéé™æ€é¡µé¢ï¼‰ã€‚\nå°†æœ¬åœ°åšå®¢é¡¹ç›®å…³è”åˆ°è¯¥ä»“åº“å¹¶æ¨é€ä»£ç ã€‚git remote add origin git@github.com:lijiabao9/hexo-blog-source.gitgit branch -M maingit push -u origin main\n\n\n7.2 é…ç½® Token (å…³é”®æ­¥éª¤)ä¸ºäº†è®© Action æœ‰æƒé™æ¨é€ä»£ç åˆ° Pages ä»“åº“ï¼Œéœ€è¦é…ç½® Tokenã€‚\n\nç”Ÿæˆ Tokenï¼šGitHub -> Settings -> Developer Settings -> Personal access tokens -> Tokens (classic) ->Generate new tokenã€‚\nå‹¾é€‰ repo å’Œ workflow æƒé™ã€‚\nå¤åˆ¶ç”Ÿæˆçš„ Tokenï¼ˆä»¥ ghp_ å¼€å¤´ï¼‰ã€‚\n\n\né…ç½® Secretsï¼š\nè¿›å…¥ä½ çš„ åšå®¢æºç ç§æœ‰ä»“åº“ -> Settings -> Secrets and variables -> Actions -> New repository secretã€‚\nName å¡«å†™ï¼šHEXO_DEPLOY_TOKEN\nSecret å¡«å†™ï¼šåˆšæ‰å¤åˆ¶çš„ Tokenã€‚\n\n\n\n7.3 åˆ›å»º Workflow æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º .github/workflows/autodeploy.ymlï¼š\nautodeploy.ymlname: è‡ªåŠ¨éƒ¨ç½²on:  push:    branches:      - main  release:    types:      - publishedjobs:  deploy:    runs-on: ubuntu-latest    steps:      - name: æ£€å‡ºåˆ†æ”¯        uses: actions/checkout@v5      - name: å®‰è£… Node        uses: actions/setup-node@v6        with:          node-version: &quot;24.x&quot;          cache: &#x27;npm&#x27;      - name: å®‰è£…ä¾èµ–        run: |          npm ci      - name: ç”Ÿæˆé™æ€æ–‡ä»¶        run: |          npm install hexo-cli -g          hexo clean          hexo generate      - name: éƒ¨ç½²åˆ° GitHub Pages        uses: JamesIves/github-pages-deploy-action@v4        with:          folder: public          token: $&#123;&#123; secrets.HEXO_DEPLOY_TOKEN &#125;&#125;          repository-name: lijiabao9/lijiabao9.github.io          branch: main          commit-message: &quot;Updated By Github Actions&quot;          # ä¸ºäº†éšç§è€ƒè™‘å±è”½ $&#123;&#123; github.event.head_commit.message &#125;&#125; æäº¤ä¿¡æ¯\nç°åœ¨ï¼Œä½ åªéœ€è¦å°†æºç æ¨é€åˆ°ç§æœ‰ä»“åº“ï¼ŒGitHub Actions å°±ä¼šè‡ªåŠ¨å¸®ä½ å®Œæˆæ‰“åŒ…å’Œå‘å¸ƒå·¥ä½œã€‚\n8. å¿…è£… SEO ä¼˜åŒ–æ’ä»¶ä¸ºäº†è®©æ–‡ç« æ›´å®¹æ˜“è¢«æœç´¢å¼•æ“ï¼ˆGoogle/Bingï¼‰æ”¶å½•ï¼Œæ¨èå®‰è£…ä»¥ä¸‹æ’ä»¶ã€‚\n\nå®‰è£…æ’ä»¶\n# ç”Ÿæˆå”¯ä¸€çŸ­é“¾æ¥ï¼Œåˆ©äº SEO æƒé‡npm install hexo-abbrlink --save# ä¸ºå¤–éƒ¨é“¾æ¥æ·»åŠ  nofollowï¼Œé˜²æ­¢æƒé‡æµå¤±npm install hexo-filter-nofollow --save# ç”Ÿæˆ RSS è®¢é˜…æºnpm install hexo-generator-feed --save# ç”Ÿæˆç«™ç‚¹åœ°å›¾ Sitemapnpm install hexo-generator-sitemap --save\n\né…ç½®æ’ä»¶ (åœ¨ _config.yml ä¸­æ·»åŠ )\n _config.yml# é“¾æ¥æŒä¹…åŒ–abbrlink:  alg: crc32  rep: hex# å¤–éƒ¨é“¾æ¥ä¼˜åŒ–nofollow:  enable: true  field: site  exclude:    - &#x27;lijiabao9.github.io&#x27; # æ’é™¤è‡ªå·±çš„åŸŸå# RSS è®¢é˜…feed:  enable: true  type: atom  path: atom.xml  limit: 20# ç«™ç‚¹åœ°å›¾sitemap:  path: sitemap.xml\n\n\né…ç½®å®Œæˆåï¼Œé‡æ–° hexo g -d æˆ–æ¨é€æºç ï¼Œå³å¯ç”Ÿæ•ˆã€‚\n","categories":["åˆ›æ„å·¥åŠ","å»ºç«™æ—¥å¿—"],"tags":["Hexo","GitHub"]},{"title":"Hexo åšå®¢è¿›é˜¶ï¼šButterfly ä¸»é¢˜æ·±åº¦ç¾åŒ–ä¸æºç çº§é­”æ”¹","url":"/posts/d3786b18.html","content":"æœ¬æ–‡ä¸ä»…åŒ…å« Butterfly ä¸»é¢˜çš„åŸºç¡€é…ç½®ä¸æ’ä»¶å®‰è£…ï¼Œæ›´è®°å½•äº†å¯¼èˆªæ å½©è‰²å›¾æ ‡ã€ç”Ÿè‚–æ—¶é—´è½´ç­‰æ·±åº¦çš„æºç çº§é­”æ”¹æ–¹æ¡ˆã€‚\n\nButterfly æ˜¯ Hexo ç”Ÿæ€ä¸­å¹¿å—æ¬¢è¿çš„é«˜é¢œå€¼ä¸»é¢˜ï¼Œä»¥å…¶å¼ºå¤§çš„åŠŸèƒ½å’Œæé«˜çš„å¯å®šåˆ¶æ€§è‘—ç§°ã€‚æœ¬æ–‡å°†ç³»ç»Ÿè®°å½•æˆ‘å¦‚ä½•å°† Butterfly ä¸»é¢˜åº”ç”¨åˆ°æè‡´ï¼Œæ‰“é€ ä¸€ä¸ªé›†ç¾è§‚ä¸äº¤äº’äºä¸€ä½“çš„ä¸ªäººåšå®¢ã€‚\n\nç›¸å…³èµ„æº\n\nå®˜æ–¹æ–‡æ¡£ï¼šButterfly æ–‡æ¡£\nä¸»é¢˜ä»“åº“ï¼šhexo-theme-butterfly\n\n\n1. ä¸»é¢˜å®‰è£…ä¸ç¯å¢ƒå‡†å¤‡1.1 è·å–ä¸»é¢˜åœ¨åšå®¢é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ‹‰å–ä¸»é¢˜ï¼ˆæ¨èä½¿ç”¨ç¨³å®šåˆ†æ”¯ï¼‰ï¼š\ngit clone -b dev git@github.com:jerryc127/hexo-theme-butterfly.git themes/butterfly\né‡è¦æç¤ºï¼šä¸‹è½½å®Œæˆåï¼Œè¯·åŠ¡å¿…åˆ é™¤ /themes/butterfly/.git/ æ–‡ä»¶å¤¹ã€‚å¦åˆ™ä¸»é¢˜ç›®å½•ä¼šè¢«è¯†åˆ«ä¸º Git å­æ¨¡å—ï¼ˆSubmoduleï¼‰ï¼Œå¯¼è‡´ä¸»é¡¹ç›®çš„ Git ä»“åº“æ— æ³•è¿½è¸ªä¸»é¢˜æ–‡ä»¶çš„å˜æ›´ï¼Œéƒ¨ç½²æ—¶ä¼šæŠ¥é”™ã€‚\n\nå®‰è£…å¿…è¦çš„æ¸²æŸ“æ’ä»¶ï¼š\nnpm install hexo-renderer-pug hexo-renderer-stylus --save\n1.2 é…ç½®æŠ½ç¦»ç­–ç•¥ (æœ€ä½³å®è·µ)ä¸ºäº†é˜²æ­¢åç»­é…ç½®æ··ä¹±ï¼Œå»ºè®®å°†ä¸»é¢˜é…ç½®ä¸ç«™ç‚¹é…ç½®åˆ†ç¦»ï¼š\n\nå°† /themes/butterfly/_config.yml å¤åˆ¶åˆ°åšå®¢æ ¹ç›®å½•ï¼Œé‡å‘½åä¸º _config.butterfly.ymlã€‚\nä»¥åæ‰€æœ‰é’ˆå¯¹ä¸»é¢˜çš„é…ç½®ï¼Œå‡åœ¨æ­¤æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚\nä¿®æ”¹æ ¹ç›®å½•çš„ _config.yml å¯ç”¨ä¸»é¢˜ï¼š_config.ymltheme: butterfly\n\n\nå¯åŠ¨åšå®¢ï¼Œè®¿é—® http://localhost:4000ï¼Œå³å¯çœ‹åˆ°ä¸»é¢˜æ•ˆæœã€‚\n2. é¡µé¢æ„å»ºä¸åŸºç¡€ç¾åŒ–2.1 åˆ›å»ºæ ‡å‡†é¡µé¢Butterfly ä¾èµ–ç‰¹å®šçš„ Front-matterã€‚è¯·å‚è€ƒ å®˜æ–¹æ–‡æ¡£ã€‚\nä½¿ç”¨ hexo new page &quot;é¡µé¢å&quot; åˆ›å»ºä»¥ä¸‹æ ¸å¿ƒé¡µé¢ï¼Œå¹¶ä¿®æ”¹å¯¹åº”çš„ Markdown æ–‡ä»¶ï¼š\n\næ ‡ç­¾ (tags): type: &quot;tags&quot;\nåˆ†ç±» (categories): type: &quot;categories&quot;\nå‹æƒ…é“¾æ¥ (link): type: &quot;link&quot; (éœ€é…åˆæ•°æ®æ–‡ä»¶ source/_data/link.yml)\nè¯´è¯´ (shuoshuo): type: &#39;shuoshuo&#39; (éœ€é…åˆæ•°æ®æ–‡ä»¶ source/_data/shuoshuo.yml)\n404é¡µé¢: åœ¨é…ç½®ä¸­å¼€å¯ error_404: true\n\n2.2 ä¸ªæ€§åŒ– CSS å®šåˆ¶åˆ›å»ºè‡ªå®šä¹‰ CSS æ–‡ä»¶ /source/assets/css/custom.cssï¼š\ncustom.css/* ä¸€å›¾æµé…ç½®ï¼šéšè— banner å’Œ footer çš„èƒŒæ™¯å›¾ï¼Œä½¿èƒŒæ™¯åŠ¨å›¾å…¨å±é€è§† */#page-header &#123;    background: transparent !important;&#125;#footer &#123;    background: transparent !important;&#125;/* å¯¼èˆªæ ï¼šå®šä¹‰å½©è‰²å›¾æ ‡çš„å¤§å°ä¸å¯¹é½ */svg.icon &#123;    width: 1.2em;    height: 1.2em;    vertical-align: -0.15em;    fill: currentColor;    overflow: hidden;&#125;\næœ€ååœ¨ _config.butterfly.yml å¼•å…¥æ ·å¼ï¼š\n_config.butterfly.ymlinject:  head:    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/css/custom.css&quot;&gt;\n3. åŠŸèƒ½å¢å¼ºæ’ä»¶3.1 åŸºç¡€åŠŸèƒ½ç±»\n\n\n\nåŠŸèƒ½\næ’ä»¶/å‘½ä»¤\nè¯´æ˜\n\n\n\n\nå­—æ•°ç»Ÿè®¡\nnpm install hexo-wordcount --save\næ˜¾ç¤ºæ–‡ç« å­—æ•°å’Œé˜…è¯»æ—¶é•¿\n\n\næ•°å­¦å…¬å¼\nnpm uninstall hexo-renderer-markednpm install hexo-renderer-kramed\nå¿…é¡»æ›¿æ¢é»˜è®¤æ¸²æŸ“å™¨ä»¥æ”¯æŒ MathJax\n\n\næœ¬åœ°æœç´¢\nnpm install hexo-generator-searchdb\nç”Ÿæˆ search.json ä¾›æœ¬åœ°æœç´¢è°ƒç”¨\n\n\néŸ³ä¹æ’­æ”¾å™¨\nnpm install hexo-tag-aplayer\nå…¨å±€å¸åº•éŸ³ä¹æ’­æ”¾å™¨\n\n\n\n\næ ¹ç›®å½• _config.yml é…ç½®ï¼š\n_config.yml# kramed æ¸²æŸ“å™¨é…ç½® (è§£å†³æ•°å­¦å…¬å¼å†²çª)kramed:  gfm: true  pedantic: false  sanitize: false  tables: true  breaks: true  smartLists: true  smartypants: true# æœ¬åœ°æœç´¢search:  path: search.json  field: post  content: true  format: striptags# APlayer æ’­æ”¾å™¨ (å…³é—­è‡ªåŠ¨æ³¨å…¥ï¼Œæ”¹ä¸ºæ‰‹åŠ¨æ§åˆ¶)aplayer:  meting: true  asset_inject: false\nä¸»é¢˜é…ç½® _config.butterfly.yml å¯ç”¨ï¼š\n_config.butterfly.ymlwordcount:  enable: truemath:  use: mathjaxsearch:  use: local_search# APlayer æ³¨å…¥é…ç½®aplayerInject:  enable: true  per_page: trueinject:  bottom:    # data-id: æ­Œå•ID, data-server: netease(ç½‘æ˜“äº‘)    - &lt;div class=&quot;aplayer no-destroy&quot; data-id=&quot;2761236917&quot; data-server=&quot;netease&quot; data-type=&quot;playlist&quot; data-fixed=&quot;true&quot; data-autoplay=&quot;false&quot;&gt;&lt;/div&gt;\n3.2 è§†è§‰ç‰¹æ•ˆç±»ğŸ’Œ è–‡å°”è‰ç‰¹ä¿¡å° (ç•™è¨€æ¿)æ’ä»¶ï¼šhexo-butterfly-envelope\nnpm install hexo-butterfly-envelope --save\nä¸»é¢˜é…ç½® _config.butterfly.yml å¯ç”¨ï¼š\n_config.butterfly.ymlenvelope_comment:  enable: true  custom_pic:    cover: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/envelope-violet.webp       # ä¿¡ç¬ºå¤´éƒ¨å›¾ç‰‡    line: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/envelope-line.webp          # ä¿¡ç¬ºåº•éƒ¨å›¾ç‰‡    beforeimg: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/envelope-before.webp   # ä¿¡å°å‰åŠéƒ¨åˆ†    afterimg: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/envelope-after.webp     # ä¿¡å°ååŠéƒ¨åˆ†  message: # ä¿¡ç¬ºæ­£æ–‡    - ã€Œçº¸çŸ­æƒ…é•¿ï¼Œå¢¨é¦™ç•™ç—•â€”â€”ä½ æƒ³è¯‰è¯´ä»€ä¹ˆæ•…äº‹ï¼Ÿã€    - ã€Œæ™¨éœ²ä¸æ˜Ÿè¾‰ä¹‹é—´ï¼Œæˆ‘åœ¨æ­¤å€¾å¬ä½ çš„æ¯ä¸€å£°è½»è¯­ã€‚ã€    - ã€Œå­—å¥å¦‚è¶ï¼Œæ –äºæ­¤å¤„ã€‚æ˜¯æ€è€ƒï¼Œæ˜¯å€¾è¯‰ï¼Œæˆ–åªæ˜¯ç‰‡åˆ»å¿ƒæƒ…ï¼Ÿã€    - ã€Œè¿™é‡Œç››æ”¾æœªå®Œæˆçš„è¯—ã€åŠæˆªçµæ„Ÿï¼Œå’Œæ‰€æœ‰æ¬²è¨€åˆæ­¢çš„é»„æ˜ã€‚ã€  bottom: ã€Œæ­¤å¤„æ°¸è¿œæœ‰æœˆå…‰é“ºå°±çš„çº¸ç¬ºï¼ã€    # ä»…æ”¯æŒå•è¡Œæ–‡æœ¬  height: # 1050pxï¼Œä¿¡å°åˆ’å‡ºçš„é«˜åº¦  path:   #é»˜è®¤ä¸º comments  front_matter:    title: ç•™è¨€æ¿    comments: true# å¯¼èˆªæ ï¼Œèœå•å°±å¯ä½¿ç”¨ /comments è·¯å¾„äº†menu:  ç•™è¨€æ¿: /comments/ || fas fa-envelope\nğŸ·ï¸ å¤–æŒ‚æ ‡ç­¾ Plus (Tag Plugins)æ’ä»¶ï¼šhexo-butterfly-tag-plugins-plus\nå®˜æ–¹æ•ˆæœé¢„è§ˆï¼šTag Plugins Plus | Akilarã®ç³–æœå±‹\næ­¤æ’ä»¶æå¤§åœ°å¢å¼ºäº† Markdown çš„è¡¨ç°åŠ›ï¼Œæ”¯æŒ Tipã€Timelineã€Icon ç­‰æ ‡ç­¾ã€‚éœ€åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ FontAwesome å’Œé˜¿é‡Œ Iconfont ä¾èµ–ï¼š\næ³¨å†Œç™»é™† IconFont åï¼ŒæŒ‘é€‰ç›¸åº”ç´ æï¼Œä¸‹è½½ Symbol å›¾æ ‡ä»£ç ï¼Œæ‹·è´åˆ° /source/assets/js/ali/iconfont.js ä¸­ã€‚\n\nnpm install hexo-butterfly-tag-plugins-plus --save\n_config.butterfly.ymltag_plugins:  enable: true  priority: 5  link:  # link_card æ ‡ç­¾é»˜è®¤çš„å›¾æ ‡å›¾ç‰‡    placeholder: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/link-card.webp  CDN:    # åŠ¨ç”»æ ‡ç­¾ anima çš„ä¾èµ–    anima: https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css    tag_plugins_css: https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css    # icon æ ‡ç­¾æ”¯æŒçš„å›¾æ ‡åº“ä¾èµ–ï¼š    iconfont: /assets/js/ali/iconfont.jsinject:  head:    # tag-plugins çš„ tip æ ‡ç­¾çš„è‡ªå®šä¹‰å›¾æ ‡æ‰€éœ€ä¾èµ–    - &lt;link rel=&quot;stylesheet&quot; href=&quot;https://npm.elemecdn.com/@fortawesome/fontawesome-free@latest/css/all.min.css&quot;&quot;&gt;\n4. æºç çº§é­”æ”¹é«˜é£é™©æ“ä½œæç¤ºï¼šä»¥ä¸‹ä¿®æ”¹æ¶‰åŠç›´æ¥ç¼–è¾‘ /themes/butterfly ä¸‹çš„æºç æ–‡ä»¶ï¼ˆPug æ¨¡æ¿å’Œ JS è„šæœ¬ï¼‰ã€‚è¿™ä¼šå¯¼è‡´ä¸»é¢˜åç»­æ— æ³•ç›´æ¥å‡çº§ï¼ˆè¦†ç›–å®‰è£…ä¼šä¸¢å¤±ä¿®æ”¹ï¼‰ã€‚å»ºè®®ï¼š\n\nä¿®æ”¹å‰å¤‡ä»½ç›¸å…³æ–‡ä»¶ã€‚\næˆ–è€…ç†Ÿç»ƒæŒæ¡ Git åˆ†æ”¯åˆå¹¶ï¼Œä»¥ä¾¿åœ¨å‡çº§ä¸»é¢˜æ—¶ä¿ç•™ä¿®æ”¹ã€‚\n\n\n4.1 å½’æ¡£é¡µï¼šåäºŒç”Ÿè‚–æ—¶é—´è½´æ•ˆæœï¼šåœ¨å½’æ¡£é¡µé¢çš„å¹´ä»½æ—ï¼ˆå¦‚ 2025ï¼‰ï¼Œè‡ªåŠ¨è®¡ç®—å¹¶æ˜¾ç¤ºå¯¹åº”çš„ç”Ÿè‚–å›¾æ ‡ï¼ˆå¦‚ ğŸï¼‰ã€‚\nç¬¬ä¸€æ­¥ï¼šç¼–å†™ Helper è„šæœ¬æ–°å»ºæ–‡ä»¶ /scripts/helper-timeline-year.js (Hexo ä¼šè‡ªåŠ¨åŠ è½½ scripts ç›®å½•ä¸‹çš„è„šæœ¬)ï¼š\nhelper-timeline-year.js// æ³¨å†Œ helper å‡½æ•°ï¼šè¾“å…¥å¹´ä»½ï¼Œè¿”å› [ç”Ÿè‚–æ–‡å­—, å›¾æ ‡Class]hexo.extend.helper.register(&quot;getShengxiaoIcon&quot;, function (year) &#123;    let symbol = cal_shengxiao(year);    let icon = iconMap[symbol];    return [symbol, icon];&#125;);const sxTable = [&#x27;é¼ &#x27;, &#x27;ç‰›&#x27;, &#x27;è™&#x27;, &#x27;å…”&#x27;, &#x27;é¾™&#x27;, &#x27;è›‡&#x27;, &#x27;é©¬&#x27;, &#x27;ç¾Š&#x27;, &#x27;çŒ´&#x27;, &#x27;é¸¡&#x27;, &#x27;ç‹—&#x27;, &#x27;çŒª&#x27;];function cal_shengxiao(year) &#123;    let index = (parseInt(year) - 4) % 12;    return sxTable[index];&#125;// æ˜ å°„è¡¨ï¼šå¯¹åº”é˜¿é‡Œ Iconfont çš„å›¾æ ‡ Classconst iconMap = &#123;    &#x27;é¼ &#x27;: &#x27;icon-rat&#x27;, &#x27;ç‰›&#x27;: &#x27;icon-ox&#x27;, &#x27;è™&#x27;: &#x27;icon-tiger&#x27;, &#x27;å…”&#x27;: &#x27;icon-rabbit&#x27;,    &#x27;é¾™&#x27;: &#x27;icon-dragon&#x27;, &#x27;è›‡&#x27;: &#x27;icon-snake&#x27;, &#x27;é©¬&#x27;: &#x27;icon-horse&#x27;, &#x27;ç¾Š&#x27;: &#x27;icon-goat&#x27;,    &#x27;çŒ´&#x27;: &#x27;icon-monkey&#x27;, &#x27;é¸¡&#x27;: &#x27;icon-rooster&#x27;, &#x27;ç‹—&#x27;: &#x27;icon-dog&#x27;, &#x27;çŒª&#x27;: &#x27;icon-boar&#x27;&#125;\nç¬¬äºŒæ­¥ï¼šä¿®æ”¹ Pug æ¨¡æ¿ç¼–è¾‘ä¸»é¢˜æ–‡ä»¶ /themes/butterfly/layout/includes/mixins/article-sort.pugï¼š\narticle-sort.pug//- ä¿®æ”¹å¹´ä»½æ˜¾ç¤ºéƒ¨åˆ†ï¼Œå¢åŠ  SVG å›¾æ ‡è°ƒç”¨if tempYear !== year  - year = tempYear  .article-sort-item.year    span= year    svg.icon(aria-hidden=&#x27;true&#x27;)      //- è°ƒç”¨åˆšæ‰æ³¨å†Œçš„ Helper å‡½æ•°      use(xlink:href=&#x27;#&#x27; + getShengxiaoIcon(tempYear)[1])\n4.2 å¯¼èˆªæ ï¼šæ”¯æŒ Iconfont å½©è‰²å›¾æ ‡Butterfly é»˜è®¤ä»…æ”¯æŒ FontAwesomeï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹èœå•æ¸²æŸ“é€»è¾‘ï¼Œä½¿å…¶å…¼å®¹é˜¿é‡Œ Iconfontï¼ˆSVG Symbol æ¨¡å¼ï¼‰ã€‚\nä¿®æ”¹æ–‡ä»¶ï¼š/themes/butterfly/layout/includes/header/menu_item.pug\nmenu_item.pugif theme.menu  .menus_items    // é»˜è®¤å›¾æ ‡åŠ¨ç”»æ•ˆæœ    - const default_animation = &#x27;faa-tada&#x27;    each value, label in theme.menu      if typeof value !== &#x27;object&#x27;        .menus_item          // å¢åŠ å¯é…ç½®å‚æ•°åŠ¨ç”»æ•ˆæœï¼Œåˆå¹¶æœ€ç»ˆæ•ˆæœ          - const [link, icon, animation] = value.split(&#x27;||&#x27;).map(part =&gt; trim(part))          - const final_animation = animation || default_animation          // ç»™ a æ·»åŠ çˆ¶å…ƒç´ åŠ¨ç”»æ•ˆæœ .faa-parent.animated-hover          a.site-page.faa-parent.animated-hover(href=url_for(link))            //- é­”æ”¹é€»è¾‘ï¼šæ£€æµ‹å›¾æ ‡æ˜¯å¦ä»¥ &#x27;icon&#x27; å¼€å¤´            if icon.substring(0,2)===&#x27;fa&#x27;              i.fa-fw(class=icon + &#x27; &#x27; + final_animation)            else if icon.substring(0, 4) === &#x27;icon&#x27;              //- å¦‚æœæ˜¯ icon å¼€å¤´ï¼Œæ¸²æŸ“ SVG              svg.icon(aria-hidden=&quot;true&quot; class=final_animation)                use(xlink:href=`#`+ icon)            span= &#x27; &#x27; + label      else        //- (çœç•¥ submenu éƒ¨åˆ†ï¼Œé€»è¾‘åŒä¸Šï¼Œéœ€åŒæ ·ä¿®æ”¹ groupIcon å’Œ childIcon çš„æ¸²æŸ“é€»è¾‘)        // ... è¯·ç¡®ä¿å¯¹å­èœå•ä¹Ÿåº”ç”¨ç›¸åŒçš„ SVG åˆ¤æ–­é€»è¾‘ ...\né…ç½®åº”ç”¨åœ¨ _config.butterfly.yaml ä¸­é…ç½®èœå•ï¼ˆæ³¨æ„å›¾æ ‡åç§°éœ€ä¸ Iconfont é¡¹ç›®ä¸­çš„ symbol åç§°ä¸€è‡´ï¼‰ï¼š\n_config.butterfly.yamlmenu:  é¦–é¡µ: / || icon-home  æ–‡ç«  || icon-article:    æ—¶é—´è½´: /archives/ || icon-timeline    æ ‡ç­¾: /tags/ || icon-tag  æ”¶è— || icon-favorite:    æ¨è: /link/ || icon-recommend  ç•™è¨€æ¿: /comments/ || icon-email\n\né€šè¿‡ä»¥ä¸Šçš„ä¸€ç³»åˆ—é…ç½®ä¸é­”æ”¹ï¼Œæˆ‘ä»¬æˆåŠŸå°† Hexo åšå®¢æ‰“é€ æˆäº†ä¸€ä¸ªé›†ç¾è§‚ã€äº¤äº’ä¸æŠ€æœ¯å±•ç¤ºäºä¸€ä½“çš„ä¸ªæ€§åŒ–ç«™ç‚¹ã€‚å¸Œæœ›è¿™äº›è®°å½•èƒ½ä¸ºä½ çš„åšå®¢æŠ˜è…¾ä¹‹è·¯æä¾›çµæ„Ÿï¼\n","categories":["åˆ›æ„å·¥åŠ","å»ºç«™æ—¥å¿—"],"tags":["Hexo","Butterfly","é­”æ”¹"]}]