[{"title":"Oracle Cloud å®ä¾‹ç½‘ç»œé…ç½®å…¨è§£ï¼šé˜²ç«å¢™æ”¾è¡Œã€IPTables æ¸…ç©ºä¸ Root ç™»å½•","url":"/posts/6128b66c.html","content":"åœ¨ä½¿ç”¨ Oracle Cloud (ç”²éª¨æ–‡äº‘) çš„ Ubuntu å®ä¾‹æ—¶ï¼Œæ–°æ‰‹å¸¸é‡åˆ°çš„æœ€å¤§çš„å‘å°±æ˜¯ â€œåŒé‡é˜²ç«å¢™â€ï¼š\n\näº‘ç«¯é˜²ç«å¢™ï¼šOCI æ§åˆ¶å°çš„å®‰å…¨åˆ—è¡¨ (Security Lists)ã€‚\nç³»ç»Ÿé˜²ç«å¢™ï¼šLinux ç³»ç»Ÿå†…éƒ¨çš„ Netfilter/IPTablesã€‚\n\nåªæœ‰ä¸¤å±‚é˜²ç«å¢™éƒ½æ”¾è¡Œï¼Œå¤–éƒ¨æµé‡æ‰èƒ½çœŸæ­£åˆ°è¾¾ä½ çš„æœåŠ¡ã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€ç«™å¼æ‰“é€šç½‘ç»œé…ç½®ã€‚\n\nç¬¬ä¸€å±‚ï¼šäº‘ç«¯é˜²ç«å¢™ (Security Lists)è¿™æ˜¯ Oracle è®¾å®šçš„ç¬¬ä¸€é“å…³å¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæ”¾è¡Œäº† SSH (22ç«¯å£)ã€‚\né…ç½®æ­¥éª¤\nç™»å½• Oracle æ§åˆ¶å°ï¼Œè¿›å…¥ å®ä¾‹è¯¦æƒ… é¡µé¢ã€‚\nç‚¹å‡» ç½‘ç»œ (Network) é‡Œçš„ å­ç½‘ (Subnet) åç§°çš„é“¾æ¥ã€‚\nåœ¨å­ç½‘è¯¦æƒ…é¡µï¼Œç‚¹å‡» å®‰å…¨ é‡Œçš„ å®‰å…¨åˆ—è¡¨ (Security Lists)ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªé»˜è®¤åˆ—è¡¨ Default Security List for...ã€‚\nåœ¨ å®‰å…¨è§„åˆ™ï¼Œç‚¹å‡» æ·»åŠ å…¥ç«™è§„åˆ™ (Add Ingress Rules)ã€‚\n\næ¨èè§„åˆ™ (æ”¾è¡Œæ‰€æœ‰)å¦‚æœä½ å¸Œæœ›ç”±æœåŠ¡å™¨å†…éƒ¨é˜²ç«å¢™æ¥ç®¡æ‰€æœ‰æµé‡æ§åˆ¶ï¼Œæˆ–è€…ç”¨äºæµ‹è¯•ç¯å¢ƒï¼Œå¯ä»¥æ·»åŠ ä¸€æ¡â€œå…¨æ”¾è¡Œâ€è§„åˆ™ï¼š\n\næº CIDRï¼š0.0.0.0/0 (å…è®¸æ‰€æœ‰ IP)\nIP åè®®ï¼šæ‰€æœ‰åè®®\næºç«¯å£èŒƒå›´ï¼š(ç•™ç©ºï¼Œè¡¨ç¤ºæ‰€æœ‰ç«¯å£)\n\nç¬¬äºŒå±‚ï¼šç³»ç»Ÿé˜²ç«å¢™ (IPTables)Oracle æä¾›çš„ Ubuntu é•œåƒé»˜è®¤å¼€å¯äº†æå…¶ä¸¥æ ¼çš„ iptables è§„åˆ™ã€‚å³ä½¿ä½ åœ¨ç½‘é¡µæ§åˆ¶å°æ”¾è¡Œäº†ç«¯å£ï¼Œç³»ç»Ÿå†…éƒ¨ä¹Ÿä¼šæ‹¦æˆªã€‚\næœ€çœäº‹çš„åšæ³•æ˜¯ï¼šæ¸…ç©ºæ‰€æœ‰è§„åˆ™ï¼Œè®©æœåŠ¡å™¨â€œè£¸å¥”â€ï¼Œå®Œå…¨ç”±äº‘ç«¯å®‰å…¨åˆ—è¡¨æ§åˆ¶ã€‚\n1. æŸ¥çœ‹å½“å‰è§„åˆ™# ç™»å½• rootsudo -iiptables -L -n -v\nä½ ä¼šçœ‹åˆ°å¤§é‡çš„ REJECT è§„åˆ™ï¼Œè¿™å°±æ˜¯å¯¼è‡´ç½‘ç»œä¸é€šçš„å…ƒå‡¶ã€‚\n2. æš´åŠ›æ¸…ç©ºè§„åˆ™æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåˆ é™¤æ‰€æœ‰é“¾å’Œè§„åˆ™ï¼Œå¹¶å°†é»˜è®¤ç­–ç•¥è®¾ç½®ä¸º ACCEPTï¼š\n# 1. è®¾ç½®é»˜è®¤ç­–ç•¥ä¸ºæ¥å— (é˜²æ­¢æ¸…ç©ºè§„åˆ™åæŠŠè‡ªå·±é”åœ¨å¤–é¢)iptables -P INPUT ACCEPTiptables -P FORWARD ACCEPTiptables -P OUTPUT ACCEPT# 2. æ¸…ç©ºæ‰€æœ‰è§„åˆ™ (Flush)iptables -Fiptables -t nat -Fiptables -t mangle -F# 3. åˆ é™¤æ‰€æœ‰è‡ªå®šä¹‰é“¾ (Delete Chain)iptables -Xiptables -t nat -Xiptables -t mangle -X\n3. æŒä¹…åŒ–é…ç½® (å…³é”®æ­¥éª¤)é€šè¿‡å‘½ä»¤ä¿®æ”¹çš„è§„åˆ™åœ¨é‡å¯åä¼šå¤±æ•ˆï¼Œå› ä¸º Oracle é•œåƒå®‰è£…äº† netfilter-persistent å·¥å…·ï¼Œå¼€æœºæ—¶ä¼šè‡ªåŠ¨åŠ è½½ /etc/iptables/rules.v4 ä¸­çš„é»˜è®¤è§„åˆ™ã€‚\næˆ‘ä»¬éœ€è¦å°†å½“å‰â€œæ¸…ç©ºåâ€çš„çŠ¶æ€ä¿å­˜ä¸‹æ¥ï¼š\n# æ¨èæ–¹å¼ï¼šè¦†ç›–ä¿å­˜å½“å‰è§„åˆ™netfilter-persistent save\næˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©ç®€å•ç²—æš´åœ°å¸è½½è¯¥å·¥å…·ï¼ˆä¸æ¨èï¼Œä¸å¤Ÿä¼˜é›…ï¼‰ï¼š\n# æš´åŠ›æ–¹å¼ï¼šå¸è½½æŒä¹…åŒ–å·¥å…·apt purge netfilter-persistentrm -rf /etc/iptables\næœ€åï¼Œæ‰§è¡Œ reboot é‡å¯æœåŠ¡å™¨éªŒè¯è§„åˆ™æ˜¯å¦å›æ»šã€‚\n\nè¿›é˜¶ï¼šå¼€å¯ Root å¯†ç ç™»å½•Oracle é»˜è®¤å¼ºåˆ¶ä½¿ç”¨å¯†é’¥ç™»å½•ä¸”ç¦ç”¨ Rootã€‚ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼ˆå¦‚ä½¿ç”¨ SFTP å®¢æˆ·ç«¯ï¼‰ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå¼€å¯å¯†ç ç™»å½•ã€‚\n1. è®¾ç½® Root å¯†ç ä½¿ç”¨é»˜è®¤ç”¨æˆ·ï¼ˆé€šå¸¸æ˜¯ ubuntuï¼‰ç™»å½•åï¼š\n# åˆ‡æ¢åˆ° root ç¯å¢ƒsudo -i# è®¾ç½®å¯†ç  (éœ€è¾“å…¥ä¸¤æ¬¡ï¼Œæ— å›æ˜¾)passwd\n2. ä¿®æ”¹ SSH é…ç½®ç¼–è¾‘ä¸»é…ç½®æ–‡ä»¶ï¼švim /etc/ssh/sshd_config\næ‰¾åˆ°ä»¥ä¸‹é…ç½®å¹¶ä¿®æ”¹ï¼ˆå¦‚æœæ²¡æœ‰åˆ™æ·»åŠ ï¼‰ï¼š\nPermitRootLogin yes        # å…è®¸ Root ç™»å½•PasswordAuthentication yes # å…è®¸å¯†ç éªŒè¯\n3. å¤„ç†å­é…ç½®æ–‡ä»¶ (é‡è¦å‘ç‚¹)åœ¨ Ubuntu äº‘é•œåƒä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªä¼˜å…ˆçº§æ›´é«˜çš„é…ç½®æ–‡ä»¶ï¼Œå¿…é¡»åŒæ—¶ä¿®æ”¹ï¼š\nvim /etc/ssh/sshd_config.d/60-cloudimg-settings.conf\nå°†é‡Œé¢çš„ no æ”¹ä¸º yesï¼š\nPasswordAuthentication yes\n4. é‡å¯æœåŠ¡systemctl restart ssh\n\né™„å½•ï¼šOracle ç½‘ç»œæœ¯è¯­è§£æåœ¨é…ç½® Oracle ç½‘ç»œæ—¶ï¼Œä½ ç»å¸¸ä¼šçœ‹åˆ°ä»¥ä¸‹ç¼©å†™ï¼Œç†è§£å®ƒä»¬æœ‰åŠ©äºä½ æ„å»ºæ›´å¤æ‚çš„ç½‘ç»œæ¶æ„ã€‚\næ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥ï¼š\n\nOCI (Oracle Cloud Infrastructure)å³ç”²éª¨æ–‡äº‘çš„åŸºç¡€è®¾æ–½å¹³å°ã€‚\n\nVCN (Virtual Cloud Network)è™šæ‹Ÿäº‘ç½‘ç»œã€‚ä½ åœ¨äº‘ä¸Šåˆ’å‡ºçš„ä¸€å—ç§æœ‰ç½‘ç»œåŒºåŸŸï¼Œç±»ä¼¼äºä½ å®¶é‡Œçš„å±€åŸŸç½‘ã€‚\n\nVNIC (Virtual Network Interface Card)è™šæ‹Ÿç½‘å¡ã€‚å®ä¾‹è¿æ¥åˆ° VCN çš„æ¥å£ã€‚\n\nå®ƒå†³å®šäº†å®ä¾‹çš„ ç§æœ‰/å…¬æœ‰ IPã€‚\nä¸€ä¸ªå®ä¾‹å¯ä»¥ç»‘å®šå¤šä¸ª VNICï¼ˆå¤šç½‘å¡ï¼‰ã€‚\n\n\nSecurity List (å®‰å…¨åˆ—è¡¨)å­ç½‘çº§åˆ«çš„é˜²ç«å¢™ã€‚ä½œç”¨äºå­ç½‘å†…çš„æ‰€æœ‰ç½‘å¡ï¼Œé€šå¸¸ç”¨äºè®¾ç½®é€šç”¨çš„è§„åˆ™ï¼ˆå¦‚å…¨æ”¾è¡Œ SSHï¼‰ã€‚\n\nNSG (Network Security Groups)ç½‘å¡çº§åˆ«çš„é˜²ç«å¢™ã€‚æ¯”å®‰å…¨åˆ—è¡¨æ›´çµæ´»ï¼Œå¯ä»¥ç›´æ¥ç»‘å®šåˆ°æŸä¸ªå…·ä½“çš„ VNIC ä¸Šï¼Œä»…å¯¹è¯¥å®ä¾‹ç”Ÿæ•ˆã€‚\n\n\n\næµé‡æ§åˆ¶å±‚çº§å…³ç³»ï¼š\nå®ä¾‹ (Instance)  â””â”€â”€ VNIC (è™šæ‹Ÿç½‘å¡)       â”œâ”€â”€ ç»‘å®š NSG (ç½‘ç»œå®‰å…¨ç»„) [å¯é€‰ï¼Œé’ˆå¯¹å•æœº]       â””â”€â”€ å½’å± Subnet (å­ç½‘)             â””â”€â”€ å— Security List (å®‰å…¨åˆ—è¡¨) æ§åˆ¶ [é’ˆå¯¹æ•´ä¸ªå­ç½‘]","categories":["å¼€å‘ç¯å¢ƒ","Oracle Cloud"],"tags":["Oracle","è¿ç»´","äº‘æœåŠ¡å™¨"]},{"title":"Oracle Cloud å®ä¾‹é‡è£…ç³»ç»Ÿï¼šåˆ©ç”¨æ›¿æ¢å¼•å¯¼å· (Replace Boot Volume) å®ç°ç³»ç»Ÿé‡ç½®","url":"/posts/e62f764.html","content":"ä¸ AWS æˆ–ä¸€èˆ¬çš„ VPS æä¾›å•†ä¸åŒï¼ŒOracle Cloud (OCI) çš„æ§åˆ¶å°ä¸­å¹¶æ²¡æœ‰ä¸€ä¸ªæ˜¾çœ¼çš„â€œé‡è£…ç³»ç»Ÿâ€æŒ‰é’®ã€‚\nå¦‚æœæˆ‘ä»¬æŠŠç³»ç»Ÿç©åäº†ï¼Œæˆ–è€…æƒ³æ›´æ¢ç³»ç»Ÿç‰ˆæœ¬ï¼ˆä¾‹å¦‚ä» Ubuntu 20.04 å‡çº§åˆ° 22.04ï¼‰ï¼Œæœ€ä¼˜é›…çš„æ–¹æ³•ä¸æ˜¯åˆ é™¤å®ä¾‹é‡å»ºï¼ˆå¯èƒ½ä¼šä¸¢ IPï¼‰ï¼Œè€Œæ˜¯ä½¿ç”¨ â€œæ›¿æ¢å¼•å¯¼å·â€ (Replace Boot Volume) åŠŸèƒ½ã€‚\nç¬¬ä¸€æ­¥ï¼šè·å–ç›®æ ‡ç³»ç»Ÿçš„æ˜ åƒ OCIDåœ¨å¼€å§‹æ“ä½œå‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è¦å®‰è£…ä»€ä¹ˆç³»ç»Ÿã€‚OCI ä½¿ç”¨ OCID (Oracle Cloud Identifier) æ¥æ ‡è¯†æ¯ä¸€ä¸ªå®˜æ–¹é•œåƒã€‚\næˆ‘ä»¬éœ€è¦è·å–ç›®æ ‡ç³»ç»Ÿçš„ OCIDï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼ï¼š\næ–¹å¼ä¸€ï¼šä½¿ç”¨å½“å‰å®ä¾‹åŒæ¬¾é•œåƒï¼ˆæœ€ç®€å•ï¼‰å¦‚æœä½ åªæ˜¯æƒ³æŠŠå½“å‰çš„ç³»ç»Ÿâ€œæ¢å¤å‡ºå‚è®¾ç½®â€ï¼Œä¾æ—§ä½¿ç”¨ä¹‹å‰çš„ç³»ç»Ÿç‰ˆæœ¬ï¼š\n\nåœ¨å®ä¾‹çš„ è¯¦ç»†ä¿¡æ¯ (Instance Details) é¡µé¢ã€‚\næ‰¾åˆ° æ˜ åƒè¯¦ç»†ä¿¡æ¯ (Image) éƒ¨åˆ†ã€‚\nç‚¹å‡» æ˜ åƒåç§° é“¾æ¥ï¼Œè¿›å…¥è¯¦æƒ…é¡µã€‚\nå¤åˆ¶ OCID å¤‡ç”¨ã€‚\n\næ–¹å¼äºŒï¼šæŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼ˆæ›´æ¢ç‰ˆæœ¬ï¼‰å¦‚æœä½ æƒ³æ›´æ¢ç³»ç»Ÿç‰ˆæœ¬ï¼ˆä¾‹å¦‚å®‰è£…æœ€æ–°çš„ Ubuntu 24.04ï¼‰ï¼Œéœ€è¦å»å®˜æ–¹æ–‡æ¡£æŸ¥æ‰¾ã€‚\n\nå®˜æ–¹é•œåƒåˆ—è¡¨ï¼šhttps://docs.oracle.com/en-us/iaas/images/\n\nâš ï¸ å…³é”®æ³¨æ„ç‚¹ï¼š\n\nåŒºåŸŸ (Region)ï¼šå¿…é¡»é€‰æ‹©ä½ å®ä¾‹æ‰€åœ¨çš„åŒºåŸŸï¼ˆå¦‚ Japan East (Osaka) æˆ– US West (Phoenix)ï¼‰ã€‚\næ¶æ„ (Architecture)ï¼š\nå¦‚æœæ˜¯ AMD å…è´¹æœºï¼Œæ‰¾ x86_64 æ¶æ„çš„ OCIDã€‚\nå¦‚æœæ˜¯ ARM (4H24G) æœºå™¨ï¼Œå¿…é¡»æ‰¾ aarch64 æ¶æ„çš„ OCIDã€‚\n\n\n\nå¤åˆ¶å¯¹åº”æ¡ç›®çš„ OCIDï¼Œæ ¼å¼é€šå¸¸ä¸º ocid1.image.oc1.ap-osaka-1.xxxx...ã€‚\n\nç¬¬äºŒæ­¥ï¼šæ‰§è¡Œæ›¿æ¢å¼•å¯¼å·æ‹¿åˆ° OCID åï¼Œå°±å¯ä»¥å¼€å§‹â€œé‡è£…â€äº†ã€‚\né«˜èƒ½é¢„è­¦ï¼šæ­¤æ“ä½œä¼šé”€æ¯å¹¶åˆ é™¤å½“å‰çš„å¼•å¯¼å·ï¼ˆç³»ç»Ÿç›˜ï¼‰ã€‚è¯·åŠ¡å¿…å¤‡ä»½æ—§ç³»ç»Ÿç›˜å†…çš„é‡è¦æ•°æ®ï¼æ­¤æ“ä½œä¸ä¼šæ”¹å˜å®ä¾‹çš„å…¬ç½‘ IP åœ°å€ã€‚\n\n\nç™»å½• Oracle æ§åˆ¶å°ï¼Œè¿›å…¥å®ä¾‹è¯¦æƒ…é¡µé¢ã€‚\nåœ¨ä¸Šæ–¹èœå•ç‚¹å‡» å­˜å‚¨ (Storage) -&gt; å¼•å¯¼å· (Boot volume)ã€‚\nç‚¹å‡» æ›¿æ¢å¼•å¯¼å· (Replace Boot Volume) æŒ‰é’®ã€‚\nåœ¨å¼¹å‡ºçš„é…ç½®çª—å£ä¸­å¡«å†™ä¿¡æ¯ï¼š\næ›¿æ¢æ–¹å¼ï¼šé€‰æ‹© æ˜ åƒ (Image)ã€‚\næ˜ åƒåº”ç”¨æ–¹å¼ï¼šé€‰æ‹© è¾“å…¥ OCID (Enter image OCID)ã€‚\né•œåƒ OCIDï¼šç²˜è´´ç¬¬ä¸€æ­¥ä¸­è·å–çš„å­—ç¬¦ä¸²ã€‚\nå¼•å¯¼å·å¤§å°ï¼šè¾“å…¥ 50 - 200 GBï¼ˆé»˜è®¤å…è´¹é¢åº¦æ€»å…± 200Gï¼Œé€šå¸¸å¡« 50 æˆ– 100ï¼‰ã€‚\n\n\nç‚¹å‡» æ›¿æ¢ (Replace)ã€‚\n\nç¬¬ä¸‰æ­¥ï¼šç­‰å¾…ä¸è¿æ¥æäº¤åï¼Œå®ä¾‹çš„çŠ¶æ€ä¼šå˜ä¸º Stoppingï¼ˆåœæ­¢ä¸­ï¼‰ï¼Œç„¶åæ˜¯ Provisioningï¼ˆé…ç½®ä¸­ï¼‰ï¼Œæœ€åå˜å› Runningï¼ˆè¿è¡Œä¸­ï¼‰ã€‚\næ•´ä¸ªè¿‡ç¨‹å¤§çº¦éœ€è¦ 5-10 åˆ†é’Ÿã€‚\nå¾…çŠ¶æ€å˜ç»¿åï¼Œä½¿ç”¨ SSH å®¢æˆ·ç«¯é‡æ–°è¿æ¥ï¼š\n\nIP åœ°å€ï¼šä¿æŒä¸å˜ã€‚\nç”¨æˆ·åï¼šæ ¹æ®ç³»ç»Ÿè€Œå®šï¼ˆUbuntu é•œåƒé»˜è®¤ä¸º ubuntuï¼ŒOracle Linux é»˜è®¤ä¸º opcï¼‰ã€‚\nå¯†é’¥ï¼šä½¿ç”¨ä½ åŸæœ¬çš„ç§é’¥ï¼ˆæˆ–ä½ åˆšæ‰ä¸Šä¼ çš„æ–°ç§é’¥ï¼‰ã€‚\n\nssh -i &#x27;ä½ çš„ç§é’¥æ–‡ä»¶&#x27; ubuntu@ä½ çš„å…¬ç½‘IP\nå¦‚æœè¿æ¥æˆåŠŸï¼Œæ­å–œä½ ï¼Œç³»ç»Ÿé‡è£…å®Œæˆï¼\n","categories":["å¼€å‘ç¯å¢ƒ","Oracle Cloud"],"tags":["Oracle","äº‘æœåŠ¡å™¨"]},{"title":"Ubuntu ç³»ç»Ÿ Docker å®‰è£…å…¨æŒ‡å—ï¼šå®˜æ–¹æºä¸å›½å†…é•œåƒåŠ é€Ÿ","url":"/posts/3c32210.html","content":"æœ¬æ–‡å°†æŒ‡å¯¼ä½ åœ¨ Ubuntu ä¸Šå®‰è£… Docker Engineã€‚å®‰è£…è¿‡ç¨‹æ¶µç›–äº†ä»æ¸…ç†æ—§ç‰ˆæœ¬åˆ°é…ç½®å›½å†…åŠ é€Ÿæºçš„å®Œæ•´ç”Ÿäº§çº§å®è·µã€‚\n\nå‚è€ƒæ–‡æ¡£ï¼šDocker Official Docs\n\nä¸€ã€ç¯å¢ƒæ¸…ç†ä¸ºäº†é˜²æ­¢ç‰ˆæœ¬å†²çªï¼Œé¦–å…ˆå¸è½½ç³»ç»Ÿä¸­å¯èƒ½å­˜åœ¨çš„æ—§ç‰ˆæœ¬ Dockerï¼ˆå¦‚ docker.io æˆ– docker-engineï¼‰ã€‚\nsudo apt remove $(dpkg --get-selections docker.io docker-compose docker-compose-v2 docker-doc podman-docker containerd runc | cut -f1)\näºŒã€é…ç½®è½¯ä»¶æº (Repository)1. å®‰è£…åŸºç¡€å·¥å…·sudo apt updatesudo apt install ca-certificates curl\n2. æ·»åŠ  GPG å¯†é’¥åˆ›å»ºå¯†é’¥ç›®å½•å¹¶ä¸‹è½½ Docker å®˜æ–¹å¯†é’¥ã€‚\næç¤ºï¼šå¦‚æœä½ ä½äºå›½å†…æœåŠ¡å™¨ï¼Œè¿æ¥ download.docker.com å¯èƒ½ä¼šè¶…æ—¶ã€‚æ¨èä½¿ç”¨é˜¿é‡Œäº‘é•œåƒæºï¼Œè¯·å°†ä¸‹æ–¹çš„ URL æ›¿æ¢ä¸º http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg\n\n# åˆ›å»ºå¯†é’¥ç›®å½•sudo install -m 0755 -d /etc/apt/keyrings# ä¸‹è½½å®˜æ–¹ GPG å¯†é’¥sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc# ä¿®æ”¹å¯†é’¥æƒé™sudo chmod a+r /etc/apt/keyrings/docker.asc\n3. æ·»åŠ  APT æºæ ¹æ®ä½ çš„ Ubuntu ç‰ˆæœ¬ï¼Œé€‰æ‹©å¯¹åº”çš„æºæ ¼å¼ã€‚\næ³¨æ„ï¼šUbuntu 24.04 LTS (Noble Numbat) å¼€å§‹ï¼ŒAPT å»ºè®®ä½¿ç”¨ DEB822 æ ¼å¼çš„ .sources æ–‡ä»¶ï¼Œè€Œéä¼ ç»Ÿçš„ .list æ–‡ä»¶ã€‚\n\næ–¹æ¡ˆ Aï¼šUbuntu 24.04 åŠæ›´é«˜ç‰ˆæœ¬ (.sources)echo &quot;Types: debURIs: https://download.docker.com/linux/ubuntuSuites: $(. /etc/os-release &amp;&amp; echo &quot;$&#123;UBUNTU_CODENAME:-$VERSION_CODENAME&#125;&quot;)Components: stableArchitectures: $(dpkg --print-architecture)Signed-By: /etc/apt/keyrings/docker.asc&quot; | \\  sudo tee /etc/apt/sources.list.d/docker.sources &gt; /dev/null\næ–¹æ¡ˆ Bï¼šUbuntu 23.10 åŠæ›´ä½ç‰ˆæœ¬ (.list)echo \\  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\  $(. /etc/os-release &amp;&amp; echo &quot;$&#123;UBUNTU_CODENAME:-$VERSION_CODENAME&#125;&quot;) stable&quot; | \\  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\næ·»åŠ å®Œæˆåï¼ŒåŠ¡å¿…æ›´æ–°ç´¢å¼•ï¼š\nsudo apt update\nä¸‰ã€å®‰è£… Docker Engineå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Docker Engineã€CLIã€Containerd ä»¥åŠ Docker Compose æ’ä»¶ï¼š\nsudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\néªŒè¯å®‰è£…ç‰ˆæœ¬ï¼š\ndocker --versiondocker compose version\nå››ã€å®‰è£…åé…ç½® (å…³é”®æ­¥éª¤)1. å… Sudo æ‰§è¡Œ (é Root ç”¨æˆ·)é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿è¡Œ docker å‘½ä»¤éœ€è¦ sudo æƒé™ã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œå»ºè®®å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç”¨æˆ·ç»„ã€‚\n# 1. åˆ›å»º docker ç»„ (é€šå¸¸å®‰è£…æ—¶å·²è‡ªåŠ¨åˆ›å»º)sudo groupadd docker# 2. å°†å½“å‰ç”¨æˆ·åŠ å…¥ç»„sudo usermod -aG docker $USER# 3. æ¿€æ´»æ›´æ”¹ (æˆ–è€…é€€å‡ºç»ˆç«¯é‡æ–°ç™»å½•)newgrp docker\nç°åœ¨ä½ å¯ä»¥ç›´æ¥è¿è¡Œ docker ps è€Œæ— éœ€è¾“å…¥å¯†ç äº†ã€‚\n2. é…ç½®é•œåƒåŠ é€Ÿå™¨å›½å†…æ‹‰å– Docker Hub é•œåƒéå¸¸æ…¢ï¼Œå»ºè®®é…ç½® Registry Mirrorsã€‚\nç¼–è¾‘æˆ–åˆ›å»º /etc/docker/daemon.jsonï¼š\nsudo vim /etc/docker/daemon.json\nç™»å½• é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡æ§åˆ¶å°ï¼Œåœ¨å·¦ä¾§èœå•æ‰¾åˆ° é•œåƒå·¥å…· - é•œåƒåŠ é€Ÿå™¨ã€‚\nå¤åˆ¶ä¸“å±çš„åŠ é€Ÿå™¨åœ°å€ï¼ˆæ ¼å¼é€šå¸¸ä¸º https://xxxx.mirror.aliyuncs.comï¼‰ã€‚\ndaemon.json&#123;  &quot;registry-mirrors&quot;: [    &quot;https://ä½ çš„ä¸“å±ID.mirror.aliyuncs.com&quot;  ]&#125;\né‡å¯ Docker æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆï¼š\nsudo systemctl daemon-reloadsudo systemctl restart docker\näº”ã€éªŒè¯å®‰è£…è¿è¡Œ Hello World å®¹å™¨æ¥éªŒè¯ä¸€åˆ‡æ˜¯å¦æ­£å¸¸ï¼š\ndocker run hello-world\nå¦‚æœçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼š\nHello from Docker!This message shows that your installation appears to be working correctly....\nå…­ã€å¸è½½ Dockerå¦‚æœéœ€è¦å½»åº•ç§»é™¤ Dockerï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n# 1. å¸è½½ä¾èµ–åŒ…sudo apt purge docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras# 2. åˆ é™¤é•œåƒã€å®¹å™¨å’Œæ•°æ®å· (æ…é‡ï¼)sudo rm -rf /var/lib/dockersudo rm -rf /var/lib/containerd# 3. åˆ é™¤é…ç½®æ–‡ä»¶å’Œå¯†é’¥sudo rm /etc/apt/sources.list.d/docker.listsudo rm /etc/apt/sources.list.d/docker.sourcessudo rm /etc/apt/keyrings/docker.asc","categories":["å¼€å‘ç¯å¢ƒ","Ubuntu"],"tags":["Docker"]},{"title":"Ubuntu ç³»ç»Ÿå®‰è£… JDK å…¨æŒ‡å—ï¼šOpenJDK ä¸ Oracle JDK åŒæ–¹æ¡ˆ","url":"/posts/3c893d60.html","content":"åœ¨ Ubuntu æœåŠ¡å™¨ä¸Šéƒ¨ç½² Java ç¯å¢ƒé€šå¸¸æœ‰ä¸¤ç§æ–¹å¼ï¼š\n\nåŒ…ç®¡ç†å™¨å®‰è£… (apt)ï¼šæœ€ç®€å•ï¼Œé€šå¸¸å®‰è£…çš„æ˜¯ OpenJDKï¼Œé€‚åˆå¤§å¤šæ•°å¼€æºé¡¹ç›®ã€‚\næ‰‹åŠ¨å®‰è£…ï¼šé€‚åˆéœ€è¦ç‰¹å®šç‰ˆæœ¬ï¼ˆå¦‚ Oracle JDKï¼‰æˆ–éœ€ç²¾ç¡®æ§åˆ¶å®‰è£…è·¯å¾„çš„åœºæ™¯ã€‚\n\n\næ–¹æ¡ˆä¸€ï¼šé€šè¿‡ apt è‡ªåŠ¨å®‰è£… (æ¨è)è¿™æ˜¯æœ€å¿«æ·çš„æ–¹å¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ä¾èµ–å’Œç¯å¢ƒå˜é‡ã€‚ä»¥å®‰è£… JDK 8 ä¸ºä¾‹ï¼š\n1. å®‰è£…ä¸éªŒè¯# 1. æ›´æ–°è½¯ä»¶æºsudo apt update# 2. å®‰è£… OpenJDK 8sudo apt install openjdk-8-jdk# 3. éªŒè¯å®‰è£…java -version\n2. ç®¡ç†å¤šä¸ª Java ç‰ˆæœ¬å¦‚æœä½ çš„ç³»ç»ŸåŒæ—¶å®‰è£…äº† JDK 8ã€JDK 11 å’Œ JDK 17ï¼Œå¯ä»¥ä½¿ç”¨ update-alternatives å‘½ä»¤åœ¨ä¸åŒç‰ˆæœ¬é—´å¿«é€Ÿåˆ‡æ¢ã€‚\nsudo update-alternatives --config java\næ‰§è¡Œåä¼šå‡ºç°ä¸€ä¸ªåˆ—è¡¨ï¼Œè¾“å…¥å¯¹åº”çš„ Selection ç¼–å·å¹¶å›è½¦ï¼Œå³å¯åˆ‡æ¢ç³»ç»Ÿé»˜è®¤çš„ Java ç‰ˆæœ¬ã€‚\næ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨è§£å‹å®‰è£… (Oracle JDK)å¦‚æœä½ éœ€è¦ä½¿ç”¨ Oracle å®˜æ–¹ç‰ˆæœ¬ï¼Œæˆ–è€…éœ€è¦å°† JDK å®‰è£…åˆ°æŒ‡å®šç›®å½•ï¼Œè¯·ä½¿ç”¨æ­¤æ–¹æ³•ã€‚\n1. ä¸‹è½½å®‰è£…åŒ…è¯·å‰å¾€ Oracle å®˜ç½‘ä¸‹è½½å¯¹åº”æ¶æ„ï¼ˆx64 æˆ– aarch64ï¼‰çš„ .tar.gz åŒ…ï¼š\n\nJDK 8 ä¸‹è½½ | JDK 17 ä¸‹è½½ | JDK 21 ä¸‹è½½\n\n2. è§£å‹éƒ¨ç½²å»ºè®®å°†ç¬¬ä¸‰æ–¹è½¯ä»¶ç»Ÿä¸€å®‰è£…åœ¨ /usr/local/java ç›®å½•ä¸‹ã€‚\n# 1. åˆ›å»ºç›®å½•cd /usr/localsudo mkdir -p java# 2. å®‰è£…åŒ…å‡†å¤‡# è¯·ä½¿ç”¨ FTP/SFTP å·¥å…·å°†ä¸‹è½½å¥½çš„ tar.gz åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨# æˆ–è€… wget å‘½ä»¤ç›´æ¥ä¸‹è½½# 3. è§£å‹åˆ°æŒ‡å®šç›®å½• (æ³¨æ„æ›¿æ¢å…·ä½“çš„æ–‡ä»¶å)# -C å‚æ•°æŒ‡å®šè§£å‹çš„ç›®æ ‡è·¯å¾„sudo tar -zxvf jdk-8u471-linux-x64.tar.gz -C /usr/local/java/# 4. éªŒè¯è§£å‹æ˜¯å¦æˆåŠŸ# æ³¨æ„ï¼šè¿™é‡Œçš„ç›®å½•å jdk1.8.0_471 è§†ä½ ä¸‹è½½çš„å…·ä½“ç‰ˆæœ¬è€Œå®š/usr/local/java/jdk1.8.0_471/bin/java -version\n3. é…ç½®ç¯å¢ƒå˜é‡ä¸ºäº†åœ¨ä»»ä½•ç›®å½•ä¸‹éƒ½èƒ½ä½¿ç”¨ java å‘½ä»¤ï¼Œéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ã€‚\nç¼–è¾‘ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶ /etc/profileï¼ˆå¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰ï¼š\nsudo vim /etc/profile\nåœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ä»¥ä¸‹å†…å®¹ï¼ˆæ³¨æ„ä¿®æ”¹ JAVA_HOME ä¸ºä½ å®é™…çš„è§£å‹è·¯å¾„ï¼‰ï¼š\n# Java Environment Configexport JAVA_HOME=/usr/local/java/jdk1.8.0_471export JRE_HOME=$JAVA_HOME/jreexport CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/libexport PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin\n4. é‡æ–°åŠ è½½é…ç½®ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œéœ€è¦å¼ºåˆ¶é‡è½½æ‰èƒ½ç«‹å³ç”Ÿæ•ˆï¼š\nsource /etc/profile# å†æ¬¡éªŒè¯java -version\n\nè¡¥å……ï¼šLinux é…ç½®æ–‡ä»¶åŠ è½½é¡ºåºç†è§£é…ç½®æ–‡ä»¶çš„åŠ è½½é¡ºåºï¼Œæœ‰åŠ©äºä½ å†³å®šå°†ç¯å¢ƒå˜é‡å†™åœ¨å“ªé‡Œã€‚\n\n/etc/profile\n\nçº§åˆ«ï¼šç³»ç»Ÿå…¨å±€\nç”Ÿæ•ˆæ—¶æœºï¼šç”¨æˆ·ç™»å½•æ—¶åŠ è½½ã€‚\nå»ºè®®ï¼šç”Ÿäº§æœåŠ¡å™¨é€šå¸¸åœ¨æ­¤é…ç½® JAVA_HOMEï¼Œç¡®ä¿æ‰€æœ‰ç”¨æˆ·å¯ç”¨ã€‚\n\n\n~/.bashrc\n\nçº§åˆ«ï¼šå½“å‰ç”¨æˆ·\nç”Ÿæ•ˆæ—¶æœºï¼šæ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼ˆShellï¼‰æ—¶åŠ è½½ã€‚\nå»ºè®®ï¼šå¼€å‘æµ‹è¯•ç¯å¢ƒæˆ–ä»…å½“å‰ç”¨æˆ·ä½¿ç”¨æ—¶ï¼Œæ¨èä¿®æ”¹æ­¤æ–‡ä»¶ï¼Œé¿å…æ±¡æŸ“å…¨å±€ç¯å¢ƒã€‚\n\n\n/etc/bash.bashrc\n\nçº§åˆ«ï¼šç³»ç»Ÿå…¨å±€\nç”Ÿæ•ˆæ—¶æœºï¼šäº¤äº’å¼ Shell å¯åŠ¨æ—¶åŠ è½½ã€‚\n\n\n\n\næœ€ä½³å®è·µï¼š\n\nå¦‚æœæ˜¯æœåŠ¡å™¨éƒ¨ç½²åº”ç”¨ï¼Œå»ºè®®ä¿®æ”¹ /etc/profileã€‚\nå¦‚æœæ˜¯ä¸ªäººå¼€å‘æœºï¼Œå»ºè®®ä¿®æ”¹ ~/.bashrcã€‚\n\n\n","categories":["å¼€å‘ç¯å¢ƒ","Ubuntu"],"tags":["JDK"]},{"title":"Ubuntu ç³»ç»Ÿè¿ç»´æ‰‹å†Œï¼šå¸¸ç”¨å‘½ä»¤ä¸é…ç½®é€ŸæŸ¥","url":"/posts/428aa18f.html","content":"Ubuntu æ˜¯ç›®å‰æœ€æµè¡Œçš„ Linux æœåŠ¡å™¨å‘è¡Œç‰ˆä¹‹ä¸€ã€‚ç†Ÿç»ƒæŒæ¡å…¶å¸¸ç”¨å‘½ä»¤ä¸é…ç½®ï¼Œæ˜¯è¿ç»´ä¸å¼€å‘çš„å¿…å¤‡æŠ€èƒ½ã€‚\nUbuntu ç‰ˆæœ¬ä»£å·é€ŸæŸ¥\n\n\n\nç‰ˆæœ¬å·\nä»£å·\nçŠ¶æ€\nè¯´æ˜\n\n\n\n\n18.04 LTS\nBionic Beaver\nâš ï¸ åœæ­¢ç»´æŠ¤\nå·²äº 2023 å¹´åœæ­¢å…è´¹æ”¯æŒ\n\n\n20.04 LTS\nFocal Fossa\nâœ… æ´»è·ƒ\né•¿æœŸæ”¯æŒè‡³ 2025 å¹´ 4 æœˆ\n\n\n22.04 LTS\nJammy Jellyfish\nâœ… æ´»è·ƒ\né•¿æœŸæ”¯æŒè‡³ 2027 å¹´ 4 æœˆ\n\n\n24.04 LTS\nNoble Numbat\nğŸš€ æœ€æ–°\né•¿æœŸæ”¯æŒè‡³ 2029 å¹´ 4 æœˆ\n\n\n\n\nä¸€ã€SSH è¿œç¨‹è¿æ¥é…ç½®æ–°è£…çš„ Ubuntu æœåŠ¡å™¨é€šå¸¸é»˜è®¤æœªå¼€å¯ SSH å¯†ç ç™»å½•ï¼Œç”šè‡³æœªå®‰è£… SSH æœåŠ¡ã€‚\n1. å®‰è£… SSH æœåŠ¡sudo apt updatesudo apt install openssh-server -ysudo systemctl status ssh  # æ£€æŸ¥è¿è¡ŒçŠ¶æ€\n2. é…ç½® SSH è®¿é—®æƒé™ç¼–è¾‘é…ç½®æ–‡ä»¶ /etc/ssh/sshd_configï¼š\nsudo vim /etc/ssh/sshd_config\nä¿®æ”¹æˆ–ç¡®è®¤ä»¥ä¸‹æ ¸å¿ƒé…ç½®ï¼š\nsshd_config# å…è®¸å¯†ç éªŒè¯ç™»å½•PasswordAuthentication yes# å…è®¸ root ç”¨æˆ·ç›´æ¥ç™»å½•ï¼ˆç”Ÿäº§ç¯å¢ƒå»ºè®®æ”¹ä¸º noï¼Œä»…ç”¨æ™®é€šç”¨æˆ· sudoï¼‰PermitRootLogin yes\né‡å¯æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆï¼š\nsudo systemctl restart ssh\n3. é˜²ç«å¢™æ”¾è¡Œ (UFW)å¦‚æœå¼€å¯äº† ufw é˜²ç«å¢™ï¼Œå¿…é¡»æ”¾è¡Œ SSH ç«¯å£ï¼ˆé»˜è®¤ 22ï¼‰ï¼š\nsudo ufw allow ssh     # æˆ– sudo ufw allow 22/tcpsudo ufw enable        # å¼€å¯é˜²ç«å¢™ï¼Œdisable ç¦ç”¨é˜²ç«å¢™sudo ufw status        # æŸ¥çœ‹çŠ¶æ€\näºŒã€APT è½¯ä»¶æºé…ç½® (å›½å†…åŠ é€Ÿ)é»˜è®¤çš„å®˜æ–¹æºåœ¨å›½å†…è®¿é—®è¾ƒæ…¢ï¼Œå»ºè®®æ›¿æ¢ä¸ºé˜¿é‡Œäº‘ã€æ¸…åå¤§å­¦ç­‰é•œåƒæºã€‚\nåœºæ™¯ Aï¼šUbuntu 23.10 åŠä¹‹å‰çš„ç‰ˆæœ¬ (ä¼ ç»Ÿæ ¼å¼)ç¼–è¾‘ /etc/apt/sources.listï¼Œå°†å†…å®¹æ›¿æ¢ä¸ºï¼ˆä»¥ 20.04 focal ä¸ºä¾‹ï¼‰ï¼š\nsources.listdeb https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiversedeb https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiversedeb https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiversedeb https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiversedeb https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse\n\næ³¨æ„ï¼šéœ€å°† focal æ›¿æ¢ä¸ºä½ å½“å‰ç³»ç»Ÿçš„ä»£å·ï¼ˆå¦‚ jammyï¼‰ã€‚\n\nåœºæ™¯ Bï¼šUbuntu 24.04 LTS (æ–°ç‰ˆ DEB822 æ ¼å¼)ä» 24.04 å¼€å§‹ï¼Œæºé…ç½®ç§»è‡³ /etc/apt/sources.list.d/ubuntu.sourcesã€‚\n\nå¤‡ä»½åŸæ–‡ä»¶ï¼š\nsudo mv /etc/apt/sources.list.d/ubuntu.sources /etc/apt/sources.list.d/ubuntu.sources.bak\n\næ–°å»ºé…ç½® /etc/apt/sources.list.d/aliyun.sourcesï¼š\naliyun.sourcesTypes: debURIs: https://mirrors.aliyun.com/ubuntu/Suites: noble noble-security noble-updates noble-proposed noble-backportsComponents: main restricted universe multiverseSigned-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg\n\n\næœ€åï¼Œåˆ‡è®°æ›´æ–°ç¼“å­˜ï¼š\nsudo apt update\nä¸‰ã€ç”¨æˆ·ä¸æƒé™ç®¡ç†1. åŸºç¡€æ“ä½œwhoami                  # æŸ¥çœ‹å½“å‰ç”¨æˆ·id                      # æŸ¥çœ‹å½“å‰ç”¨æˆ·IDå’Œç»„ä¿¡æ¯su - ubuntu             # åˆ‡æ¢åˆ°æŒ‡å®šç”¨æˆ·sudo -i                 # ä½¿ç”¨ sudo æƒé™åˆ‡æ¢åˆ° root ç¯å¢ƒpasswd                  # ä¿®æ”¹å½“å‰ç”¨æˆ·å¯†ç \n2. ç”¨æˆ·å¢åˆ  (æ¨èä½¿ç”¨ adduser)# æ–°å¢ç”¨æˆ· (è‡ªåŠ¨åˆ›å»ºå®¶ç›®å½•ã€è®¾ç½® Shell)sudo adduser testuser# åˆ é™¤ç”¨æˆ· (å»ºè®®ä¿ç•™å®¶ç›®å½•ï¼Œè‹¥éœ€å½»åº•åˆ é™¤åŠ  --remove-home --remove-all-files)sudo deluser testuser\n3. Sudo ææƒå°†æ™®é€šç”¨æˆ·åŠ å…¥ sudo ç»„ï¼Œä½¿å…¶å…·å¤‡ç®¡ç†å‘˜æƒé™ï¼š\nsudo usermod -aG sudo testuser# å¯¹åº”çš„ç§»é™¤å‘½ä»¤ï¼ˆéœ€è¦è°¨æ…ä½¿ç”¨ï¼Œç§»é™¤åè‡ªèº«æ²¡æƒé™ææƒï¼‰sudo gpasswd -d testuser sudo\næˆ–è€…ç¼–è¾‘ /etc/sudoers æ–‡ä»¶ï¼ˆéœ€ä½¿ç”¨ sudo vi å‘½ä»¤å®‰å…¨ç¼–è¾‘ï¼‰ï¼Œæ·»åŠ ï¼štestuser ALL=(ALL:ALL) ALL\nå››ã€ç³»ç»Ÿè®¾ç½®ä¸ç›‘æ§1. æ—¶åŒºè®¾ç½®timedatectl set-timezone Asia/Shanghai  # è®¾ç½®ä¸ºä¸­å›½æ ‡å‡†æ—¶é—´timedatectl                             # æŸ¥çœ‹å½“å‰æ—¶é—´ä¸æ—¶åŒº\n2. ç£ç›˜ä¸èµ„æºç›‘æ§df -h                   # æŸ¥çœ‹ç£ç›˜æŒ‚è½½ä¸ç©ºé—´ä½¿ç”¨ (Disk Free)du -h                   # æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹å„æ–‡ä»¶å¤¹çš„å¤§å° (Disk Usage)free -m                 # æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ (MB)top                     # æ˜¾ç¤ºè¿›ç¨‹ä½¿ç”¨æƒ…å†µ\n3. ç½‘ç»œä¸è¿›ç¨‹ss -ntulp | grep 8080   # æŸ¥çœ‹å ç”¨ 8080 ç«¯å£çš„è¿›ç¨‹ps -ef | grep java      # æŸ¥çœ‹ Java è¿›ç¨‹kill -9 &lt;PID&gt;           # å¼ºåˆ¶ç»“æŸæŒ‡å®šè¿›ç¨‹ ID\n4. è½¯ä»¶åŒ…ç®¡ç†(apt)apt update              # æ›´æ–°è½¯ä»¶åŒ…apt list --upgradable   # åˆ—å‡ºå¯å‡çº§çš„åŒ…apt upgrade -y          # å‡çº§è½¯ä»¶åŒ…apt install ufw         # å®‰è£… UFWapt remove ufw          # å¸è½½ UFWapt purge ufw           # å½»åº•å¸è½½ UFW\n5. æœåŠ¡ç®¡ç†systemctl start/stop/restart ufw    # å¯åŠ¨/åœæ­¢/é‡å¯æœåŠ¡systemctl status ufw                # æŸ¥çœ‹æœåŠ¡çŠ¶æ€systemctl enable/disable ufw        # è®¾ç½®/ç¦æ­¢æœåŠ¡ å¼€æœºè‡ªå¯journalctl -f -u ufw                # å®æ—¶æ»šåŠ¨æŸ¥çœ‹æœåŠ¡æ—¥å¿— --follow --unitdpkg -L ufw             # æŸ¥çœ‹å®‰è£…çš„åŒ…é‡Šæ”¾äº†å“ªäº›æ–‡ä»¶ --listfilesdpkg -l | grep ufw      # æŸ¥çœ‹æ˜¯å¦å®‰è£…äº†æŸä¸ªåŒ…  --list\näº”ã€æ–‡ä»¶æ“ä½œä¸å‹ç¼©1. å¸¸ç”¨å‘½ä»¤mkdir -p /data/web        # é€’å½’åˆ›å»ºç›®å½•touch /file.txt           # åˆ›å»ºæ–‡ä»¶rm -rf /data/temp         # å¼ºåˆ¶é€’å½’åˆ é™¤ç›®å½• (æ…ç”¨!)mv old.txt new.txt        # é‡å‘½åæˆ–ç§»åŠ¨ln -s /src/file /dst/     # åˆ›å»ºè½¯é“¾æ¥ (å¿«æ·æ–¹å¼)cat /etc/passwd     # æ˜¾ç¤ºæ–‡ä»¶å†…å®¹less /etc/passwd    # åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹\n2. å‹ç¼©ä¸è§£å‹ (Tar).tar.gz æ˜¯ Linux ä¸‹æœ€é€šç”¨çš„å‹ç¼©æ ¼å¼ã€‚\n# è§£å‹ï¼Œå¯é€šè¿‡ -C æŒ‡å®šè§£å‹åˆ°tar -zxvf filename.tar.gz# å‹ç¼©tar -zcvf filename.tar.gz /source/dir\n\nz: gzip å‹ç¼©\nx: è§£å‹ (extract)\nc: åˆ›å»º (create)\nv: æ˜¾ç¤ºè¿‡ç¨‹ (verbose)\nf: æŒ‡å®šæ–‡ä»¶å (file)\n\nå…­ã€æœåŠ¡åå°è¿è¡Œ (Nohup)åœ¨æ–­å¼€ SSH è¿æ¥åç»§ç»­è¿è¡Œç¨‹åºï¼ˆå¦‚ Java Jar åŒ…ï¼‰ï¼š\n# æ ‡å‡†åå°å¯åŠ¨å‘½ä»¤nohup java -jar app.jar &gt; app.log 2&gt;&amp;1 &amp;\n\nnohup: ä¸æŒ‚æ–­è¿è¡Œ (No Hang Up)ã€‚\n&gt; app.log: å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ° app.logã€‚\n2&gt;&amp;1: å°†é”™è¯¯è¾“å‡º (2) é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º (1) ä¸€å¹¶å†™å…¥æ—¥å¿—ã€‚\n&amp;: åœ¨åå°è¿è¡Œã€‚\n\næŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼š\ntail -f app.log","categories":["å¼€å‘ç¯å¢ƒ","Ubuntu"],"tags":["è¿ç»´","è¯­æ³•æ‰‹å†Œ"]},{"title":"MySQL ç»¿è‰²ç‰ˆå®‰è£…æŒ‡å—ï¼šå‹ç¼©åŒ…éƒ¨ç½²ã€é…ç½®ä¸å¸è½½å…¨æµç¨‹","url":"/posts/7d511698.html","content":"ç›¸æ¯”äº MSI å®‰è£…ç‰ˆï¼Œä½¿ç”¨ Zip å‹ç¼©åŒ…ï¼ˆArchiveï¼‰æ–¹å¼å®‰è£… MySQL æœ‰ç€å·¨å¤§çš„ä¼˜åŠ¿ï¼šç³»ç»Ÿä¾µå…¥æ€§ä½ã€é…ç½®çµæ´»ã€å¸è½½æå…¶å¹²å‡€ã€‚\næœ¬æ–‡è®°å½•äº†åœ¨ Windows ç¯å¢ƒä¸‹éƒ¨ç½² MySQL 9.5.0 ç»¿è‰²ç‰ˆçš„å®Œæ•´æµç¨‹ã€‚\nä¸€ã€ä¸‹è½½ä¸è§£å‹1. ä¸‹è½½å‹ç¼©åŒ…å‰å¾€ MySQL å®˜æ–¹ä¸‹è½½é¡µé¢ï¼Œé€‰æ‹© Windows (x86, 64-bit), ZIP Archiveã€‚\n\nä¸‹è½½åœ°å€ï¼šhttps://dev.mysql.com/downloads/mysql/\n\n2. è§£å‹éƒ¨ç½²å°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹åˆ°ä½ å¸Œæœ›å®‰è£…çš„ç›®å½•ã€‚\nä¾‹å¦‚ï¼šD:\\Program Files\\MySQL\\mysql-9.5.0\\\näºŒã€æ ¸å¿ƒé…ç½® (my.ini)MySQL å¯åŠ¨æ—¶éœ€è¦è¯»å–é…ç½®æ–‡ä»¶ã€‚åœ¨å®‰è£…æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œé‡å‘½åä¸º my.iniï¼ˆæ³¨æ„åç¼€åï¼‰ã€‚\nå†™å…¥ä»¥ä¸‹å†…å®¹ï¼Œè¯·åŠ¡å¿…æ ¹æ®å®é™…è·¯å¾„ä¿®æ”¹ basedir å’Œ datadirï¼š\nmy.ini[mysql]# è®¾ç½® mysql å®¢æˆ·ç«¯çš„é»˜è®¤å­—ç¬¦é›†default-character-set=utf8mb4[mysqld]# è®¾ç½®æœåŠ¡ç«¯å£port=3306# MySQL çš„å®‰è£…ç›®å½•basedir=D:\\\\Program Files\\\\MySQL\\\\mysql-9.5.0# æ•°æ®åº“çš„æ•°æ®å­˜æ”¾ç›®å½• (data ç›®å½•ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»º)datadir=D:\\\\Program Files\\\\MySQL\\\\mysql-9.5.0\\\\data# å…è®¸çš„æœ€å¤§è¿æ¥æ•°max_connections=200# æœåŠ¡ç«¯å­—ç¬¦é›†ä¸æ’åºè§„åˆ™ (æ¨è utf8mb4)character-set-server=utf8mb4collation-server=utf8mb4_general_ci# åˆ›å»ºæ–°è¡¨æ—¶ä½¿ç”¨çš„å­˜å‚¨å¼•æ“default-storage-engine=InnoDB\nä¸‰ã€åˆå§‹åŒ–ä¸å®‰è£…ä»¥ä¸‹æ“ä½œå»ºè®®åœ¨ ç®¡ç†å‘˜æƒé™ çš„å‘½ä»¤æç¤ºç¬¦ï¼ˆCMDï¼‰æˆ– PowerShell ä¸­æ‰§è¡Œã€‚\n1. åˆå§‹åŒ–æ•°æ®è¿›å…¥ bin ç›®å½•ï¼Œæ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ã€‚\ncd /d &quot;D:\\Program Files\\MySQL\\mysql-9.5.0\\bin&quot;mysqld.exe --initialize --console\n\nâš ï¸ å…³é”®æ­¥éª¤ï¼šæ‰§è¡Œå®Œæ¯•åï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºä¸€è¡Œå«æœ‰ root@localhost: xxxxxxx çš„ä¿¡æ¯ã€‚è¯·åŠ¡å¿…å¤åˆ¶å¹¶ä¿å­˜è¿™ä¸ªåˆå§‹ä¸´æ—¶å¯†ç ï¼\n\n2. æ³¨å†Œ Windows æœåŠ¡å°† MySQL æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡ï¼Œä»¥ä¾¿å¼€æœºè‡ªå¯æˆ–åå°è¿è¡Œã€‚\n# MySQL æ˜¯æœåŠ¡åç§°ï¼Œå¯è‡ªå®šä¹‰mysqld.exe install MySQL\nå››ã€æœåŠ¡å¯åŠ¨ä¸ç®¡ç†æ–¹å¼ä¸€ï¼šå‘½ä»¤è¡Œç®¡ç† (æ¨è)éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚\n# å¯åŠ¨æœåŠ¡net start MySQL# åœæ­¢æœåŠ¡net stop MySQL# é…ç½®æœåŠ¡å¼€æœºè‡ªå¯sc config MySQL start=auto\næ–¹å¼äºŒï¼šä»»åŠ¡ç®¡ç†å™¨æŒ‰ä¸‹å¿«æ·é”® Ctrl + Shift + Esc æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œåˆ‡æ¢åˆ° æœåŠ¡ é€‰é¡¹å¡ï¼Œæ‰¾åˆ° MySQL å³é”®æ“ä½œã€‚\näº”ã€ä¿®æ”¹åˆå§‹å¯†ç ä½¿ç”¨åˆšæ‰è®°å½•çš„ä¸´æ—¶å¯†ç ç™»å½•ï¼Œå¹¶ä¿®æ”¹ä¸ºä¾¿äºè®°å¿†çš„å¯†ç ï¼ˆå¦‚ 123456ï¼‰ã€‚\nåœ¨ bin ç›®å½•ä¸‹æ‰§è¡Œï¼š\n# 1. ç™»å½• (å›è½¦åè¾“å…¥ä¸´æ—¶å¯†ç )mysql.exe -uroot -p# 2. ä¿®æ”¹å¯†ç  SQL è¯­å¥ (æ³¨æ„åˆ†å·)ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123456&#x27;;# 3. åˆ·æ–°æƒé™ (å¯é€‰ï¼Œé€šå¸¸ ALTER USER ä¼šè‡ªåŠ¨åˆ·æ–°)FLUSH PRIVILEGES;# 4. é€€å‡ºexit\nå…­ã€è¿›é˜¶å»ºè®®ï¼šé…ç½®ç¯å¢ƒå˜é‡ä¸ºäº†é¿å…æ¯æ¬¡éƒ½è¦è¿›å…¥ bin ç›®å½•æ‰èƒ½ä½¿ç”¨ mysql å‘½ä»¤ï¼Œå»ºè®®é…ç½®ç¯å¢ƒå˜é‡ï¼š\n\næ­¤ç”µè„‘ -> å³é”® -> å±æ€§ -> é«˜çº§ç³»ç»Ÿè®¾ç½® -> ç¯å¢ƒå˜é‡ã€‚\nåœ¨ ç³»ç»Ÿå˜é‡ ä¸­æ‰¾åˆ° Pathï¼Œç‚¹å‡»ç¼–è¾‘ã€‚\næ–°å»ºï¼Œå¡«å…¥è·¯å¾„ï¼šD:\\Program Files\\MySQL\\mysql-9.5.0\\binã€‚\n\né…ç½®åï¼Œä½ å¯ä»¥åœ¨ä»»æ„ç»ˆç«¯ç›´æ¥ä½¿ç”¨ mysql -uroot -p123456ã€‚\nä¸ƒã€å½»åº•å¸è½½å¦‚æœéœ€è¦åˆ é™¤ MySQLï¼Œå‹ç¼©åŒ…ç‰ˆçš„å¸è½½éå¸¸å¹²å‡€ï¼š\n\nåœæ­¢æœåŠ¡ï¼šnet stop MySQL\nç§»é™¤æœåŠ¡ï¼šsc delete MySQL (æˆ–è€… mysqld remove)\nåˆ é™¤æ–‡ä»¶ï¼šç›´æ¥åˆ é™¤æ•´ä¸ª MySQL å®‰è£…ç›®å½•ã€‚\næ¸…ç†ç¯å¢ƒï¼šå¦‚æœæ˜¯æ­¥éª¤å…­é…ç½®äº† Path å˜é‡ï¼Œè®°å¾—åˆ æ‰ã€‚\n\nè‡³æ­¤ï¼Œç³»ç»Ÿå°±æ¢å¤å¦‚åˆäº†ã€‚\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["MySQL","æ•°æ®åº“"]},{"title":"Docker Desktop æœ€ä½³å®è·µï¼šè‡ªå®šä¹‰å®‰è£…è·¯å¾„ä¸é•œåƒåŠ é€Ÿé…ç½®","url":"/posts/c3ae7e15.html","content":"Docker Desktop æ˜¯ Windows å¹³å°ä¸Šå¼€å‘å®¹å™¨åŒ–åº”ç”¨çš„æ ‡å‡†å·¥å…·ã€‚\nå‰ç½®æ¡ä»¶ï¼šDocker Desktop ä¾èµ–äº WSL2 åç«¯ã€‚å®‰è£…å‰è¯·ç¡®ä¿ç³»ç»Ÿå·²å¼€å¯ WSL åŠŸèƒ½ï¼Œè¯¦ç»†æ­¥éª¤è¯·å‚è€ƒæˆ‘çš„æ–‡ç« ï¼šWSL2 å…¨æ–¹ä½æŒ‡å—ï¼šå®‰è£…ã€é…ç½®ã€è¿ç§»ä¸ç½‘ç»œä¼˜åŒ–ã€‚\n1. ä¸‹è½½å®‰è£…åŒ…\nå®˜æ–¹ä¸‹è½½åœ°å€ï¼šDocker Desktop for Windows\n\n2. è‡ªå®šä¹‰è·¯å¾„å®‰è£…ï¼ˆå¼ºåˆ¶ D ç›˜ï¼‰æ³¨æ„ï¼š å¦‚æœç›´æ¥åŒå‡»è¿è¡Œå®‰è£…ç¨‹åºï¼ŒDocker ä¼šå¼ºåˆ¶å®‰è£…åœ¨ C ç›˜ï¼Œä¸” GUI ç•Œé¢ä¸æä¾›è·¯å¾„ä¿®æ”¹é€‰é¡¹ã€‚ä¸ºäº†èŠ‚çœç³»ç»Ÿç›˜ç©ºé—´ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡å‘½ä»¤è¡Œå‚æ•°è¿›è¡Œå®‰è£…ã€‚\n\n2.1 è§„åˆ’ç›®å½•é¦–å…ˆï¼Œåœ¨ D ç›˜ï¼ˆæˆ–å…¶ä»–éç³»ç»Ÿç›˜ï¼‰æ‰‹åŠ¨åˆ›å»ºä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼š\n\nD:\\Program Files\\Dockerï¼šç”¨äºå­˜æ”¾ Docker åº”ç”¨ç¨‹åºæœ¬ä½“ã€‚\nD:\\Distro\\Dockerï¼šç”¨äºå­˜æ”¾ Docker çš„é•œåƒã€å®¹å™¨ã€å·ç­‰æ•°æ®ï¼ˆéšç€ä½¿ç”¨ä½“ç§¯ä¼šè¶Šæ¥è¶Šå¤§ï¼‰ã€‚\n\n2.2 æ‰§è¡Œå®‰è£…å‘½ä»¤ä»¥ ç®¡ç†å‘˜èº«ä»½ æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆCMDï¼‰æˆ– PowerShellï¼Œè¿›å…¥ä¸‹è½½ç›®å½•ï¼ˆé€šå¸¸æ˜¯ Downloadsï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚\nstart /w &quot;&quot; &quot;Docker Desktop Installer.exe&quot; install -accept-license --installation-dir=&quot;D:\\Program Files\\Docker&quot; --wsl-default-data-root=&quot;D:\\Distro\\Docker&quot;\nå‚æ•°è§£é‡Šï¼š\n\n--installation-dirï¼šæŒ‡å®šåº”ç”¨ç¨‹åºå®‰è£…ä½ç½®ã€‚\n--wsl-default-data-rootï¼šæŒ‡å®š WSL å‘è¡Œç‰ˆï¼ˆdocker-desktop-dataï¼‰çš„æ•°æ®å­˜å‚¨ä½ç½®ã€‚\n\næ‰§è¡Œåï¼Œä¼šå¼¹å‡ºå®‰è£…ç•Œé¢ï¼Œç­‰å¾…è¿›åº¦æ¡è·‘å®Œå³å¯ã€‚\nå®‰è£…å®Œæˆåï¼Œå»ºè®®é‡å¯è®¡ç®—æœºã€‚\n3. é…ç½®é•œåƒåŠ é€Ÿç”±äºç½‘ç»œåŸå› ï¼Œå›½å†…ç›´æ¥ä» Docker Hub æ‹‰å–é•œåƒé€Ÿåº¦ææ…¢ã€‚æ¨èé…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ã€‚\n3.1 è·å–åŠ é€Ÿåœ°å€ç™»å½• é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡æ§åˆ¶å°ï¼Œåœ¨å·¦ä¾§èœå•æ‰¾åˆ° é•œåƒå·¥å…· - é•œåƒåŠ é€Ÿå™¨ã€‚\nå¤åˆ¶ä¸“å±çš„åŠ é€Ÿå™¨åœ°å€ï¼ˆæ ¼å¼é€šå¸¸ä¸º https://xxxx.mirror.aliyuncs.comï¼‰ã€‚\n3.2 åº”ç”¨é…ç½®è¿è¡Œ Docker Desktopï¼Œç‚¹å‡»å³ä¸Šè§’çš„ è®¾ç½®ï¼ˆé½¿è½®å›¾æ ‡ï¼‰ -> Docker Engineã€‚\nåœ¨å³ä¾§çš„ JSON ç¼–è¾‘æ¡†ä¸­ï¼Œä¿®æ”¹æˆ–æ·»åŠ  registry-mirrors å­—æ®µï¼š\n&#123;  &quot;builder&quot;: &#123;    &quot;gc&quot;: &#123;      &quot;defaultKeepStorage&quot;: &quot;20GB&quot;,      &quot;enabled&quot;: true    &#125;  &#125;,  &quot;experimental&quot;: false,  &quot;registry-mirrors&quot;: [    &quot;https://ä½ çš„ä¸“å±ID.mirror.aliyuncs.com&quot;  ]&#125;\nç‚¹å‡»å³ä¸‹è§’çš„ Apply &amp; restart æŒ‰é’®ä½¿é…ç½®ç”Ÿæ•ˆã€‚\n4. éªŒè¯å®‰è£…æ‰“å¼€ PowerShell æˆ– CMDï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ç‰ˆæœ¬å’Œè¿è¡ŒçŠ¶æ€ï¼š\ndocker -v# è¾“å‡ºï¼šDocker version 29.0.x, build ...docker run hello-world\nå¦‚æœçœ‹åˆ° â€œHello from Docker!â€œ çš„æç¤ºä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…ä¸é…ç½®å‡å·²æˆåŠŸã€‚\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["Docker","æ•ˆç‡å·¥å…·"]},{"title":"PostgreSQL ç»¿è‰²ç‰ˆå®‰è£…æŒ‡å—ï¼šé›†æˆ PostGIS ç©ºé—´æ•°æ®åº“","url":"/posts/8e6be576.html","content":"ç›¸æ¯”äº EXE å®‰è£…ç¨‹åºï¼Œä½¿ç”¨ Zip å‹ç¼©åŒ… å®‰è£… PostgreSQL æ›´åŠ æ¸…çˆ½ï¼šå®ƒä¸ä¼šåœ¨æ³¨å†Œè¡¨ä¸­ç•™ä¸‹éš¾ä»¥æ¸…ç†çš„åƒåœ¾ï¼Œä¸”æ”¯æŒå¤šç‰ˆæœ¬å…±å­˜ï¼Œéå¸¸é€‚åˆå¼€å‘ç¯å¢ƒã€‚\næœ¬æ–‡å°†æ¼”ç¤ºå®‰è£… PostgreSQL 18.1 å¹¶é›†æˆ PostGIS ç©ºé—´æ‰©å±•çš„å®Œæ•´æµç¨‹ã€‚\nä¸€ã€PostgreSQL åŸºç¡€å®‰è£…1. ä¸‹è½½ä¸è§£å‹å‰å¾€ EnterpriseDB æä¾›çš„äºŒè¿›åˆ¶åŒ…ä¸‹è½½é¡µé¢ï¼ˆä¹Ÿå¯å»å®˜ç½‘æ‰¾ Binariesï¼‰ï¼š\n\nä¸‹è½½åœ°å€ï¼šhttps://www.enterprisedb.com/download-postgresql-binaries\n\nå°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹åˆ°ç›®æ ‡è·¯å¾„ï¼Œä¾‹å¦‚ï¼šD:\\Program Files\\PostgreSQL\\postgresql-18.1-1ã€‚\n2. é…ç½®ç¯å¢ƒå˜é‡ (æ¨è)ä¸ºäº†æ–¹ä¾¿åœ¨ä»»æ„ç»ˆç«¯ä½¿ç”¨ psqlã€pg_ctl ç­‰å‘½ä»¤ï¼Œå»ºè®®é…ç½®ç¯å¢ƒå˜é‡ã€‚\n\næ“ä½œï¼šåœ¨ç³»ç»Ÿå˜é‡ Path ä¸­æ·»åŠ ä¸€è¡Œï¼šD:\\Program Files\\PostgreSQL\\postgresql-18.1-1\\bin\n\n3. åˆå§‹åŒ–æ•°æ®åº“ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ (CMD)ï¼Œè¿›å…¥è½¯ä»¶æ ¹ç›®å½•ï¼Œæ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤ï¼š\nbin\\initdb.exe -D data -U postgres -A password -E UTF8 --locale=C -W\nå‚æ•°è¯¦è§£ï¼š\n\n-D data: æŒ‡å®šæ•°æ®å­˜å‚¨ç›®å½•ä¸ºå½“å‰ç›®å½•ä¸‹çš„ data æ–‡ä»¶å¤¹ï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºï¼‰ã€‚\n-U postgres: æŒ‡å®šè¶…çº§ç”¨æˆ·åä¸º postgresã€‚\n-A password: æŒ‡å®šè®¤è¯æ–¹å¼ä¸ºå¯†ç è®¤è¯ã€‚\n-E UTF8: è®¾ç½®æ•°æ®åº“ç¼–ç ä¸º UTF-8ã€‚\n--locale=C: è®¾ç½®åŒºåŸŸè¯­è¨€ç¯å¢ƒä¸º Cï¼ˆé¿å…æ“ä½œç³»ç»Ÿè¯­è¨€å¯¼è‡´çš„æ’åºæˆ–ä¹±ç é—®é¢˜ï¼‰ã€‚\n-W: å¼ºåˆ¶æç¤ºè¾“å…¥å¹¶ç¡®è®¤è¶…çº§ç”¨æˆ·çš„å¯†ç ã€‚\n\n\næç¤ºï¼šæ‰§è¡Œåéœ€è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼Œè¯·åŠ¡å¿…è®°ä½è¯¥å¯†ç ï¼\n\n4. æ³¨å†Œç³»ç»ŸæœåŠ¡ä¸ºäº†è®©æ•°æ®åº“å¼€æœºè‡ªå¯æˆ–åå°è¿è¡Œï¼Œéœ€è¦å°†å…¶æ³¨å†Œä¸º Windows æœåŠ¡ã€‚\n# -N åæ¥æœåŠ¡åç§°ï¼Œ-S auto è¡¨ç¤ºå¼€æœºè‡ªå¯bin\\pg_ctl.exe register -N PostgreSQL -D &quot;D:\\Program Files\\PostgreSQL\\postgresql-18.1-1\\data&quot; -S auto\näºŒã€PostGIS æ‰©å±•é›†æˆPostGIS æ˜¯ PostgreSQL çš„çµé­‚ä¼´ä¾£ï¼Œå®‰è£…åæ•°æ®åº“å°†æ”¯æŒç©ºé—´åœ°ç†ä¿¡æ¯å­˜å‚¨ä¸åˆ†æã€‚\n1. ä¸‹è½½æ’ä»¶åŒ…å‰å¾€ OSGeo ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„ PostGIS å‹ç¼©åŒ…ï¼ˆæ³¨æ„ä¸ PG ç‰ˆæœ¬å·å¯¹åº”ï¼Œå¦‚ pg18ï¼‰ï¼š\n\nä¸‹è½½åœ°å€ï¼šhttps://download.osgeo.org/postgis/windows/\n\n2. æ‰‹åŠ¨è¦†ç›–å®‰è£… (æœ€ç¨³å¦¥æ–¹å¼)è™½ç„¶å‹ç¼©åŒ…å†…æä¾›äº†å®‰è£…è„šæœ¬ï¼Œä½†ç”±äºè·¯å¾„è¯†åˆ«é—®é¢˜ææ˜“æŠ¥é”™ã€‚æ¨èç›´æ¥ä½¿ç”¨æ–‡ä»¶å¤¹åˆå¹¶æ³•ï¼š\n\nè§£å‹ PostGIS å‹ç¼©åŒ…ã€‚\nå°†è§£å‹å‡ºæ¥çš„ binã€libã€shareã€gdal-data ç­‰æ–‡ä»¶å¤¹ï¼Œå…¨é€‰å¹¶å¤åˆ¶ã€‚\nç²˜è´´åˆ° PostgreSQL çš„å®‰è£…æ ¹ç›®å½• (D:\\Program Files\\PostgreSQL\\postgresql-18.1-1)ã€‚\nè‹¥æç¤ºæ–‡ä»¶å†²çªï¼Œé€‰æ‹© â€œæ›¿æ¢ç›®æ ‡ä¸­çš„æ–‡ä»¶â€ã€‚\n\n3. éªŒè¯ç©ºé—´å‡½æ•°å¯åŠ¨æ•°æ®åº“æœåŠ¡åï¼Œè¿æ¥æ•°æ®åº“ï¼ˆä½¿ç”¨ psql æˆ– Navicat/DBeaverï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹ SQL å¯ç”¨æ’ä»¶å¹¶æµ‹è¯•ï¼š\n# è¿æ¥æ•°æ®åº“psql -U postgres\n-- 0. åˆ›å»ºæ•°æ®åº“ï¼Œåˆ‡æ¢æ•°æ®åº“CREATE DATABASE example_postgis36;\\c example_postgis36;-- 1. åœ¨å½“å‰æ•°æ®åº“å¯ç”¨ PostGIS æ‰©å±•CREATE EXTENSION postgis;CREATE EXTENSION postgis_raster;CREATE EXTENSION postgis_sfcgal;CREATE EXTENSION postgis_topology;CREATE EXTENSION address_standardizer;CREATE EXTENSION address_standardizer_data_us;CREATE EXTENSION fuzzystrmatch;CREATE EXTENSION postgis_tiger_geocoder;-- 2. æµ‹è¯•ç©ºé—´è®¡ç®—å‡½æ•° (è®¡ç®—ç‚¹ä½è·ç¦»)SELECT st_geogfromtext(&#x27;POINT(113 23)&#x27;);\nè‹¥è¿”å›äºŒè¿›åˆ¶æˆ–åå…­è¿›åˆ¶çš„å‡ ä½•æ•°æ®ï¼Œå³è¡¨ç¤º PostGIS å®‰è£…æˆåŠŸã€‚\nä¸‰ã€æœåŠ¡ç®¡ç†å¸¸ç”¨å‘½ä»¤å»ºè®®ä»¥ ç®¡ç†å‘˜èº«ä»½ è¿è¡Œ CMD æˆ– PowerShellã€‚\n# å¯åŠ¨æœåŠ¡net start PostgreSQL# åœæ­¢æœåŠ¡net stop PostgreSQL# è®¾ç½®æœåŠ¡ä¸ºå¼€æœºè‡ªå¯sc config PostgreSQL start=auto\nå››ã€å½»åº•å¸è½½ç»¿è‰²ç‰ˆçš„å¸è½½éå¸¸ç®€å•ä¸”å½»åº•ï¼š\n\nåœæ­¢æœåŠ¡ï¼šnet stop PostgreSQL\nç§»é™¤æœåŠ¡ï¼šsc delete PostgreSQL\nåˆ é™¤æ–‡ä»¶ï¼šç›´æ¥åˆ é™¤æ•´ä¸ª PostgreSQL å®‰è£…ç›®å½•ã€‚\næ¸…ç†ç¯å¢ƒï¼šå¦‚æœåœ¨ç¬¬ä¸€æ­¥é…ç½®äº†ç¯å¢ƒå˜é‡ Pathï¼Œè®°å¾—ç§»é™¤ã€‚\n\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["æ•°æ®åº“","PostgreSQL","PostGIS","GIS"]},{"title":"Sublime Text 4 è¿›é˜¶é…ç½®ï¼šæ‰“é€ è½»é‡çº§ Java & C++ å¼€å‘ç¯å¢ƒ","url":"/posts/9dc77c0b.html","content":"Sublime Text 4 ä»¥å…¶æé€Ÿå“åº”å’Œä¼˜é›…çš„ç•Œé¢è‘—ç§°ã€‚è™½ç„¶å®ƒä¸»è¦æ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä½†é€šè¿‡é…ç½®æ„å»ºç³»ç»Ÿï¼ˆBuild Systemï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å˜èº«ä¸ºä¸€ä¸ªè½»é‡çº§çš„ IDEï¼Œæ”¯æŒ Java å’Œ C++ çš„ç¼–è¯‘ã€è¿è¡Œä»¥åŠå‘½ä»¤è¡Œäº¤äº’ã€‚\næœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä¿®æ”¹åŸç”Ÿé…ç½®ï¼Œè§£å†³é»˜è®¤æ§åˆ¶å°æ— æ³•è¾“å…¥æ•°æ®ï¼ˆScanner/cinï¼‰ä»¥åŠä¸­æ–‡ä¹±ç çš„ç—›ç‚¹ã€‚\n\nç¯å¢ƒè¯´æ˜\n\nç‰ˆæœ¬ï¼šSublime Text 4 (Build 4200)\nç³»ç»Ÿï¼šWindows 10/11\n\n\nä¸€ã€Java å¼€å‘ç¯å¢ƒé…ç½®Sublime è‡ªå¸¦ Java ç¼–è¯‘åŠŸèƒ½ï¼Œä½†é»˜è®¤åªèƒ½è¾“å‡ºç»“æœï¼Œæ— æ³•è¿›è¡Œäº¤äº’å¼è¾“å…¥ã€‚æˆ‘ä»¬éœ€è¦é…ç½®å®ƒè°ƒç”¨ç³»ç»Ÿçš„ CMD çª—å£æ¥è¿è¡Œç¨‹åºã€‚\n1. JDK ä¾èµ–æ£€æŸ¥ç¡®ä¿ç”µè„‘å·²å®‰è£… JDK å¹¶é…ç½®å¥½ç³»ç»Ÿç¯å¢ƒå˜é‡ (JAVA_HOME å’Œ Path)ã€‚åœ¨å‘½ä»¤æç¤ºç¬¦ï¼ˆCMDï¼‰ä¸­è¾“å…¥ java -versionï¼Œè‹¥èƒ½æ˜¾ç¤ºç‰ˆæœ¬å·åˆ™è¯´æ˜ç¯å¢ƒå°±ç»ªã€‚\n2. ç¼–å†™æµ‹è¯•ä»£ç åˆ›å»ºä¸€ä¸ª Hello.java æ–‡ä»¶ç”¨äºæµ‹è¯•ï¼š\npublic class Hello &#123;    public static void main(String[] args) &#123;        System.out.println(&quot;Hello World! ä½ å¥½ï¼Œä¸–ç•Œï¼&quot;);    &#125;&#125;\n3. æ‹“å±•æ„å»ºæŒ‡ä»¤ (Build System)æˆ‘ä»¬éœ€è¦ä¿®æ”¹ Sublime é»˜è®¤çš„ Java æ„å»ºé…ç½®ã€‚\n\nè¿›å…¥ Sublime Text å®‰è£…ç›®å½•ä¸‹çš„ Packages æ–‡ä»¶å¤¹ã€‚\næ‰¾åˆ° Java.sublime-package æ–‡ä»¶ï¼Œä½¿ç”¨å‹ç¼©è½¯ä»¶ï¼ˆå¦‚ Bandizipã€7-Zip æˆ– WinRARï¼‰ç›´æ¥æ‰“å¼€å®ƒã€‚\nåœ¨å‹ç¼©åŒ…å†…æ‰¾åˆ°å¹¶ç¼–è¾‘ JavaC.sublime-build æ–‡ä»¶ã€‚\nåœ¨ variants å­—æ®µä¸­æ·»åŠ ä¸€æ®µæ–°çš„é…ç½®ï¼ˆâ€Run in cmdâ€ï¼‰ï¼š\n\n&#123;    &quot;shell_cmd&quot;: &quot;javac \\&quot;$file\\&quot;&quot;,    &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,    &quot;selector&quot;: &quot;source.java&quot;,    &quot;variants&quot;: [        &#123;            &quot;name&quot;: &quot;Run in cmd&quot;,            &quot;shell_cmd&quot;: &quot;javac -encoding UTF-8 \\&quot;$&#123;file&#125;\\&quot; &amp;&amp; start cmd /c \\&quot;java --class-path \\&quot;$&#123;file_path&#125;\\&quot; \\&quot;$&#123;file_base_name&#125;\\&quot; &amp; pause\\&quot;&quot;        &#125;    ]&#125;\né…ç½®è¯¦è§£ï¼š\n\njavac -encoding UTF-8: å¼ºåˆ¶ä½¿ç”¨ UTF-8 ç¼–ç ç¼–è¯‘æºæ–‡ä»¶ï¼Œæœ‰æ•ˆé˜²æ­¢ç¼–è¯‘æ—¶çš„ä¸­æ–‡ä¹±ç ã€‚\nstart cmd /c: å¯åŠ¨ä¸€ä¸ªæ–°çš„ CMD çª—å£è¿è¡Œ Java ç¨‹åºï¼Œç¨‹åºç»“æŸåé€šè¿‡ pause æš‚åœçª—å£ï¼Œé˜²æ­¢é—ªé€€ã€‚\n\n4. è¿è¡Œä½¿ç”¨ Sublime æ‰“å¼€ Java æ–‡ä»¶ï¼ŒæŒ‰ä¸‹å¿«æ·é”® Ctrl + Shift + Bï¼Œé€‰æ‹© JavaC - Run in cmd å³å¯çœ‹åˆ°å¼¹å‡ºçš„ CMD çª—å£å¹¶æ­£ç¡®è¾“å‡ºä¸­æ–‡ã€‚\n\näºŒã€C++ å¼€å‘ç¯å¢ƒé…ç½®Windows ç³»ç»Ÿé»˜è®¤ä¸åŒ…å« C++ ç¼–è¯‘å™¨ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å®‰è£… MinGWã€‚\n1. å®‰è£… MinGW (GCC/G++)æ¨èä½¿ç”¨è½»é‡çº§çš„ MinGW å·¥å…·é“¾ã€‚\n\nä¸‹è½½åœ°å€ï¼šMinGW-w64 GitHub Releases\n\né…ç½®æ­¥éª¤ï¼š\n\nä¸‹è½½å¹¶è§£å‹å‹ç¼©åŒ…ï¼ˆé€‰æ‹© x86_64-15.2.0-release-win32-seh-ucrt-rt_v13-rev0.7zï¼‰ã€‚\nå°†è§£å‹åæ–‡ä»¶å¤¹å†…çš„ /bin ç›®å½•è·¯å¾„å¤åˆ¶ã€‚\nå°†è¯¥è·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿçš„ ç¯å¢ƒå˜é‡ -> Path ä¸­ã€‚\néªŒè¯ï¼šåœ¨ CMD æ‰§è¡Œ g++ -vï¼Œæœ‰è¾“å‡ºå³è¡¨ç¤ºé…ç½®æˆåŠŸã€‚\n\n2. ç¼–å†™æµ‹è¯•ä»£ç åˆ›å»ºä¸€ä¸ª Hello.cpp æ–‡ä»¶ï¼š\n#include &lt;iostream&gt;int main(int argc, char const *argv[])&#123;    std::cout &lt;&lt; &quot;Hello World! ä½ å¥½ï¼Œä¸–ç•Œï¼&quot;;    return 0;&#125;\n3. æ‹“å±•æ„å»ºæŒ‡ä»¤ (Build System)åŒæ ·çš„æ–¹æ³•ï¼Œä¿®æ”¹ C++ çš„é»˜è®¤æ„å»ºé…ç½®ã€‚\n\nåœ¨ Packages ç›®å½•ä¸‹ï¼Œç”¨å‹ç¼©è½¯ä»¶æ‰“å¼€ C++.sublime-packageã€‚\næ‰¾åˆ°å¹¶ç¼–è¾‘ C++ Single File.sublime-build æ–‡ä»¶ã€‚\nä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼ˆæ³¨æ„ Run in cmd éƒ¨åˆ†ï¼‰ï¼š\n\n\n&#123;  &quot;shell_cmd&quot;: &quot;g++ \\&quot;$&#123;file&#125;\\&quot; -o \\&quot;$&#123;file_path&#125;/$&#123;file_base_name&#125;\\&quot;&quot;,  &quot;file_regex&quot;: &quot;^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$&quot;,  &quot;working_dir&quot;: &quot;$&#123;file_path&#125;&quot;,  &quot;selector&quot;: &quot;source.c++&quot;,  &quot;variants&quot;:  [    &#123;      &quot;name&quot;: &quot;Run&quot;,      &quot;shell_cmd&quot;: &quot;g++ \\&quot;$&#123;file&#125;\\&quot; -o \\&quot;$&#123;file_path&#125;/$&#123;file_base_name&#125;\\&quot; &amp;&amp; \\&quot;$&#123;file_path&#125;/$&#123;file_base_name&#125;\\&quot;&quot;,      &quot;interactive&quot;: true    &#125;,    &#123;      &quot;name&quot;: &quot;Run in cmd&quot;,      &quot;shell_cmd&quot;: &quot;g++ -fexec-charset=GBK \\&quot;$&#123;file&#125;\\&quot; -o \\&quot;$&#123;file_path&#125;/$&#123;file_base_name&#125;\\&quot; &amp;&amp; start cmd /c \\&quot;\\&quot;$&#123;file_path&#125;/$&#123;file_base_name&#125;\\&quot; &amp; pause\\&quot;&quot;    &#125;  ]&#125;\nå…³é”®é…ç½®è§£æï¼š\n\n-fexec-charset=GBK: è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å‚æ•°ï¼Windows çš„ CMD çª—å£é»˜è®¤ç¼–ç æ˜¯ GBKï¼Œè€Œ Sublime Text é»˜è®¤æ˜¯ UTF-8ã€‚å¦‚æœä¸åŠ è¿™ä¸ªå‚æ•°ï¼Œç¼–è¯‘å‡ºçš„ç¨‹åºåœ¨ CMD ä¸­è¿è¡Œæ—¶ï¼Œä¸­æ–‡ä¼šæ˜¾ç¤ºä¸ºä¹±ç ã€‚è¯¥å‚æ•°å‘Šè¯‰ç¼–è¯‘å™¨ï¼šè¯·ç”Ÿæˆä¸€ä¸ªè¿è¡Œæ—¶è¾“å‡º GBK å­—ç¬¦çš„ exe æ–‡ä»¶ã€‚\n\n4. è¿è¡Œä½¿ç”¨ Ctrl + Shift + B é€‰æ‹© C++ Single File - Run in cmdï¼Œå³å¯ä½“éªŒå®Œç¾çš„ C++ ç¼–è¯‘è¿è¡Œç¯å¢ƒã€‚\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["Sublime Text"]},{"title":"WSL2 å…¨æ–¹ä½æŒ‡å—ï¼šå®‰è£…ã€é…ç½®ã€è¿ç§»ä¸ç½‘ç»œä¼˜åŒ–","url":"/posts/ce55e54a.html","content":"å€ŸåŠ©é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿï¼ˆWSL2ï¼‰ï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨ Windows è®¡ç®—æœºä¸Šç›´æ¥è¿è¡Œ GNU/Linux ç¯å¢ƒï¼ˆåŒ…æ‹¬å¤§å¤šæ•°å‘½ä»¤è¡Œå·¥å…·ã€å®ç”¨å·¥å…·å’Œåº”ç”¨ç¨‹åºï¼‰ï¼Œä¸”ä¸ä¼šäº§ç”Ÿä¼ ç»Ÿè™šæ‹Ÿæœºæˆ–åŒå¯åŠ¨è®¾ç½®çš„å¼€é”€ã€‚\n\nå®˜æ–¹æ–‡æ¡£å‚è€ƒï¼šMicrosoft Learn - å®‰è£… WSL\n\nåŸºç¡€ï¼šå¼€å¯ WSL åŠŸèƒ½æ–¹æ³•ä¸€ï¼šå‘½ä»¤è¡Œä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰å¯¹äºè¾ƒæ–°çš„ Windows 10 (2004+) æˆ– Windows 11ï¼Œåªéœ€ä»¥ ç®¡ç†å‘˜èº«ä»½ æ‰“å¼€ PowerShell å¹¶è¾“å…¥ï¼š\nwsl --install\næ­¤å‘½ä»¤å°†è‡ªåŠ¨å¯ç”¨æ‰€éœ€çš„å¯é€‰ç»„ä»¶ï¼Œä¸‹è½½æœ€æ–°çš„ Linux å†…æ ¸ï¼Œå°† WSL 2 è®¾ç½®ä¸ºé»˜è®¤å€¼ï¼Œå¹¶å®‰è£… Ubuntu å‘è¡Œç‰ˆã€‚\næ–¹æ³•äºŒï¼šæ‰‹åŠ¨å¯ç”¨å¦‚æœä½ æ›´ä¹ æƒ¯å›¾å½¢ç•Œé¢ï¼Œå¯ä»¥åœ¨ã€ŒWindows åŠŸèƒ½ã€ä¸­æ‰‹åŠ¨å¼€å¯ã€‚\n\nWin + s æœç´¢ â€œå¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½â€ã€‚\nå‹¾é€‰ â€œé€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿâ€ã€‚\nç‚¹å‡»ç¡®å®šå¹¶é‡å¯è®¡ç®—æœºã€‚\n\né‡å¯åï¼Œæ‰“å¼€ PowerShell è¾“å…¥ wsl -v éªŒè¯ç‰ˆæœ¬ï¼š\n\næ³¨ï¼šå¦‚æœ wsl -v æŠ¥é”™ï¼Œæç¤ºæ— æ³•è§£æå‘½ä»¤ï¼Œå¯èƒ½éœ€è¦å…ˆæ‰§è¡Œ wsl --update è¿›è¡Œå†…æ ¸æ›´æ–°ã€‚\n\nç®¡ç†ï¼šç³»ç»Ÿä¸æ›´æ–°å¸¸ç”¨ç®¡ç†å‘½ä»¤ ç‚¹å‡»æŸ¥çœ‹å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨ \n              \n              æè¿°å‘½ä»¤æ£€æŸ¥æ›´æ–°wsl --updateæŸ¥çœ‹åœ¨çº¿å¯ç”¨ç³»ç»Ÿwsl --list --online (æˆ– wsl -l -o)æŸ¥çœ‹å·²å®‰è£…ç³»ç»Ÿwsl --list --verbose (æˆ– wsl -l -v)å…³é—­æ‰€æœ‰ç³»ç»Ÿwsl --shutdownåœæ­¢ç³»ç»Ÿwsl --terminate &lt;DistroName&gt;æ³¨é”€(åˆ é™¤)ç³»ç»Ÿwsl --unregister &lt;DistroName&gt;å¯¼å‡ºç³»ç»Ÿwsl --export &lt;DistroName&gt; &lt;FileName&gt;å¯¼å…¥ç³»ç»Ÿwsl --import &lt;DistroName&gt; &lt;InstallLocation&gt; &lt;FileName&gt;FileNameï¼šé»˜è®¤ä¸º .tar æ ¼å¼ã€‚æ›´å¤šå‘½ä»¤ï¼šåŸºæœ¬ WSL å‘½ä»¤\n              \n            \nå®‰è£… Ubuntu\næŸ¥çœ‹å¯ç”¨åˆ—è¡¨ï¼š\n wsl --list --online\n\nå®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼š\n wsl --install Ubuntu\n\nè®¾ç½®é»˜è®¤ç³»ç»Ÿï¼ˆå¦‚æœä½ å®‰è£…äº†å¤šä¸ªå‘è¡Œç‰ˆï¼‰ï¼š\n wsl --set-default Ubuntu\n\n\nå¯åŠ¨ç³»ç»Ÿ\né»˜è®¤ç³»ç»Ÿï¼šç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ wslã€‚\næŒ‡å®šç³»ç»Ÿï¼šè¾“å…¥ wsl -d &lt;å‘è¡Œç‰ˆåç§°&gt;ï¼Œä¾‹å¦‚ wsl -d Ubuntuã€‚\n\nè¿›é˜¶ï¼šå­˜å‚¨ä½ç½®è¿ç§»WSL2 å®‰è£…çš„ Linux ç³»ç»Ÿé»˜è®¤å­˜å‚¨åœ¨ C ç›˜ï¼ˆ%LOCALAPPDATA%\\Packages ä¸‹ï¼‰ã€‚éšç€å¼€å‘ç¯å¢ƒçš„è†¨èƒ€ï¼ŒC ç›˜ç©ºé—´å¯èƒ½å‘Šæ€¥ã€‚æˆ‘ä»¬å¯ä»¥å°†å…¶å¯¼å‡ºå¹¶è¿ç§»åˆ°å…¶ä»–ç£ç›˜ã€‚\næ“ä½œæ­¥éª¤ï¼š\n\nåœæ­¢ WSL æœåŠ¡ï¼š\n wsl --shutdown\n\nå¯¼å‡ºç³»ç»Ÿå¤‡ä»½ï¼š\n # åˆ›å»ºä¸´æ—¶ç›®å½•mkdir D:\\tmp# å¯¼å‡º Ubuntu åˆ° tar æ–‡ä»¶wsl --export Ubuntu D:\\tmp\\Ubuntu.tar\n\næ³¨é”€å½“å‰ç³»ç»Ÿï¼ˆæ³¨æ„ï¼šè¿™ä¼šåˆ é™¤ C ç›˜çš„åŸæœ‰ç³»ç»Ÿï¼‰ï¼š\n wsl --unregister Ubuntu\n\nå¯¼å…¥åˆ°æ–°ä½ç½®ï¼š\n # åˆ›å»ºæ–°çš„å­˜å‚¨ç›®å½•mkdir D:\\WslDistro# å¯¼å…¥ç³»ç»Ÿwsl --import Ubuntu D:\\WslDistro D:\\tmp\\Ubuntu.tar\n\n\n\næ³¨æ„ï¼šç”¨æˆ·èº«ä»½é‡ç½®é—®é¢˜ä½¿ç”¨ --import æ¢å¤çš„ç³»ç»Ÿï¼Œé»˜è®¤ç™»å½•ç”¨æˆ·ä¼šå˜å› rootã€‚å¦‚æœéœ€è¦æ¢å¤é»˜è®¤ç™»å½•ä¸ºä½ çš„æ™®é€šç”¨æˆ·ï¼ˆä¾‹å¦‚ gabrielï¼‰ï¼Œ\n\néœ€è¦åœ¨ Ubuntu å†…éƒ¨åˆ›å»ºæˆ–ä¿®æ”¹ /etc/wsl.conf æ–‡ä»¶ï¼ˆè§ä¸‹æ–‡é…ç½®ï¼‰\næˆ–è€…ä½¿ç”¨ Ubuntu config --default-user gabriel å‘½ä»¤è®¾ç½®é»˜è®¤ç”¨æˆ·\n\n\né…ç½®ï¼šç¯å¢ƒéš”ç¦»ä¸ç½‘ç»œç¯å¢ƒå˜é‡ç‹¬ç«‹é»˜è®¤æƒ…å†µä¸‹ï¼ŒWSL ä¼šç»§æ‰¿ Windows çš„ PATH ç¯å¢ƒå˜é‡ï¼ˆä¾‹å¦‚ä½ å¯ä»¥ç›´æ¥åœ¨ Linux é‡Œè°ƒç”¨ notepad.exeï¼‰ã€‚ä½†è¿™å¯èƒ½å¯¼è‡´ PATH å˜é‡è¿‡é•¿æˆ–å‘½ä»¤å†²çªã€‚\nè‹¥éœ€éš”ç¦»ç¯å¢ƒï¼Œè¯·è¿›å…¥ Ubuntu ç³»ç»Ÿï¼Œç¼–è¾‘ /etc/wsl.confï¼š\nsudo vim /etc/wsl.conf\næ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n[boot]systemd=true[user]# ç¡®ä¿è¿™é‡Œå¡«å†™ä½ è¿ç§»å‰åˆ›å»ºçš„ç”¨æˆ·åï¼Œå¦åˆ™å¯¼å…¥åé»˜è®¤æ˜¯ rootdefault=gabriel[interop]# ç¦æ­¢å°† Windows PATH æ·»åŠ åˆ° WSL ä¸­appendWindowsPath=false\nåº”ç”¨å®¿ä¸»æœºä»£ç† (Mirrored æ¨¡å¼)åœ¨æ—§ç‰ˆ WSL2 ä¸­ï¼ŒLinux å­ç³»ç»Ÿæ‹¥æœ‰ç‹¬ç«‹çš„è™šæ‹Ÿç½‘å¡ï¼Œå¯¼è‡´æ— æ³•ç›´æ¥å…±äº« Windows çš„ VPN ä»£ç†ï¼Œä¹Ÿéš¾ä»¥è®¿é—®å±€åŸŸç½‘è®¾å¤‡ã€‚\nWindows 11 (22H2 åŠä»¥ä¸Š) å¼•å…¥äº† Mirrored (é•œåƒ) ç½‘ç»œæ¨¡å¼ï¼Œå®Œç¾è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚\næ–¹æ³•ä¸€ï¼šä½¿ç”¨ GUI è®¾ç½®ï¼ˆæ¨èï¼‰åœ¨ Windows ã€å¼€å§‹ã€‘ èœå•ä¸­æ‰¾åˆ° ã€WSL Settingsã€‘ åº”ç”¨ï¼Œå°†ç½‘ç»œæ¨¡å¼ä¿®æ”¹ä¸º Mirroredï¼š\næ–¹æ³•äºŒï¼šä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆé€šç”¨ï¼‰å¦‚æœæ‰¾ä¸åˆ° GUI è®¾ç½®ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹å…¨å±€é…ç½®æ–‡ä»¶ã€‚åœ¨ Windows ç”¨æˆ·ä¸»ç›®å½•ï¼ˆC:\\Users\\&lt;ä½ çš„ç”¨æˆ·å&gt;\\ï¼‰ä¸‹æ–°å»ºæˆ–ç¼–è¾‘ .wslconfig æ–‡ä»¶ï¼š\n[wsl2]networkingMode=mirrored\nç”Ÿæ•ˆè®¾ç½®ï¼šé…ç½®ä¿®æ”¹åï¼Œå¿…é¡»å®Œå…¨é‡å¯ WSL æ‰èƒ½ç”Ÿæ•ˆï¼š\nwsl --shutdown\nå¼€å¯ Mirrored æ¨¡å¼åï¼ŒWSL2 å°†ç›´æ¥å¤ç”¨å®¿ä¸»æœºçš„ç½‘ç»œæ¥å£ï¼Œæ­¤æ—¶å®¿ä¸»æœºçš„ä»£ç†è½¯ä»¶ï¼ˆå¦‚ Clash/V2Rayï¼‰å¼€å¯ â€œTUN æ¨¡å¼â€ æˆ– â€œç³»ç»Ÿä»£ç†â€ åï¼ŒWSL2 å³å¯ç›´æ¥é€šè¿‡ä»£ç†è”ç½‘ï¼Œæ— éœ€é¢å¤–é…ç½®ç¯å¢ƒå˜é‡ã€‚\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["WSL","Ubuntu"]},{"title":"Windows ç»ˆç«¯æ”¹é€ è®¡åˆ’ï¼šPowerShell 7 + Oh My Posh æé€Ÿç¾åŒ–","url":"/posts/7e710df8.html","content":"é•¿æœŸä»¥æ¥ï¼ŒWindows é»˜è®¤çš„ PowerShell 5.1 æ— è®ºæ˜¯æ€§èƒ½è¿˜æ˜¯é¢œå€¼éƒ½ç•¥æ˜¾è¿‡æ—¶ã€‚é€šè¿‡ PowerShell 7 (è·¨å¹³å°æ ¸å¿ƒç‰ˆ) æ­é… Windows Terminal å’Œ Oh My Poshï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—åª²ç¾ macOS/Linux çš„ç»ˆç«¯ä½“éªŒã€‚\nç¬¬ä¸€æ­¥ï¼šé…ç½®å®¹å™¨ (Windows Terminal)Windows 11 å·²é»˜è®¤é¢„è£… Windows Terminalã€‚è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ç»ˆç«¯å®¿ä¸»åº”ç”¨ã€‚\n\nå¿«é€Ÿå¯åŠ¨ï¼šWin + R è¾“å…¥ wtã€‚\nåŸºç¡€è®¾ç½®ï¼šå»ºè®®åœ¨ è®¾ç½® ä¸­å¼€å¯ä»¥ä¸‹åŠŸèƒ½ï¼š\näº¤äº’ï¼šè‡ªåŠ¨å°†æ‰€é€‰å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿\nå¤–è§‚ï¼šåœ¨é€‰é¡¹å¡è¡Œä¸­ä½¿ç”¨äºšå…‹åŠ›ææ–™\n\n\n\nç¬¬äºŒæ­¥ï¼šå‡çº§æ ¸å¿ƒ (PowerShell 7)PowerShell 7 æ˜¯åŸºäº .NET Core æ„å»ºçš„è·¨å¹³å°ç‰ˆæœ¬ï¼Œæ¯”ç³»ç»Ÿè‡ªå¸¦çš„ 5.1 å¯åŠ¨æ›´å¿«ï¼ŒåŠŸèƒ½æ›´å¼ºã€‚\n\nå®˜æ–¹æ–‡æ¡£ï¼šåœ¨ Windows ä¸Šå®‰è£… PowerShell\n\n1. ä½¿ç”¨ winget å®‰è£…æ¨èä½¿ç”¨å¾®è½¯å®˜æ–¹åŒ…ç®¡ç†å™¨ winget è¿›è¡Œå®‰è£…ã€‚\nå¸¸è§æŠ¥é”™å¤„ç†ï¼šå¦‚æœæç¤ºæ‰¾ä¸åˆ° winget å‘½ä»¤ï¼Œè¯·åœ¨æ—§ç‰ˆ PowerShell ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡ç½®åº”ç”¨å®‰è£…ç¨‹åºï¼šGet-AppxPackage Microsoft.DesktopAppInstaller | Reset-AppxPackage\n\næ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š\n# æœç´¢ç‰ˆæœ¬winget search Microsoft.PowerShell# å®‰è£…ç¨³å®šç‰ˆwinget install --id Microsoft.PowerShell\n2. éªŒè¯ä¸é›†æˆå®‰è£…å®Œæˆåï¼Œç¨‹åºä½äº C:/Program Files/PowerShell/7/ã€‚\næ‰“å¼€ Windows Terminal -> è®¾ç½® -> æ‰“å¼€ JSON æ–‡ä»¶ã€‚åœ¨ profiles -> list æ•°ç»„ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®å—ï¼š\n&#123;    &quot;guid&quot;: &quot;&#123;36c5dc75-0ca3-42b8-881d-247330cd4477&#125;&quot;,     &quot;name&quot;: &quot;PowerShell 7.5&quot;,    &quot;commandline&quot;: &quot;C:\\\\Program Files\\\\PowerShell\\\\7\\\\pwsh.exe&quot;,    &quot;icon&quot;: &quot;C:\\\\Program Files\\\\PowerShell\\\\7\\\\assets\\\\Powershell_black.ico&quot;,    &quot;startingDirectory&quot;: &quot;%USERPROFILE%&quot;&#125;\nç¬¬ä¸‰æ­¥ï¼šæ³¨å…¥çµé­‚ (Oh My Posh)Oh My Posh æ˜¯ä¸€ä¸ªå…¨å¹³å°çš„ç»ˆç«¯æç¤ºç¬¦è‡ªå®šä¹‰å¼•æ“ï¼Œå®ƒèƒ½è®©ä½ çš„è·¯å¾„æ˜¾ç¤ºåŒ…å« Git çŠ¶æ€ã€æ‰§è¡Œæ—¶é—´ã€å†…å­˜å ç”¨ç­‰ä¿¡æ¯ã€‚\n1. å®‰è£…ç¨‹åºç»§ç»­ä½¿ç”¨ winget å®‰è£…ï¼ˆå»ºè®®å¼€å¯å…¨å±€æ¢¯å­ï¼Œä¸‹è½½é€Ÿåº¦ä¼šå¿«å¾ˆå¤šï¼‰ï¼š\nwinget install --id JanDeDobbeleer.OhMyPosh\n2. å­—ä½“é…ç½® (å…³é”®æ­¥éª¤)Oh My Posh çš„æ¼‚äº®å›¾æ ‡ä¾èµ–äº Nerd Fonts å­—ä½“ã€‚å¦‚æœæ²¡æœ‰æ­£ç¡®å®‰è£…å­—ä½“ï¼Œç»ˆç«¯ä¼šå‡ºç°å¤§é‡ä¹±ç æ–¹æ¡†ã€‚\n\næ¨èï¼šMeslo LGM Nerd Font\nä¸‹è½½è§£å‹åï¼Œå…¨é€‰ .ttf æ–‡ä»¶ï¼Œå³é”® -> å®‰è£…ã€‚\næ‰“å¼€ Windows Terminal è®¾ç½® -> é»˜è®¤å€¼ -> å¤–è§‚ -> å­—ä½“ï¼Œé€‰æ‹© â€œMesloLGM Nerd Fontâ€ã€‚\n\n å­—ä½“å®‰è£…é¿å‘æŒ‡å—ï¼ˆæ–‡ä»¶å ç”¨é—®é¢˜ï¼‰ \n              \n              è‹¥ä½¿ç”¨å®˜æ–¹æä¾›çš„ oh-my-posh font install å‘½ä»¤ï¼Œæœ‰æ—¶ä¼šå°†å­—ä½“å®‰è£…åˆ°ç”¨æˆ·ç›®å½• (~\\AppData\\Local\\Microsoft\\Windows\\Fonts)ï¼Œå¯¼è‡´è¢«ç³»ç»Ÿæ ¸å¿ƒè¿›ç¨‹ vcshost.exe é”å®šï¼Œæ— æ³•åˆ é™¤æˆ–è¦†ç›–ã€‚è§£å†³æ–¹æ¡ˆï¼šWin + R è¾“å…¥ regeditã€‚å®šä½åˆ°ï¼šHKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Fontsã€‚åˆ é™¤å¯¹åº”çš„å­—ä½“æ³¨å†Œè¡¨é¡¹ã€‚é‡å¯ç”µè„‘åå³å¯æ‰‹åŠ¨åˆ é™¤æ–‡ä»¶ã€‚\n              \n            \n3. åº”ç”¨ä¸»é¢˜\nä¸»é¢˜åœ¨çº¿é¢„è§ˆï¼šhttps://ohmyposh.dev/docs/themes/\n\næˆ‘ä»¬éœ€è¦ä¿®æ”¹ PowerShell çš„é…ç½®æ–‡ä»¶ ($PROFILE) æ¥å¯ç”¨ Oh My Poshã€‚\nåœ¨ PowerShell 7 ä¸­è¾“å…¥ notepad $PROFILE æ‰“å¼€ï¼ˆå¦‚æœæç¤ºä¸å­˜åœ¨ï¼Œé€‰æ‹©åˆ›å»ºæ–‡ä»¶ï¼‰ã€‚\nå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š\n# === 1. ç¯å¢ƒå˜é‡ä¸ä»£ç† (æ ¹æ®éœ€è¦å¼€å¯) ===# $env:HTTP_PROXY = &quot;http://127.0.0.1:10808&quot;# $env:HTTPS_PROXY = &quot;http://127.0.0.1:10808&quot;# $env:ALL_PROXY = &quot;socks5://127.0.0.1:10808&quot;# === 2. å¯åŠ¨ Oh My Posh ===# åœ¨çº¿ä¸»é¢˜é¢„è§ˆï¼šhttps://ohmyposh.dev/docs/themes/oh-my-posh init pwsh --config &#x27;https://github.com/JanDeDobbeleer/oh-my-posh/blob/main/themes/1_shell.omp.json&#x27; | Invoke-Expression\nä¿å­˜åï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œ .$PROFILE åˆ·æ–°é…ç½®ï¼Œå³å¯çœ‹åˆ°æ•ˆæœã€‚\nç¬¬å››æ­¥ï¼šåŠŸèƒ½å¢å¼º (æ’ä»¶æ¨è)å…‰å¥½çœ‹è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®ƒå¥½ç”¨ã€‚æ¨èå®‰è£…ä»¥ä¸‹ä¸¤ä¸ªæ¨¡å—ï¼š\n1. Terminal-Icons (å›¾æ ‡å¢å¼º)è®© ls æˆ– dir å‘½ä»¤æ˜¾ç¤ºæ–‡ä»¶çš„å›¾æ ‡ï¼ˆå¦‚ Docker æ˜¾ç¤ºé²¸é±¼ï¼ŒJS æ˜¾ç¤º JS å›¾æ ‡ï¼‰ã€‚\n\nå®‰è£…æ¨¡å—ï¼š\n  Install-Module -Name Terminal-Icons -Repository PSGallery -Force\n\né…ç½®ï¼š\n  .$PROFILEImport-Module -Name Terminal-Icons\n\n\n2. ZLocation (å†å²è·¯å¾„å¯¼èˆª)å…è®¸ä½ å¿«é€Ÿå¯¼èˆªåˆ°å†å²è·¯å¾„ã€‚\nInstall-Module -Name ZLocation -Force\nä½¿ç”¨æ–¹æ³•ï¼šï¼ˆæ— éœ€é…ç½®ï¼‰\n\nè·³è½¬ï¼šz docï¼ˆè·³è½¬åˆ°åŒ…å« doc çš„å¸¸ç”¨ç›®å½•ï¼‰\nåé€€ï¼šz - (è·³å›ä¸Šä¸€ä¸ªç›®å½•)\n\n3. PSReadLine (è‡ªåŠ¨è¡¥å…¨)æä¾›ç±»ä¼¼ Zsh çš„å†å²å‘½ä»¤é¢„æµ‹å’Œè‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚\n\nå®‰è£…æ¨¡å—ï¼š\n  Install-Module -Name PSReadLine -AllowPrerelease -Scope CurrentUser -Force -SkipPublisherCheck\n\né…ç½®ï¼š\n  .$PROFILESet-PSReadLineOption -PredictionSource History   # è®¾ç½®é¢„æµ‹æºä¸ºå†å²è®°å½•Set-PSReadLineOption -PredictionViewStyle InlineView # è®¾ç½®é¢„æµ‹æ˜¾ç¤ºé£æ ¼ ( InlineView / ListView )Set-PSReadLineOption -EditMode Windows           # è®¾ç½®é”®ä½æ¨¡å¼\n\n\n4. PSFzf (æ¨¡ç³Šæœç´¢)è¿™æ˜¯å‘½ä»¤è¡Œç•Œçš„â€œSpotlightâ€æˆ–â€œEverythingâ€ã€‚å…è®¸ä½ ä½¿ç”¨æ¨¡ç³Šæœç´¢å¿«é€Ÿæ‰¾åˆ°æ–‡ä»¶æˆ–å†å²å‘½ä»¤ã€‚é…åˆ PSReadLine ä½¿ç”¨ç®€ç›´æ˜¯ç»æ€ã€‚\n\nå®‰è£…æ¨¡å—ï¼š\n  # å…ˆå®‰è£… fzf åº•å±‚å·¥å…·winget install junegunn.fzfInstall-Module -Name PSFzf -Force\n\né…ç½®ï¼š\n  Set-PsFzfOption -PSReadlineChordProvider &#x27;Ctrl+t&#x27; -PSReadlineChordReverseHistory &#x27;Ctrl+r&#x27;\n\nä½¿ç”¨æ–¹æ³•ï¼šæŒ‰ä¸‹ Ctrl + T é”®ï¼Œå½“å‰ç›®å½•ä¸‹å¿«é€Ÿæœç´¢æ–‡ä»¶ã€‚æŒ‰ä¸‹ Ctrl + R é”®ï¼Œå¿«é€Ÿæœç´¢å†å²å‘½ä»¤ã€‚\n\n\næœ€ç»ˆé…ç½®æ–‡ä»¶# === 1. ç¯å¢ƒå˜é‡ä¸ä»£ç† (æ ¹æ®éœ€è¦å¼€å¯) ===# $env:HTTP_PROXY = &quot;http://127.0.0.1:10808&quot;# $env:HTTPS_PROXY = &quot;http://127.0.0.1:10808&quot;# $env:ALL_PROXY = &quot;socks5://127.0.0.1:10808&quot;# === 2. å¯åŠ¨ Oh My Posh ===# åœ¨çº¿ä¸»é¢˜é¢„è§ˆï¼šhttps://ohmyposh.dev/docs/themes/oh-my-posh init pwsh --config &#x27;https://github.com/JanDeDobbeleer/oh-my-posh/blob/main/themes/1_shell.omp.json&#x27; | Invoke-Expression# === 3.1 å¼•å…¥å›¾æ ‡æ¨¡å— ===Import-Module -Name Terminal-Icons# === 3.3 é…ç½® PSReadLine ===Set-PSReadLineOption -PredictionSource History   # è®¾ç½®é¢„æµ‹æºä¸ºå†å²è®°å½•Set-PSReadLineOption -PredictionViewStyle InlineView # è®¾ç½®é¢„æµ‹æ˜¾ç¤ºé£æ ¼ ( InlineView / ListView )Set-PSReadLineOption -EditMode Windows           # è®¾ç½®é”®ä½æ¨¡å¼# === 3.4 é…ç½® PSFzf ===Set-PsFzfOption -PSReadlineChordProvider &#x27;Ctrl+t&#x27; -PSReadlineChordReverseHistory &#x27;Ctrl+r&#x27;\nç°åœ¨ï¼Œä½ çš„ Windows ç»ˆç«¯ä¸ä»…æ‹¥æœ‰äº†é»‘å®¢çº§çš„é¢œå€¼ï¼Œæ›´æ‹¥æœ‰äº†æé«˜çš„ç”Ÿäº§åŠ›ã€‚\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["æ•ˆç‡å·¥å…·","PowerShell","Oh My Posh","Windows Terminal"]},{"title":"Windows ç»ˆç«¯ç»ˆæè¿›åŒ–ï¼šGit + Zsh + Oh My Zsh å…¨æ”»ç•¥","url":"/posts/59e74bb9.html","content":"Windows åŸç”Ÿçš„ CMD å’Œ PowerShell åœ¨ä½“éªŒä¸Šä¸ Unix/Linux å­˜åœ¨å·®è·ã€‚æœ¬æ–‡å°†åˆ©ç”¨ Git Bash ä½œä¸ºåŸºç¡€ï¼Œæ¤å…¥ Zsh shellï¼Œå¹¶ç»“åˆ Windows Terminal å’Œ Oh My Zshï¼Œæ‰“é€ ä¸€å¥—æ—¢ç¾è§‚åˆé«˜æ•ˆçš„ç»ˆç«¯ç¯å¢ƒã€‚\nç¬¬ä¸€æ­¥ï¼šå®‰è£… Git (åŸºç¡€ç¯å¢ƒ)Git Bash æ˜¯ Windows ä¸Šæœ€è½»é‡çš„ç±» Unix ç¯å¢ƒï¼Œæˆ‘ä»¬å°†ä»¥å®ƒä¸ºå®¿ä¸»è¿è¡Œ Zshã€‚\n1. ä¸‹è½½ä¸å®‰è£…\nå®˜æ–¹ä¸‹è½½ï¼šgit-scm.com/downloads\n\nä¸‹è½½åè¿è¡Œå®‰è£…ç¨‹åºï¼Œå»ºè®®ä¸€è·¯ä¿æŒé»˜è®¤ (Next) å³å¯å®Œæˆå®‰è£…ã€‚\néªŒè¯å®‰è£…ï¼šæ‰“å¼€ CMD æˆ– PowerShellï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\ngit -v# è¾“å‡ºä¾‹å¦‚ï¼šgit version 2.52.0.windows.1\n2. åŸºç¡€é…ç½®å®‰è£…å®Œæˆåï¼Œé…ç½®ä½ çš„èº«ä»½ä¿¡æ¯ï¼ˆç”¨äºæäº¤ä»£ç ï¼‰ï¼š\ngit config --global user.name &quot;ä½ çš„ç”¨æˆ·å&quot;git config --global user.email &quot;ä½ çš„é‚®ç®±åœ°å€&quot;# æ¨èï¼šé˜²æ­¢ Windows/Linux æ¢è¡Œç¬¦æ··ä¹±git config --global core.autocrlf true\nç¬¬äºŒæ­¥ï¼šæ¤å…¥ Zsh ShellGit Bash é»˜è®¤ä½¿ç”¨ Bashï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ä¸‹è½½å¹¶â€œæ¤å…¥â€ Zshã€‚\n1. ä¸‹è½½ Zsh åŒ…æˆ‘ä»¬éœ€è¦ä» MSYS2 ä»“åº“ä¸‹è½½ Zsh çš„äºŒè¿›åˆ¶åŒ…ã€‚\n\nä¸‹è½½åœ°å€ï¼šMSYS2 Packages - Zsh\n\nåœ¨ File å¤„ï¼Œç‚¹å‡»é“¾æ¥ä¸‹è½½ï¼Œå¾—åˆ° zsh-5.x-x-x86_64.pkg.zst çš„æ–‡ä»¶ã€‚\n2. è§£å‹å¹¶å®‰è£…æ³¨æ„ï¼š æ­¤æ­¥éª¤éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œä¸”è§£å‹è¿‡ç¨‹éœ€è¦ç»†å¿ƒã€‚\n\n\nè§£å‹æ–‡ä»¶ï¼šä¸‹è½½çš„æ–‡ä»¶é€šå¸¸éœ€è¦è§£å‹ä¸¤æ¬¡ï¼ˆå…ˆè§£å‹ .zst ï¼Œå†è§£å‹å†…éƒ¨çš„ .pkgï¼‰ï¼Œç›´åˆ°çœ‹åˆ° usrã€etc ç­‰æ–‡ä»¶å¤¹ã€‚\nåˆå¹¶æ–‡ä»¶ï¼šå°†è§£å‹å‡ºæ¥çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆä¸»è¦æ˜¯ usr ç›®å½•ä¸‹çš„å†…å®¹ï¼‰ï¼Œè¦†ç›–å¤åˆ¶åˆ° Git çš„å®‰è£…ç›®å½•ä¸­ã€‚\nGit é»˜è®¤å®‰è£…è·¯å¾„ï¼šC:\\Program Files\\Git\næ“ä½œé€»è¾‘ï¼šå°†è§£å‹åŒ… usr/ ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ -> å¤åˆ¶åˆ° -> C:\\Program Files\\Git\\usr\\ ä¸‹åˆå¹¶ã€‚\n\n\n\n3. æ¿€æ´» Zshæ‰“å¼€ Git Bashï¼Œè¾“å…¥ zshã€‚å¦‚æœå‡ºç°é…ç½®å‘å¯¼ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚æŒ‰ 0 é€€å‡ºå‘å¯¼ï¼ˆæˆ‘ä»¬ä¼šç”¨ Oh My Zsh æ¥ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼‰ã€‚\n4. è®¾ç½®é»˜è®¤å¯åŠ¨ä¸ºäº†è®© Git Bash æ‰“å¼€æ—¶è‡ªåŠ¨è¿›å…¥ Zshï¼Œéœ€ç¼–è¾‘ Bash é…ç½®æ–‡ä»¶ã€‚\nåœ¨ç»ˆç«¯æ‰§è¡Œï¼šnotepad ~/.bashrcï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š\nif [ -t 1 ]; then  exec zshfi\nç¬¬ä¸‰æ­¥ï¼šå®‰è£… Oh My ZshOh My Zsh æ˜¯ Zsh çš„é…ç½®æ¡†æ¶ï¼Œæä¾›äº†ä¸°å¯Œçš„ä¸»é¢˜å’Œæ’ä»¶ã€‚\nsh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;\nçœ‹åˆ°å¤§å¤§çš„ â€œOh My Zshâ€ å­—ç¬¦ç”»ï¼Œå³è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚\nç¬¬å››æ­¥ï¼šé›†æˆåˆ° Windows Terminal (æ¨è)ä¸è¦ç›´æ¥ä½¿ç”¨ Git Bash çš„çª—å£ï¼ŒWindows Terminal æ‰æ˜¯ç°ä»£åŒ–çš„é€‰æ‹©ã€‚\n1. å®‰è£…å­—ä½“ (å…³é”®)Zsh çš„è®¸å¤šä¸»é¢˜ä¾èµ–ç‰¹æ®Šå›¾æ ‡ã€‚è¯·ä¸‹è½½å¹¶å®‰è£… Nerd Fontsã€‚\n\næ¨èï¼šJetBrainsMono Nerd Font\nä¸‹è½½è§£å‹åï¼Œå…¨é€‰ .ttf æ–‡ä»¶ï¼Œå³é”® -> å®‰è£…ã€‚\n\n2. æ·»åŠ é…ç½®æ–‡ä»¶æ‰“å¼€ Windows Terminal -> è®¾ç½® -> æ‰“å¼€ JSON æ–‡ä»¶ã€‚åœ¨ profiles -> list æ•°ç»„ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®å—ï¼š\n&#123;    &quot;guid&quot;: &quot;&#123;2ece5bfe-50ed-5f3a-ab87-5cd4baafed2b&#125;&quot;,     &quot;name&quot;: &quot;Git Bash&quot;,    &quot;commandline&quot;: &quot;C:\\\\Program Files\\\\Git\\\\bin\\\\bash.exe -i -l&quot;,    &quot;icon&quot;: &quot;C:\\\\Program Files\\\\Git\\\\mingw64\\\\share\\\\git\\\\git-for-windows.ico&quot;,    &quot;startingDirectory&quot;: &quot;%USERPROFILE%&quot;,    &quot;font&quot;:     &#123;        &quot;face&quot;: &quot;JetBrainsMono NF&quot;    &#125;,    &quot;opacity&quot;: 90,    &quot;useAcrylic&quot;: true&#125;\næ³¨æ„ï¼šè¯·æ ¹æ®ä½ çš„å®é™…å®‰è£…è·¯å¾„è°ƒæ•´ commandline å’Œ iconã€‚\nç¬¬äº”æ­¥ï¼šæ’ä»¶ä¸ç¾åŒ–ç¼–è¾‘ Zsh é…ç½®æ–‡ä»¶ï¼šnotepad ~/.zshrcã€‚\n1. ä¿®æ”¹ä¸»é¢˜æ‰¾åˆ° ZSH_THEME å­—æ®µã€‚\n\né»˜è®¤ï¼šrobbyrussell\næ¨èï¼šcloud (ç‚«é…·ï¼Œéœ€è¦ Nerd Fonts)\nåœ¨çº¿ä¸»é¢˜é¢„è§ˆï¼šhttps://github.com/ohmyzsh/ohmyzsh/wiki/Themes\n\n\nZSH_THEME=&quot;cloud&quot;\n2. å®‰è£…é«˜æ•ˆç‡æ’ä»¶æˆ‘ä»¬å®‰è£…ä¸¤ä¸ªæœ€ç¥å™¨çš„æ’ä»¶ï¼šè‡ªåŠ¨å»ºè®® å’Œ è¯­æ³•é«˜äº®ã€‚\nä¸‹è½½æ’ä»¶ï¼š\n# è¿›å…¥æ’ä»¶ç›®å½•cd ~/.oh-my-zsh/custom/plugins# ä¸‹è½½ zsh-autosuggestions (è‡ªåŠ¨è¡¥å…¨å»ºè®®)git clone https://github.com/zsh-users/zsh-autosuggestions# ä¸‹è½½ zsh-syntax-highlighting (è¯­æ³•é«˜äº®)git clone https://github.com/zsh-users/zsh-syntax-highlighting\nå¯ç”¨æ’ä»¶ï¼š\nä¿®æ”¹ ~/.zshrc ä¸­çš„ plugins å­—æ®µï¼ˆæ³¨æ„ï¼šæ‹¬å·å†…æ˜¯ç©ºæ ¼åˆ†éš”ï¼‰ï¼š\nplugins=(git zsh-autosuggestions zsh-syntax-highlighting)\n3. é…ç½®ç½‘ç»œä»£ç† (å¯é€‰)å¦‚æœä½ åœ¨æ‹‰å–ä»£ç æ—¶ç½‘ç»œä¸ç•…ï¼Œå¯ä»¥åœ¨ ~/.zshrc æœ«å°¾æ·»åŠ ä»£ç†åˆ«åï¼š\n ç‚¹å‡»å±•å¼€ä»£ç†é…ç½®ä»£ç  \n              \n              # === ä»£ç†è®¾ç½® ===# è¯·ä¿®æ”¹ä¸ºä½ çš„ä»£ç†ç«¯å£PROXY_HTTP=&quot;http://127.0.0.1:10808&quot;PROXY_SOCKS=&quot;socks5://127.0.0.1:10808&quot;proxy_on() &#123;  export http_proxy=&quot;$PROXY_HTTP&quot;  export https_proxy=&quot;$PROXY_HTTP&quot;  export all_proxy=&quot;$PROXY_SOCKS&quot;  echo &quot;ğŸŒ Proxy ON: $PROXY_HTTP&quot;&#125;proxy_off() &#123;  unset http_proxy https_proxy all_proxy  echo &quot;âŒ Proxy OFF&quot;&#125;proxy_status() &#123;  if [[ -n &quot;$http_proxy&quot; ]]; then    echo &quot;âœ… Proxy ON ($PROXY_HTTP)&quot;  else    echo &quot;ğŸš« Proxy OFF&quot;  fi&#125;# é»˜è®¤å¼€å¯ï¼ˆå¯é€‰ï¼‰proxy_on\n              \n            \næœ€åï¼Œæ‰§è¡Œ source ~/.zshrc è®©æ‰€æœ‰é…ç½®ç”Ÿæ•ˆã€‚ç°åœ¨ï¼Œå°½æƒ…äº«å—ä½ çš„ Windows ç»ˆç«¯å§ï¼\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["æ•ˆç‡å·¥å…·","Windows Terminal","Git","Zsh","Oh My Zsh"]},{"title":"æ‰“é€ å…è´¹æé€Ÿå›¾åºŠï¼šPicGo + GitHub + jsDelivr å…¨æµç¨‹æŒ‡å—","url":"/posts/c17ea3c3.html","content":"åœ¨ Markdown å†™ä½œæˆ–åšå®¢æ­å»ºä¸­ï¼Œå›¾ç‰‡çš„å­˜å‚¨å’Œå¼•ç”¨ä¸€ç›´æ˜¯ä¸ªç—›ç‚¹ã€‚å°†å›¾ç‰‡ç›´æ¥å­˜æ”¾åœ¨æœ¬åœ°ä¼šå¯¼è‡´åˆ†äº«å›°éš¾ï¼Œè€Œå•†ä¸šå›¾åºŠåˆé¢ä¸´æ”¶è´¹æˆ–è·‘è·¯çš„é£é™©ã€‚\næœ¬æ–‡å°†å¸¦ä½ æ­å»ºä¸€å¥— â€œGitHub (å­˜å‚¨) + jsDelivr (åŠ é€Ÿ) + PicGo (ä¸Šä¼ å·¥å…·)â€ çš„é»„é‡‘ç»„åˆï¼Œå®ç°å…è´¹ã€ç¨³å®šä¸”å…¨çƒè®¿é—®æé€Ÿçš„å›¾åºŠæœåŠ¡ã€‚\nç¬¬ä¸€æ­¥ï¼šåˆ›å»º GitHub ä»“åº“æ‰€è°“çš„â€œå›¾åºŠâ€ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª Public (å…¬å¼€) çš„ GitHub ä»“åº“ã€‚\n\nç™»å½• GitHubï¼Œç‚¹å‡»å³ä¸Šè§’çš„ + å·ï¼Œé€‰æ‹© New repositoryã€‚\nRepository nameï¼šå¡«å†™ä»“åº“åï¼ˆä¾‹å¦‚ï¼špic.cloudï¼‰ã€‚\nVisibilityï¼šå¿…é¡»é€‰æ‹© Publicï¼ˆç§æœ‰ä»“åº“æ— æ³•é€šè¿‡ CDN è®¿é—®ï¼‰ã€‚\nç‚¹å‡» Create repositoryã€‚\n\næ­¤æ—¶ï¼Œä½ å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªäº‘ç«¯å­˜å‚¨ç©ºé—´ã€‚è™½ç„¶ä½ å¯ä»¥æ‰‹åŠ¨ä¸Šä¼ å›¾ç‰‡ï¼Œä½†ä¸ºäº†æ•ˆç‡ï¼Œæˆ‘ä»¬éœ€è¦å·¥å…·è¾…åŠ©ã€‚\nç¬¬äºŒæ­¥ï¼šè·å– Access Tokenä¸ºäº†è®© PicGo æœ‰æƒé™å‘ä½ çš„ä»“åº“ä¸Šä¼ æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆä¸€ä¸ªè®¿é—®ä»¤ç‰Œï¼ˆTokenï¼‰ã€‚\n\nç‚¹å‡» GitHub å¤´åƒ -&gt; Settingsã€‚\nåœ¨å·¦ä¾§èœå•æœ€ä¸‹æ–¹æ‰¾åˆ° Developer settings -&gt; Personal access tokens -&gt; Tokens (classic)ã€‚\nç‚¹å‡»å³ä¸Šè§’çš„ Generate new token (classic)ã€‚\né…ç½® Tokenï¼š\nNote (åç§°)ï¼šéšæ„å¡«å†™ï¼Œå¦‚ PicGoã€‚\nExpiration (è¿‡æœŸæ—¶é—´)ï¼šå»ºè®®é€‰æ‹© No expiration (æ°¸ä¸è¿‡æœŸ)ï¼Œä»¥å…é¢‘ç¹æ›´æ¢ã€‚\nScopes (æƒé™)ï¼šå¿…é¡»å‹¾é€‰ repoï¼Œè¿™åŒ…å«äº†ä¸Šä¼ æ–‡ä»¶æ‰€éœ€çš„æƒé™ã€‚\n\n\nç‚¹å‡»åº•éƒ¨çš„ Generate tokenã€‚\n\n\nâš ï¸ é‡è¦æç¤ºï¼šç”Ÿæˆçš„ Token åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼è¯·åŠ¡å¿…ç«‹å³å¤åˆ¶å¹¶ä¿å­˜åˆ°å®‰å…¨çš„åœ°æ–¹ã€‚å¦‚æœé—å¿˜ï¼Œåªèƒ½é‡æ–°ç”Ÿæˆã€‚\n\nç¬¬ä¸‰æ­¥ï¼šå®‰è£…ä¸é…ç½® PicGoPicGo æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„å¼€æºå›¾ç‰‡ä¸Šä¼ å·¥å…·ã€‚\n1. å®‰è£…PicGo çš„å®‰è£…éå¸¸ç®€å•ï¼Œç›´æ¥ä» GitHub Releases ä¸‹è½½æœ€æ–°ç‰ˆå®‰è£…åŒ…ï¼Œå¹¶åŒå‡»å®‰è£…ã€‚\n2. é…ç½® GitHub å›¾åºŠæ‰“å¼€ PicGo ä¸»ç•Œé¢ï¼Œè¿›å…¥ å›¾åºŠè®¾ç½® -&gt; GitHubã€‚å¦‚æœä¾§è¾¹æ æ²¡æœ‰ GitHubï¼Œè¯·åœ¨â€œPicGoè®¾ç½®â€ä¸­å‹¾é€‰â€œæ˜¾ç¤ºGitHubâ€ã€‚\nç‚¹å‡» ç¼–è¾‘ï¼ˆæˆ–æ–°å»ºé…ç½®ï¼‰ï¼Œå¡«å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š\n\n\n\n\nå­—æ®µ\nè¯´æ˜ä¸ç¤ºä¾‹\næ˜¯å¦å¿…å¡«\n\n\n\n\nå›¾åºŠé…ç½®å\néšæ„å¡«å†™ï¼Œç”¨äºåŒºåˆ†ä¸åŒé…ç½®ã€‚ä¾‹ï¼špic.cloud\næ˜¯\n\n\nè®¾å®šä»“åº“å\næ ¼å¼ä¸º ç”¨æˆ·å/ä»“åº“åã€‚ä¾‹ï¼šlijiabao9/pic.cloud\næ˜¯\n\n\nè®¾å®šåˆ†æ”¯å\nä»“åº“çš„åˆ†æ”¯ï¼Œæ–°ä»“åº“é»˜è®¤ä¸º mainï¼Œæ—§ä»“åº“å¯èƒ½æ˜¯ masterã€‚ä¾‹ï¼šmain\næ˜¯\n\n\nè®¾å®šToken\nç²˜è´´ç¬¬äºŒæ­¥ä¸­ç”Ÿæˆçš„ ghp_ å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚\næ˜¯\n\n\nè®¾å®šå­˜å‚¨è·¯å¾„\nå›¾ç‰‡åœ¨ä»“åº“ä¸­çš„å­ç›®å½•ï¼Œå»ºè®®ä»¥ / ç»“å°¾ã€‚ä¾‹ï¼šimg/ æˆ– hexo/post/\nå¦\n\n\nè®¾å®šè‡ªå®šä¹‰åŸŸå\n(å…³é”®) é…ç½® jsDelivr CDN åŠ é€Ÿé“¾æ¥ã€‚æ ¼å¼ï¼šhttps://cdn.jsdelivr.net/gh/ç”¨æˆ·å/ä»“åº“å@åˆ†æ”¯åä¾‹ï¼šhttps://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main\nå¦(å¼ºçƒˆæ¨è)\n\n\n\n\n\nğŸ’¡ å…³äºè‡ªå®šä¹‰åŸŸåï¼ˆCDN åŠ é€Ÿï¼‰GitHub çš„åŸå§‹å›¾ç‰‡é“¾æ¥ (raw.githubusercontent.com) åœ¨å›½å†…è®¿é—®æä¸ç¨³å®šã€‚å¼ºçƒˆå»ºè®®é…ç½® jsDelivrï¼Œæ ¼å¼ä¸¥æ ¼éµå¾ªï¼šhttps://cdn.jsdelivr.net/gh/ã€ä½ çš„GitHubç”¨æˆ·åã€‘/ã€ä»“åº“åã€‘@ã€åˆ†æ”¯åã€‘\n\nç‚¹å‡» ç¡®å®š å¹¶åœ¨åˆ—è¡¨ä¸­å°†å…¶è®¾ç½®ä¸º é»˜è®¤å›¾åºŠã€‚\nç¬¬å››æ­¥ï¼šæé€Ÿå·¥ä½œæµé…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½“éªŒè¡Œäº‘æµæ°´çš„å†™ä½œä½“éªŒäº†ã€‚\n1. å¿«æ·é”®ä¸Šä¼ æ¨èé…åˆæˆªå›¾ç¥å™¨ Snipaste ä½¿ç”¨ï¼š\n\nä½¿ç”¨ Snipaste æˆªå›¾ (F1) å¹¶å¤åˆ¶åˆ°å‰ªè´´æ¿ (Ctrl + C)ã€‚\nä½¿ç”¨ PicGo å¿«æ·é”®ä¸Šä¼ ï¼ˆå¯åœ¨è®¾ç½®ä¸­ä¿®æ”¹ä¸º Ctrl + Shift + G é¡ºæ‰‹çš„é”®ï¼‰ã€‚\nPicGo ä¸Šä¼ æˆåŠŸåï¼Œä¼šè‡ªåŠ¨å°† CDN é“¾æ¥ï¼ˆMarkdown æ ¼å¼ï¼‰å†™å…¥å‰ªè´´æ¿ã€‚\nåœ¨æ–‡ç« ä¸­ç›´æ¥ç²˜è´´ (Ctrl + V) å³å¯ã€‚\n\n2. è‡ªåŠ¨å¤åˆ¶è®¾ç½®ç¡®ä¿åœ¨ PicGo è®¾ç½® ä¸­å¼€å¯äº†ä»¥ä¸‹é€‰é¡¹ï¼š\n\n[âˆš] æ—¶é—´æˆ³é‡å‘½åï¼ˆå¯é€‰ï¼Œæ¨èå¼€å¯ï¼Œé˜²æ­¢æ–‡ä»¶åå†²çªï¼‰\n[âˆš] ä¸Šä¼ åè‡ªåŠ¨å¤åˆ¶ URL\n\n3. æ’ä»¶é›†æˆåœ¨ æ’ä»¶è®¾ç½® ä¸­ï¼Œæœç´¢å®‰è£… webp 1.0.0 æ’ä»¶ï¼Œå¯ç”¨è¯¥æ’ä»¶ã€‚ä¸Šä¼ å›¾ç‰‡æ—¶ï¼Œæ­¤æ’ä»¶ä¼šè‡ªåŠ¨å°†å›¾ç‰‡è½¬ä¸º .webp æ ¼å¼ã€‚\nè‡³æ­¤ï¼Œä¸€ä¸ªå…è´¹ã€é«˜é€Ÿã€ç¨³å®šçš„å›¾åºŠç¯å¢ƒå°±æ­å»ºå®Œæˆäº†ã€‚\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["æ•ˆç‡å·¥å…·","PicGo","GitHub","å›¾åºŠ","Snipaste"]},{"title":"æœ¬åœ°å¤§æ¨¡å‹ç»ˆææŒ‡å—ï¼šOllama + Open WebUI æ­å»ºç§æœ‰ ChatGPT","url":"/posts/798e3348.html","content":"æƒ³è¦æ‹¥æœ‰ä¸€ä¸ªå®Œå…¨éšç§ã€ç¦»çº¿å¯ç”¨ä¸”å…è´¹çš„ AI åŠ©æ‰‹ï¼Ÿ\næœ¬æ–‡å°†å¸¦ä½ é€šè¿‡ Ollamaï¼ˆåç«¯æ¨¡å‹æœåŠ¡ï¼‰å’Œ Open WebUIï¼ˆå‰ç«¯äº¤äº’ç•Œé¢ï¼‰çš„ç»„åˆï¼Œåœ¨æœ¬åœ°ç”µè„‘ä¸Šæ­å»ºä¸€å¥—ç§æœ‰çš„ â€œChatGPTâ€ã€‚\nç¬¬ä¸€éƒ¨åˆ†ï¼šOllama ç¯å¢ƒæ­å»ºOllama æ˜¯ç›®å‰æœ€æµè¡Œçš„æœ¬åœ°å¤§æ¨¡å‹è¿è¡Œå·¥å…·ï¼Œæ”¯æŒ Llama 3ã€Gemmaã€Mistral ç­‰å¤šç§æ¨¡å‹ã€‚\n1. ä¸‹è½½å®‰è£…åŒ…å‰å¾€å®˜ç½‘ä¸‹è½½ Windows ç‰ˆæœ¬çš„å®‰è£…ç¨‹åºï¼š\n\nä¸‹è½½åœ°å€ï¼š https://ollama.com/download\n\n2. è¿›é˜¶æŠ€å·§ï¼šå¼ºåˆ¶å®‰è£…åœ¨ D ç›˜Ollama é»˜è®¤ä¼šè‡ªåŠ¨å®‰è£…åˆ° C ç›˜ï¼ˆç”¨æˆ·ç›®å½•ï¼‰ã€‚ä¸ºäº†èŠ‚çœç³»ç»Ÿç›˜ç©ºé—´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°å¼ºåˆ¶ä¿®æ”¹å®‰è£…ä½ç½®ã€‚\n\nåœ¨ D ç›˜åˆ›å»ºç›®æ ‡æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ï¼šD:\\Ollamaã€‚\nå°†ä¸‹è½½å¥½çš„ OllamaSetup.exe ç§»åŠ¨åˆ°è¯¥ç›®å½•ä¸‹ã€‚\nåœ¨è¯¥ç›®å½•ä¸‹æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ (CMD) æˆ– PowerShellï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n\nOllamaSetup.exe /DIR=D:\\Ollama\nå®‰è£…å®Œæˆåï¼ŒSetup å¼•å¯¼ç¨‹åºå³å¯åˆ é™¤ã€‚\n3. é…ç½®ç¯å¢ƒå˜é‡ä¸ºäº†åœ¨ä»»æ„ç›®å½•ä¸‹éƒ½èƒ½ä½¿ç”¨ ollama å‘½ä»¤ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥æˆ–æ‰‹åŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ã€‚\n\næ“ä½œï¼š å°† Ollama çš„å®‰è£…ç›®å½•ï¼ˆå¦‚ D:\\Ollamaï¼‰æ·»åŠ åˆ°ç³»ç»Ÿå˜é‡ PATH ä¸­ã€‚\n\n4. å…³é”®é…ç½®ï¼šä¿®æ”¹æ¨¡å‹å­˜å‚¨è·¯å¾„å¤§æ¨¡å‹æ–‡ä»¶é€šå¸¸éå¸¸å ç”¨ç©ºé—´ï¼ˆå‡ ä¸ª GB åˆ°å‡ å GB ä¸ç­‰ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å‹å­˜å‚¨åœ¨ ~/.Ollama/models (C ç›˜)ã€‚\næ‰“å¼€ Ollama çš„å›¾å½¢åŒ–ç•Œé¢ï¼Œç‚¹å‡» Settings -&gt; Model locationï¼Œä¿®æ”¹æ¨¡å‹å­˜å‚¨è·¯å¾„ä¸º D ç›˜çš„ D:\\Ollama\\modelsã€‚\n5. æ‹‰å–å¹¶æµ‹è¯•æ¨¡å‹ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼Œè®©æˆ‘ä»¬è¿è¡Œç¬¬ä¸€ä¸ªæ¨¡å‹ã€‚ä½ å¯ä»¥è®¿é—® Ollama æ¨¡å‹åº“ æŸ¥çœ‹æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨ã€‚\nä»¥ Google æœ€æ–°çš„ gemma3 ä¸ºä¾‹ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œï¼š\nollama run gemma3\né¦–æ¬¡æ‰§è¡Œæ—¶ï¼ŒOllama ä¼šè‡ªåŠ¨æ‹‰å–æ¨¡å‹æ–‡ä»¶ã€‚ä¸‹è½½å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨ç»ˆç«¯ç›´æ¥ä¸ AI å¯¹è¯äº†ã€‚\n\nç¬¬äºŒéƒ¨åˆ†ï¼šOpen WebUI å¯è§†åŒ–ç•Œé¢æ­å»ºè™½ç„¶ç»ˆç«¯å¯ä»¥ä½¿ç”¨ AIï¼Œä½†ä¸€ä¸ªç±»ä¼¼ ChatGPT çš„ç½‘é¡µç•Œé¢èƒ½æä¾›æ›´å¥½çš„ä½“éªŒï¼ˆå†å²è®°å½•ã€Markdown æ¸²æŸ“ã€å¤šæ¨¡æ€æ”¯æŒï¼‰ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ Open WebUIã€‚\n1. ç¯å¢ƒä¾èµ–\nDocker Desktopï¼šOpen WebUI åŸºäº Docker è¿è¡Œï¼Œè¯·ç¡®ä¿å·²å®‰è£… Dockerã€‚Docker Desktop æœ€ä½³å®è·µï¼šè‡ªå®šä¹‰å®‰è£…è·¯å¾„ä¸é•œåƒåŠ é€Ÿé…ç½®\nOllamaï¼šç¡®ä¿ä¸Šè¿° Ollama æœåŠ¡å·²åœ¨è¿è¡Œã€‚é»˜è®¤ä¼šç›‘å¬ 127.0.0.1:11434ï¼Œè¯·ç¡®ä¿è¯¥ç«¯å£æœªè¢«å…¶ä»–ç¨‹åºå ç”¨ã€‚\n\n2. éƒ¨ç½² Open WebUIä½¿ç”¨ Docker ä¸€é”®éƒ¨ç½²ã€‚åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\ndocker run -d -p 3000:8080 --add-host=host.docker.internal:host-gateway -v open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:main\nå‘½ä»¤è¯¦è§£ï¼š\n\n-p 3000:8080: å°†å®¹å™¨çš„ 8080 ç«¯å£æ˜ å°„åˆ°æœ¬åœ°çš„ 3000 ç«¯å£ã€‚\n--add-host=host.docker.internal:host-gateway: å…³é”®å‚æ•°ï¼Œå…è®¸ Docker å®¹å™¨å†…éƒ¨è®¿é—®å®¿ä¸»æœºï¼ˆä¹Ÿå°±æ˜¯ä½ çš„ Windows ç”µè„‘ï¼‰ä¸Šçš„ Ollama æœåŠ¡ã€‚\n-v open-webui:/app/backend/data: æ•°æ®æŒä¹…åŒ–ï¼Œç¡®ä¿ä½ çš„èŠå¤©è®°å½•ä¸ä¼šå› é‡å¯å®¹å™¨è€Œä¸¢å¤±ã€‚\n--restart always: è®¾ç½®å¼€æœºè‡ªå¯ã€‚\n\n3. å¼€å§‹ä½¿ç”¨\nè®¿é—®ç•Œé¢ï¼šæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://localhost:3000ã€‚\nåˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼šé¦–æ¬¡è¿›å…¥ç³»ç»Ÿï¼Œç•Œé¢ä¼šæç¤ºæ³¨å†Œè´¦å·ã€‚\næ³¨ï¼šè¿™æ˜¯å®Œå…¨è¿è¡Œåœ¨ä½ æœ¬åœ°æ•°æ®åº“çš„è´¦å·ï¼Œæ•°æ®ä¸ä¼šä¸Šä¼ åˆ°äº‘ç«¯ã€‚\n\n\n\næ³¨å†Œå¹¶ç™»å½•åï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç†Ÿæ‚‰çš„èŠå¤©ç•Œé¢ã€‚Open WebUI ä¼šè‡ªåŠ¨æ£€æµ‹æœ¬åœ°è¿è¡Œçš„ Ollama æ¨¡å‹ã€‚é€‰æ‹©åˆšæ‰ä¸‹è½½çš„ gemma3ï¼Œå³å¯å¼€å§‹ç•…èŠï¼\n\nè‡³æ­¤ï¼Œä½ å·²ç»æ‹¥æœ‰äº†ä¸€å¥—å®Œå…¨å±äºè‡ªå·±çš„ã€æ— éœ€è”ç½‘ï¼ˆæ¨¡å‹ä¸‹è½½åï¼‰ã€æ— éšç§æ³„éœ²é£é™©çš„ AI ç”Ÿäº§åŠ›å·¥å…·ã€‚\n","categories":["å¼€å‘ç¯å¢ƒ","Windows"],"tags":["Docker","Ollama","Open WebUI"]},{"title":"ä»é›¶å¼€å§‹ï¼šåŸŸåè´­ä¹°ã€Cloudflare æ‰˜ç®¡ä¸ Nginx è‡ªåŠ¨åŒ– HTTPS é…ç½®å…¨æŒ‡å—","url":"/posts/e94f4538.html","content":"æ­å»ºä¸€ä¸ªå®‰å…¨çš„ç½‘ç«™ï¼Œä»æ‹¥æœ‰ä¸€ä¸ªåŸŸåå¼€å§‹ã€‚æœ¬æ–‡å°†å¸¦ä½ èµ°å®Œï¼šåŸŸåè´­ä¹° -&gt; æ¥å…¥ Cloudflare CDN -&gt; æœåŠ¡å™¨è·å– SSL è¯ä¹¦ -&gt; Nginx åå‘ä»£ç† çš„å…¨å¥—æµç¨‹ã€‚\nç¬¬ä¸€æ­¥ï¼šåŸŸåè´­ä¹° (SpaceShip)æ¨èä½¿ç”¨ SpaceShipï¼Œå®ƒæ˜¯ Namecheap æ——ä¸‹çš„æ–°å¹³å°ï¼Œç•Œé¢ç°ä»£ä¸”ä»·æ ¼é€æ˜ã€‚\n1. é€‰è´­æŠ€å·§\næœç´¢ç­–ç•¥ï¼šåœ¨é¦–é¡µæœç´¢ 6ä½æ•°å­— çš„ .xyz åŸŸåï¼ˆä¾‹å¦‚ 131495.xyzï¼‰ã€‚\nä»·æ ¼é™·é˜±ï¼šç¡®ä¿é¦–å¹´ä»·æ ¼æ˜¾ç¤ºä¸º $0.67 å·¦å³ã€‚\næ”¯ä»˜æ–¹å¼ï¼šæ”¯æŒ Visa/MasterCard ä¿¡ç”¨å¡ã€æ”¯ä»˜å®ç­‰ã€‚\n\næ³¨æ„ç»­è´¹ä»·æ ¼ï¼šè´­ä¹°å‰è¯·ç•™æ„ Renewal Priceã€‚å»ºè®®åœ¨ç»“è´¦æ—¶ç›´æ¥ç‚¹å‡» Extend subscriptionï¼Œå‹¾é€‰ 9 yearsï¼Œä¸€æ¬¡æ€§ä¹°æ–­ 10 å¹´ï¼Œé¿å…åç»­æ¶¨ä»·çƒ¦æ¼ã€‚\n\nè´­ä¹°å®Œæˆåï¼Œç‚¹å‡»å³ä¸Šè§’ Launchpad -&gt; Domain Manager å³å¯çœ‹åˆ°ä½ çš„åŸŸåã€‚\n\nç¬¬äºŒæ­¥ï¼šæ‰˜ç®¡åˆ° Cloudflareå›½å†…åŸŸåè§£æéœ€è¦å®åè®¤è¯å¤‡æ¡ˆï¼Œä¸”è§£æé€Ÿåº¦å’ŒåŠŸèƒ½ä¸å¦‚ Cloudflare å¼ºå¤§ã€‚æˆ‘ä»¬å°† DNS è§£ææƒç§»äº¤ç»™ Cloudflareã€‚\n1. æ¥å…¥ç«™ç‚¹\nç™»å½• Cloudflareï¼Œç‚¹å‡» åŠ å…¥åŸŸã€‚\nè¾“å…¥ä½ çš„åŸŸå 131495.xyzï¼Œå‹¾é€‰ å¿«é€Ÿæ‰«æ DNS è®°å½•ï¼Œç‚¹å‡» ç»§ç»­ã€‚\né€‰æ‹© Free (å…è´¹è®¡åˆ’)ã€‚\n\n2. ä¿®æ”¹ NameServer (NS)Cloudflare ä¼šåˆ†é…ä¸¤ä¸ª NS åœ°å€ï¼ˆä¾‹å¦‚ xxxx.ns.cloudflare.comï¼‰ã€‚\n\nå›åˆ° SpaceShip çš„ Domain Managerï¼Œç‚¹å‡» ä½ çš„åŸŸåã€‚\næ‰¾åˆ° NameServers &amp; DNS é€‰é¡¹ï¼Œç‚¹å‡» Nameservers çš„ changeã€‚\né€‰æ‹© Custom nameserversï¼Œå¡«å…¥ Cloudflare æä¾›çš„ä¸¤ä¸ªåœ°å€å¹¶ä¿å­˜ã€‚\n\nç­‰å¾…ç”Ÿæ•ˆï¼ˆé€šå¸¸å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶ï¼‰ï¼Œæ”¶åˆ° Cloudflare çš„é‚®ä»¶å³ä»£è¡¨æ‰˜ç®¡æˆåŠŸã€‚\n3. DNS è®°å½•ä¸ä»£ç†çŠ¶æ€åœ¨ Cloudflare çš„åŸŸåç®¡ç†é¡µé¢ï¼Œåœ¨ DNS -&gt; è®°å½• ä¸­é…ç½®è§£æã€‚\n\nA è®°å½•ï¼šå°†åŸŸåæŒ‡å‘ä½ æœåŠ¡å™¨çš„ IPv4 åœ°å€ã€‚\nCNAME è®°å½•ï¼šç”¨äºåˆ«åè§£æã€‚\n\nå…³äºâ€œå°é»„äº‘â€ï¼ˆä»£ç†çŠ¶æ€ï¼‰ï¼š\n\nå¼€å¯ (æ©™äº‘)ï¼šæµé‡ç»è¿‡ Cloudflare CDNã€‚éšè—çœŸå® IPï¼Œæä¾›é˜²æŠ¤ï¼Œæ”¯æŒ SSLã€‚\nå…³é—­ (ç°äº‘)ï¼šä»…ä½œä¸º DNS è§£æã€‚ç›´è¿æœåŠ¡å™¨ï¼Œæš´éœ²çœŸå® IPã€‚\n\n\n4. æ¨èçš„ Cloudflare ä¼˜åŒ–é…ç½®å¼€å¯æ©™äº‘ä»£ç†åï¼Œå»ºè®®è°ƒæ•´ä»¥ä¸‹è®¾ç½®ä»¥æå‡æ€§èƒ½å’Œå®‰å…¨ï¼š\n\nSSL/TLS -&gt; æ¦‚è¿°ï¼šè®¾ç½®ä¸º å®Œå…¨(ä¸¥æ ¼) / Full (Strict)ï¼ˆæœ€å®‰å…¨ï¼Œè¦æ±‚æºæœåŠ¡å™¨æœ‰æœ‰æ•ˆè¯ä¹¦ï¼‰\nå®‰å…¨æ€§ -&gt; è®¾ç½®ï¼šå¼€å¯ è‡ªåŠ¨ç¨‹åºæ”»å‡»æ¨¡å¼ï¼Œè¿ç»­è„šæœ¬ç›‘è§†\né€Ÿåº¦ -&gt; é…ç½®ï¼šç‚¹å‡» å»ºè®® é‡Œçš„ å¯ç”¨æ‰€æœ‰å¯ç”¨é…ç½®ï¼ŒCloudflare Fontsï¼ŒEarly Hintsï¼Œ0-RTT è¿æ¥æ¢å¤\nç¼“å­˜ -&gt; é…ç½®ï¼šCSAM æ‰«æå·¥å…·ï¼ŒCrawler Hintsï¼ŒAlways Onlineâ„¢\nè§„åˆ™ -&gt; è®¾ç½®ï¼šå¼€å¯ä»¥ä¸‹åŠŸèƒ½\næ·»åŠ  TLS å®¢æˆ·ç«¯èº«ä»½éªŒè¯æ ‡å¤´\næ·»åŠ è®¿é—®è€…ä½ç½®æ ‡å¤´\nåˆ é™¤è®¿é—®è€… IP æ ‡å¤´\næ·»åŠ æ³„éœ²å‡­æ®æ£€æŸ¥æ ‡å¤´\nåˆ é™¤ â€œX-Powered-Byâ€ æ ‡å¤´\næ·»åŠ å®‰å…¨æ€§æ ‡å¤´\nURL è§„èŒƒåŒ– -&gt; æ ‡å‡†åŒ–ä¼ å…¥åˆ°æºæœåŠ¡å™¨çš„ URL\n\n\nç½‘ç»œï¼šå¼€å¯ gRPC\nScrape Shiedldï¼šHotlinkä¿æŠ¤\n\n\nç¬¬ä¸‰æ­¥ï¼šè·å–å…¬å¼€å¯ä¿¡è¯ä¹¦ (ACME)è™½ç„¶ Cloudflare æä¾›æºæœåŠ¡å™¨è¯ä¹¦ï¼Œä½†ä¸ºäº†é€šç”¨æ€§å’Œçµæ´»æ€§ï¼ˆæ¯”å¦‚åç»­æƒ³åˆ‡å›ç°äº‘ç›´è¿ï¼‰ï¼Œæ¨èä½¿ç”¨ acme.sh ç”³è¯· Letâ€™s Encrypt çš„æ³›åŸŸåè¯ä¹¦ã€‚\n1. è·å– Cloudflare API Tokenæˆ‘ä»¬éœ€è¦æˆæƒ acme.sh ä¿®æ”¹ Cloudflare çš„ DNS è®°å½•æ¥å®ŒæˆåŸŸåéªŒè¯ã€‚\n\né¦–é¡µ -&gt; ç®¡ç†è´¦å· -&gt; è´¦å· API ä»¤ç‰Œ -&gt; åˆ›å»ºä»¤ç‰Œã€‚\nä½¿ç”¨æ¨¡æ¿ï¼šç¼–è¾‘åŒºåŸŸ DNSã€‚\nä»¤ç‰Œåç§°ï¼šä»»æ„å¡«å†™ï¼Œæ¯”å¦‚ ACME è¯ä¹¦ç»­æœŸ\næƒé™ï¼šé€‰æ‹© åŒºåŸŸ -&gt; DSN -&gt; ç¼–è¾‘\nåŒºåŸŸèµ„æºï¼šé€‰æ‹© åŒ…æ‹¬ -&gt; ç‰¹å®šåŒºåŸŸ -&gt; ä½ çš„åŸŸå\nå®¢æˆ·ç«¯IPåœ°å€ç­›é€‰ï¼šï¼ˆå¯é€‰ï¼‰å¯è®¾ç½®ipé»‘ç™½åå•\nTTLï¼šï¼ˆå¯é€‰ï¼‰å¯é…ç½®ä»¤ç‰Œæœ‰æ•ˆæœŸ\n\n\nç”Ÿæˆå¹¶å¤åˆ¶ Tokenã€‚\n\n2. å®‰è£… acme.shç™»å½•æœåŠ¡å™¨ï¼Œæ‰§è¡Œå®‰è£…ï¼š\n# å®‰è£…ä¾èµ–apt update &amp;&amp; apt install -y curl socat# å®‰è£… acme.shcurl https://get.acme.sh | sh\n3. é…ç½®ç¯å¢ƒå˜é‡å°† API Token å¯¼å…¥ç¯å¢ƒå˜é‡ï¼Œvi ~/.bashrc æ·»åŠ ï¼š\n# æ³¨æ„ï¼šCF_Token æ˜¯ Cloudflare ä¸“ç”¨çš„å˜é‡åï¼Œä¸å¯æ›´æ”¹export CF_Token=&quot;ä½ çš„_API_Token_xxxxxxxxxxxxxx&quot;\nä¿å­˜é€€å‡ºåï¼Œé‡æ–°å¯åŠ¨ç»ˆç«¯ã€‚\n4. ç”³è¯·æ³›åŸŸåè¯ä¹¦æˆ‘ä»¬ç”³è¯· ECC ç®—æ³•çš„è¯ä¹¦ï¼ˆæ›´å°æ›´å¿«ï¼‰ï¼Œå¹¶åŒæ—¶åŒ…å«ä¸»åŸŸåå’Œæ³›åŸŸåï¼š\n# åˆ‡æ¢é»˜è®¤ CA ä¸º Let&#x27;s Encryptacme.sh --set-default-ca --server letsencrypt# ç”³è¯·è¯ä¹¦ (è‡ªåŠ¨ä½¿ç”¨ CF_Token è¿›è¡Œ DNS-01 éªŒè¯)acme.sh --issue --dns dns_cf -d &quot;131495.xyz&quot; -d &quot;*.131495.xyz&quot;\næˆåŠŸåï¼Œè¯ä¹¦æ–‡ä»¶ä¼šä¿å­˜åœ¨ ~/.acme.sh/131495.xyz_ecc/ ç›®å½•ä¸‹ã€‚\n5. å®‰è£…è¯ä¹¦åˆ‡å‹¿ç›´æ¥ä½¿ç”¨ .acme.sh ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚åº”ä½¿ç”¨ --install-cert å‘½ä»¤å°†è¯ä¹¦å¤åˆ¶åˆ°æŒ‡å®šä½ç½®ï¼Œå¹¶é…ç½®è‡ªåŠ¨é‡è½½ Nginxã€‚\n# åˆ›å»ºå­˜æ”¾ç›®å½•mkdir -p /cert/acme_131495.xyz/# å®‰è£…è¯ä¹¦å¹¶æŒ‡å®šé‡è½½å‘½ä»¤acme.sh --install-cert -d &quot;131495.xyz&quot; \\  --cert-file       /cert/acme_131495.xyz/cert.pem \\  --key-file        /cert/acme_131495.xyz/key.pem \\  --fullchain-file  /cert/acme_131495.xyz/fullchain.pem \\  --ca-file         /cert/acme_131495.xyz/ca.cer \\  --reloadcmd       &quot;systemctl reload nginx&quot;\n\nç¬¬å››æ­¥ï¼šNginx é…ç½® HTTPSè¯ä¹¦å‡†å¤‡å°±ç»ªï¼Œæ¥ä¸‹æ¥é…ç½® Nginx åå‘ä»£ç†ã€‚\n1. å®‰è£… Nginxapt install nginx -y\n2. é»˜è®¤é…ç½®ä¿®æ”¹ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼švi /etc/nginx/nginx.confï¼Œ\n\nå¢åŠ é»˜è®¤ SSL/TLS è¯ä¹¦é…ç½®\nè‡ªå®šä¹‰çš„æ—¥å¿—æ ¼å¼ proxy_json\nå¼€å¯ gzip é…ç½®\n\nnginx.confhttp &#123;        ##        # SSL Settings        ##        ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3; # Dropping SSLv3, ref: POODLE        ssl_prefer_server_ciphers on;                # åŠ å¯†å¥—ä»¶        ssl_ciphers HIGH:!aNULL:!MD5;                # é…ç½®è¯ä¹¦åœ°å€        ssl_certificate /cert/acme_131495.xyz/cert.pem;        ssl_certificate_key /cert/acme_131495.xyz/key.pem;                ##        # Logging Settings        ##                # æ—¥å¿—æ ¼å¼è‡ªå®šä¹‰        log_format proxy_json escape=json           &#x27;&#123;&#x27;            &#x27;&quot;timestamp&quot;: &quot;$time_iso8601&quot;, &#x27;            &#x27;&quot;request_id&quot;: &quot;$request_id&quot;, &#x27;            &#x27;&quot;client_ip&quot;: &quot;$remote_addr&quot;, &#x27;            &#x27;&quot;vhost&quot;: &quot;$host&quot;, &#x27;            &#x27;&quot;method&quot;: &quot;$request_method&quot;, &#x27;            &#x27;&quot;uri&quot;: &quot;$uri&quot;, &#x27;            &#x27;&quot;status&quot;: $status, &#x27;            &#x27;&quot;upstream&quot;: &#123;&#x27;                &#x27;&quot;addr&quot;: &quot;$upstream_addr&quot;, &#x27;                &#x27;&quot;status&quot;: &quot;$upstream_status&quot;, &#x27;                &#x27;&quot;response_time&quot;: &quot;$upstream_response_time&quot;, &#x27;                &#x27;&quot;connect_time&quot;: &quot;$upstream_connect_time&quot;&#x27;            &#x27;&#125;,&#x27;            &#x27;&quot;request_time&quot;: &quot;$request_time&quot;, &#x27;            &#x27;&quot;headers&quot;: &#123;&#x27;                &#x27;&quot;user_agent&quot;: &quot;$http_user_agent&quot;, &#x27;                &#x27;&quot;x_forwarded_for&quot;: &quot;$proxy_add_x_forwarded_for&quot;, &#x27;                &#x27;&quot;x_forwarded_proto&quot;: &quot;$scheme&quot;&#x27;            &#x27;&#125;&#x27;          &#x27;&#125;&#x27;;                  access_log /var/log/nginx/access.log;        ##        # Gzip Settings        ##        gzip on;        gzip_vary on;        gzip_proxied any;        gzip_comp_level 6;        gzip_buffers 16 8k;        gzip_http_version 1.1;        gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript&#125;\nä¿®æ”¹é…ç½®æ–‡ä»¶ï¼švi /etc/nginx/sites-available/defaultï¼Œå¼ºåˆ¶ä½¿ç”¨ HTTPSï¼š\ndefaultserver &#123;    listen 80 default_server;    listen [::]:80 default_server;        server_name _;        return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl default_server;    listen [::]:443 ssl default_server;        server_name _;    # é™æ€æ–‡ä»¶ç›®å½•    root /var/www/html;    index index.html index.htm index.nginx-debian.html;    location / &#123;        try_files $uri $uri/ =404;    &#125;&#125;\n3. å‡†å¤‡ proxy_paramsä¸ºäº†è®©åç«¯åº”ç”¨è·å–å®¢æˆ·ç«¯çœŸå® IPï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªä»£ç†å‚æ•°æ–‡ä»¶ï¼švi /etc/nginx/proxy_params\nproxy_paramsproxy_set_header Host $host;proxy_set_header X-Real-IP $remote_addr;proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;proxy_set_header X-Forwarded-Proto $scheme;\nå¯¹åº”çš„ websocket åè®®çš„ä»£ç†å‚æ•°æ–‡ä»¶ï¼švi /etc/nginx/proxy_params_ws\nproxy_params_wsproxy_set_header Host $host;proxy_set_header X-Real-IP $remote_addr;proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;proxy_set_header X-Forwarded-Proto $scheme;proxy_http_version 1.1;proxy_set_header Upgrade $http_upgrade;proxy_set_header Connection &quot;upgrade&quot;;\n4. é…ç½®ç«™ç‚¹ (è™šæ‹Ÿä¸»æœº)åˆ›å»ºé…ç½®æ–‡ä»¶ï¼švi /etc/nginx/sites-available/example.131495.xyz\nexample.131495.xyzserver &#123;    listen 443 ssl;    listen [::]:443 ssl;        # TODO: ä¿®æ”¹ä¸ºå¯¹åº”çš„å­åŸŸå    server_name example.131495.xyz;        # TODO: ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/example.access.log proxy_json;    error_log /var/log/nginx/example.error.log;    # åå‘ä»£ç†è®¾ç½®    location / &#123;        # TODO: ä¿®æ”¹ä¸ºå®é™…çš„æœåŠ¡åœ°å€        proxy_pass http://127.0.0.1:8080;                # ä»£ç†å‚æ•°        include /etc/nginx/proxy_params;    &#125;&#125;\n4. å¯ç”¨é…ç½®å¹¶é‡å¯# åˆ›å»ºè½¯é“¾æ¥å¯ç”¨ç«™ç‚¹ln -s /etc/nginx/sites-available/example.131495.xyz /etc/nginx/sites-enabled/# æ£€æŸ¥é…ç½®è¯­æ³•nginx -t# é‡å¯æœåŠ¡systemctl reload nginx\n\nè‡³æ­¤ï¼Œä½ çš„ç½‘ç«™å·²ç»æ‹¥æœ‰äº†å®‰å…¨çš„ HTTPS è®¿é—®èƒ½åŠ›ï¼Œå¹¶ä¸”è¯ä¹¦ä¼šç”± acme.sh è‡ªåŠ¨ç»­æœŸï¼ŒCloudflare ä¹Ÿä¼šæä¾›å…¨çƒ CDN åŠ é€Ÿä¸é˜²æŠ¤ã€‚\n","categories":["å¼€å‘ç¯å¢ƒ","ç½‘ç«™è¿ç»´"],"tags":["Domain","Cloudflare","ACME","Nginx","HTTPS"]},{"title":"Hexo Butterfly æ ‡ç­¾å¤–æŒ‚å®Œå…¨æŒ‡å— (åŸç”Ÿ + Pluså¢å¼ºç‰ˆ)","url":"/posts/a9a95ebd.html","content":"æœ¬æ–‡æ•´åˆäº† Butterfly ä¸»é¢˜åŸç”Ÿæ ‡ç­¾ ä¸ Tag Plugins Plus å¢å¼ºæ’ä»¶ çš„æ‰€æœ‰ç”¨æ³•ã€‚é€šè¿‡è¿™äº›æ ‡ç­¾å¤–æŒ‚ï¼Œä½ å¯ä»¥è½»æ¾åœ¨ Markdown ä¸­å®ç°å¤æ‚çš„æ’ç‰ˆå’Œäº¤äº’æ•ˆæœã€‚\n\nå‰ç½®è¯´æ˜ï¼š\n\nå¸¦æœ‰  [åŸç”Ÿ] æ ‡è¯†çš„æ ‡ç­¾ï¼Œä»…éœ€ Butterfly ä¸»é¢˜å³å¯ä½¿ç”¨ã€‚\nå¸¦æœ‰  [Plus] æ ‡è¯†çš„æ ‡ç­¾ï¼Œéœ€è¦å®‰è£… hexo-butterfly-tag-plugins-plus æ’ä»¶ã€‚\n\n\n\nç›¸å…³èµ„æº\n\nåŸç”Ÿæ ‡ç­¾ï¼šButterfly æ–‡æ¡£(å››) æ ‡ç­¾å¤–æŒ‚\nPlusæ ‡ç­¾ï¼šTag Plugins Plus | Akilarã®ç³–æœå±‹\n\n\n1. åŸºç¡€æ–‡æœ¬ä¸æ’ç‰ˆ1.1 Label é«˜äº®æ ‡ç­¾  [åŸç”Ÿ]ç”¨äºé«˜äº®å¼ºè°ƒæ–‡ä¸­çš„ä¸€æ®µæ–‡å­—ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% label text color %&#125;\n\ntext: æ–‡å­—å†…å®¹\ncolor: èƒŒæ™¯é¢œè‰²ï¼ˆç•™ç©º / blue / pink / red / purple / orange / greenï¼‰\nè‡£äº®è¨€ï¼šå…ˆå¸åˆ›ä¸šæœªåŠï¼Œè€Œä¸­é“å´©æ®‚ã€‚ä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œç›Šå·ç–²æ•ï¼Œæ­¤è¯šå±æ€¥å­˜äº¡ä¹‹ç§‹ä¹Ÿï¼ç„¶ä¾å«ä¹‹è‡£ï¼Œä¸æ‡ˆäºå†…ï¼›å¿ å¿—ä¹‹å£«ï¼Œå¿˜èº«äºå¤–è€…ã€‚è‹¥æœ‰ä½œå¥¸ã€çŠ¯ç§‘ï¼ŒåŠä¸ºå¿ å–„è€…ã€‚è‡£äº®è¨€ï¼š&#123;% label å…ˆå¸ %&#125;åˆ›ä¸šæœªåŠï¼Œè€Œ&#123;% label ä¸­é“å´©æ®‚ blue %&#125;ã€‚ä»Šå¤©ä¸‹ä¸‰åˆ†ï¼Œ&#123;% label ç›Šå·ç–²æ• pink %&#125;ï¼Œæ­¤è¯š&#123;% label å±æ€¥å­˜äº¡ä¹‹ç§‹ red %&#125;ä¹Ÿï¼ç„¶ä¾å«ä¹‹è‡£ï¼Œä¸æ‡ˆäºå†…ï¼›&#123;% label å¿ å¿—ä¹‹å£« purple %&#125;ï¼Œå¿˜èº«äºå¤–è€…ã€‚è‹¥æœ‰&#123;% label ä½œå¥¸ orange %&#125;ã€&#123;% label çŠ¯ç§‘ green %&#125;ï¼ŒåŠä¸ºå¿ å–„è€…ã€‚\n1.2 è¡Œå†…æ–‡æœ¬æ ·å¼  [Plus]æä¾›ä¸‹åˆ’çº¿ã€ç€é‡å·ã€æ³¢æµªçº¿ã€åˆ é™¤çº¿ã€é”®ç›˜æŒ‰é”®ã€å¯†ç éšè—ç­‰æ ·å¼ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% u æ–‡æœ¬å†…å®¹ %&#125;&#123;% emp æ–‡æœ¬å†…å®¹ %&#125;&#123;% wavy æ–‡æœ¬å†…å®¹ %&#125;   &#123;% del æ–‡æœ¬å†…å®¹ %&#125;&#123;% kbd æ–‡æœ¬å†…å®¹ %&#125;&#123;% psw æ–‡æœ¬å†…å®¹ %&#125;\nå¸¦ ä¸‹åˆ’çº¿ çš„æ–‡æœ¬\nå¸¦ ç€é‡å· çš„æ–‡æœ¬\nå¸¦ æ³¢æµªçº¿ çš„æ–‡æœ¬\nå¸¦ åˆ é™¤çº¿ çš„æ–‡æœ¬\né”®ç›˜æ ·å¼ï¼šCtrl + C\nå¯†ç æ ·å¼ï¼šé¼ æ ‡æ‚¬åœæŸ¥çœ‹å¯†ç \n1. å¸¦ &#123;% u ä¸‹åˆ’çº¿ %&#125; çš„æ–‡æœ¬2. å¸¦ &#123;% emp ç€é‡å· %&#125; çš„æ–‡æœ¬3. å¸¦ &#123;% wavy æ³¢æµªçº¿ %&#125; çš„æ–‡æœ¬4. å¸¦ &#123;% del åˆ é™¤çº¿ %&#125; çš„æ–‡æœ¬5. é”®ç›˜æ ·å¼ï¼š&#123;% kbd Ctrl %&#125; + &#123;% kbd C %&#125;6. å¯†ç æ ·å¼ï¼š&#123;% psw é¼ æ ‡æ‚¬åœæŸ¥çœ‹å¯†ç  %&#125;\n1.3 Span/P å½©è‰²ä¸å­—ä½“æ§åˆ¶  [Plus]æ§åˆ¶è¡Œå†…(span)æˆ–æ®µè½(p)çš„é¢œè‰²ã€å¤§å°å’Œå­—ä½“ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% span å‚æ•°, å†…å®¹ %&#125;&#123;% p å‚æ•°, å†…å®¹ %&#125;\nå‚æ•°(ç©ºæ ¼åˆ†éš”):\n\né¢œè‰²: red, yellow, green, cyan, blue, gray\nå¤§å°: small, h4, h3, h2, h1, large, huge, ultra\nå¯¹é½: left, center, right\nå­—ä½“: logo, code\nåœ¨ä¸€æ®µè¯ä¸­æ’å…¥ï¼šçº¢è‰²ã€ç»¿è‰²ã€è“è‰²ã€‚\nButterfly Theme\nA Wonderful Theme for Hexoåœ¨ä¸€æ®µè¯ä¸­æ’å…¥ï¼šçº¢è‰²ã€ç»¿è‰²ã€è“è‰²ã€‚\nButterfly Theme\nA Wonderful Theme for Hexo\n1.4 Poem è¯—è¯æ’ç‰ˆ  [Plus]ä¸“ä¸ºè¯—æ­Œè®¾è®¡çš„å±…ä¸­æ’ç‰ˆã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% poem æ ‡é¢˜, ä½œè€… %&#125;è¯—è¯å†…å®¹...&#123;% endpoem %&#125;æ°´è°ƒæ­Œå¤´ è‹è½¼æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿæˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼Ÿ\n&#123;% poem æ°´è°ƒæ­Œå¤´, è‹è½¼ %&#125;æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿæˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼Ÿ&#123;% endpoem %&#125;\n2. æç¤ºä¸è­¦å‘Š2.1 Note æç¤ºå—  [åŸç”Ÿ]æœ€å¸¸ç”¨çš„æç¤ºå—ï¼Œæ”¯æŒå¤šç§é£æ ¼ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% note [color] [icon] [style] %&#125;å†…å®¹...&#123;% endnote %&#125;\n\ncolorï¼ˆæ ‡è¯†ï¼‰: ç•™ç©º / primary / success / info / warning / danger\ncolorï¼ˆé¢œè‰²ï¼‰: ç•™ç©º / blue / pink / red / purple / orange / green\nicon: å¯é€‰ fontawesome å›¾æ ‡ï¼ˆä¾‹å¦‚ &#39;fab fa-cc-visa&#39;ï¼‰ï¼Œæˆ–å¡« no-icon\nstyle: å¯é€‰ simple / modern / flat / disabled è¦†ç›–ä¸»é¢˜çš„é»˜è®¤é…ç½®\né»˜è®¤æç¤º (Default)\n\nä¿¡æ¯æç¤º (Info)\n\næˆåŠŸæç¤º (Success)\n\nè­¦å‘Šæç¤º (Warning)\n\nå±é™©æç¤º (Danger)\n\nè‡ªå®šä¹‰å›¾æ ‡ä¸é¢œè‰²\né»˜è®¤æç¤º (Default)\n\nä¿¡æ¯æç¤º (Info)\n\næˆåŠŸæç¤º (Success)\n\nè­¦å‘Šæç¤º (Warning)\n\nå±é™©æç¤º (Danger)\n\nè‡ªå®šä¹‰å›¾æ ‡ä¸é¢œè‰²\n\n2.2 Tip é¡¶éƒ¨æ ‡ç­¾æç¤º  [Plus]æ ·å¼ç±»ä¼¼ note çš„æ¸å˜æ ‡ç­¾ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% tip [æ ·å¼] %&#125;å†…å®¹&#123;% endtip %&#125;\næ ·å¼ï¼ˆå¯å¡«ï¼‰: \n\nç•™ç©º / success / info / warning / error\nbolt / ban / home / sync / cogs / key / bell\nä»¥åŠ font-awesome å›¾æ ‡ï¼Œä¾‹å¦‚ fa-atom\nInfo ç±»å‹æç¤º \n\nSuccess ç±»å‹æç¤º \n\nWarning ç±»å‹æç¤º \n\nError ç±»å‹æç¤º \n\nè‡ªå®šä¹‰å›¾æ ‡æç¤º \n&#123;% tip info %&#125;Info ç±»å‹æç¤º &#123;% endtip %&#125;&#123;% tip success %&#125;Success ç±»å‹æç¤º &#123;% endtip %&#125;&#123;% tip warning %&#125;Warning ç±»å‹æç¤º &#123;% endtip %&#125;&#123;% tip error %&#125;Error ç±»å‹æç¤º &#123;% endtip %&#125;&#123;% tip fa-atom %&#125;è‡ªå®šä¹‰å›¾æ ‡æç¤º &#123;% endtip %&#125;\n2.3 Tip Animated åŠ¨æ€æç¤º  [Plus]ä¸º tip æ·»åŠ åŠ¨ç”»æ•ˆæœã€‚å¯å‚è€ƒ font-awesome-animation çš„ç”¨æ³•ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% tip [æ ·å¼] [åŠ¨ç”»ç±»å] [è§¦å‘æ–¹å¼] [è§¦å‘é€Ÿåº¦] %&#125;å†…å®¹&#123;% endtip %&#125;\n\nåŠ¨ç”»ç±»å: faa-horizontal, faa-flash, faa-spin, faa-tada ç­‰ã€‚\nè§¦å‘æ–¹å¼: animated (ä¸€ç›´åŠ¨ç”»), animated-hover (æ‚¬åœåŠ¨ç”»)ã€‚\nè§¦å‘é€Ÿåº¦: faa-fast, faa-slowã€‚\nwarning æŒç»­æ°´å¹³ \n\nban æ‚¬åœå¿«é€Ÿé—ªçƒ \n&#123;% tip warning faa-horizontal animated %&#125; warning æŒç»­æ°´å¹³ &#123;% endtip %&#125;&#123;% tip ban faa-flash animated-hover faa-fast %&#125; ban æ‚¬åœå¿«é€Ÿé—ªçƒ &#123;% endtip %&#125;\n3. å¸ƒå±€ä¸å®¹å™¨3.1 Tabs é€‰é¡¹å¡  [åŸç”Ÿ]ç”¨äºåˆ‡æ¢æ˜¾ç¤ºä¸åŒçš„å†…å®¹ã€‚\næ ‡ç­¾è¯­æ³•ï¼š\n&#123;% tabs UniqueName, [index] %&#125;&lt;!-- tab [é€‰é¡¹å¡æ ‡é¢˜] [@icon] --&gt;é€‰é¡¹å¡å†…å®¹...&lt;!-- endtab --&gt;&#123;% endtabs %&#125;\n\nUniqueName: å”¯ä¸€IDï¼ˆåŒä¸€ä¸ªé¡µé¢ï¼‰ï¼Œä¸èƒ½åŒ…å«ç©ºæ ¼ã€‚\nindex: å¯é€‰ï¼Œé»˜è®¤é€‰ä¸­çš„ç´¢å¼•ï¼ˆä» 1 å¼€å§‹ï¼Œ-1 ä¸ºéƒ½ä¸é€‰ä¸­ï¼Œä¸å¡«æ—¶ä¸ºç¬¬ä¸€ä¸ªï¼‰ã€‚\n@icon: å¯é€‰ fontawesome å›¾æ ‡ï¼ˆä¾‹å¦‚ &#39;@fas fa-bomb&#39;ï¼‰\n\næºç ç¤ºä¾‹ï¼š\n&#123;% tabs tabs-demo, 3 %&#125;&lt;!-- tab ç¬¬ä¸€ä¸ªTab --&gt;**tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab**&lt;!-- endtab --&gt;&lt;!-- tab @fab fa-apple-pay --&gt;**åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—**&lt;!-- endtab --&gt;&lt;!-- tab ç‚¸å¼¹@fas fa-bomb --&gt;**åå­—+icon**&lt;!-- endtab --&gt;&#123;% endtabs %&#125;\næ ·å¼é¢„è§ˆï¼š\nç¬¬ä¸€ä¸ªTabç‚¸å¼¹tabåå­—ä¸ºç¬¬ä¸€ä¸ªTabåªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—åå­—+icon\n3.2 Tag-Hide æŠ˜å éšè—  [åŸç”Ÿ]ç”¨äºæŠ˜å å†…å®¹ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹# è¡Œå†…éšè—æ–‡å­—&#123;% hideInline content, display, bg, color %&#125;# å—çº§éšè—&#123;% hideBlock display, bg, color %&#125; content &#123;% endhideBlock %&#125;# æŠ˜å æ¡†&#123;% hideToggle display, bg, color %&#125; content &#123;% endhideToggle %&#125;\n\ncontent: è¢«éšè—çš„å†…å®¹ã€‚\ndisplay: æ˜¾ç¤ºçš„æ–‡å­—ã€‚\nbg: èƒŒæ™¯é¢œè‰²ã€‚\ncolor: æ–‡å­—é¢œè‰²ã€‚\n\nå“ªä¸ªè‹±æ–‡å­—æ¯æœ€é…·ï¼Ÿ  æŸ¥çœ‹ç­”æ¡ˆå› ä¸ºè¥¿è£…è£¤(Cè£…é…·)\næŸ¥çœ‹ç­”æ¡ˆå‚»å­ï¼Œæ€ä¹ˆå¯èƒ½æœ‰ç­”æ¡ˆ \n\n\nä½ æ˜¯è°æˆ‘æ˜¯å¤©æ‰ã€‚\n\n\nå“ªä¸ªè‹±æ–‡å­—æ¯æœ€é…·ï¼Ÿ &#123;% hideInline å› ä¸ºè¥¿è£…è£¤(Cè£…é…·), æŸ¥çœ‹ç­”æ¡ˆ, #FF7242, #fff %&#125;&#123;% hideBlock æŸ¥çœ‹ç­”æ¡ˆ %&#125; å‚»å­ï¼Œæ€ä¹ˆå¯èƒ½æœ‰ç­”æ¡ˆ &#123;% endhideBlock %&#125;&#123;% hideToggle ä½ æ˜¯è° %&#125; æˆ‘æ˜¯å¤©æ‰ã€‚&#123;% endhideToggle %&#125;\n3.3 Folding æŠ˜å æ¡†  [Plus]æ¯”åŸç”Ÿ hideToggle æ›´ç¾è§‚çš„æŠ˜å å®¹å™¨ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% folding [color] [open], æ ‡é¢˜ %&#125;å†…å®¹...&#123;% endfolding %&#125;- **color**: `blue`, `cyan`, `green`, `yellow`, `red`, `gray`- **open**: å¡«å†™æ­¤å‚æ•°åˆ™é»˜è®¤å±•å¼€ï¼Œä¸å¡«é»˜è®¤æŠ˜å ã€‚ ç‚¹å‡»æŸ¥çœ‹æŠ˜å å†…å®¹ \n              \n              è¿™æ˜¯è¢«éšè—çš„å†…å®¹ã€‚å¯ä»¥åŒ…å«å›¾ç‰‡ã€ä»£ç ç­‰ã€‚\n              \n            &#123;% folding cyan, ç‚¹å‡»æŸ¥çœ‹æŠ˜å å†…å®¹ %&#125;è¿™æ˜¯è¢«éšè—çš„å†…å®¹ã€‚å¯ä»¥åŒ…å«å›¾ç‰‡ã€ä»£ç ç­‰ã€‚&#123;% endfolding %&#125;\n4. æŒ‰é’®ä¸é“¾æ¥4.1 Btn æŒ‰é’®  [åŸç”Ÿ]å•ä¸ªæŒ‰é’®é“¾æ¥ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% btn [url], [text], [icon], [color] [style] [layout] [position] [size] %&#125;\n\nurl: é“¾æ¥åœ°å€ã€‚\ntext: æŒ‰é’®æ–‡å­—ã€‚\nicon: å¯é€‰ fontawesome å›¾æ ‡ï¼ˆä¾‹å¦‚ &#39;far fa-hand-point-right&#39;ï¼‰\ncolor: èƒŒæ™¯è‰² æˆ– å­—ä½“è¾¹æ¡†è‰²ã€‚ï¼ˆç•™ç©º / blue / pink / red / purple / orange / greenï¼‰\nstyle: æ ·å¼ã€‚ç•™ç©ºï¼ˆå®å¿ƒï¼‰/ outlineï¼ˆç©ºå¿ƒï¼‰\nlayout: å¸ƒå±€ã€‚ç•™ç©ºï¼ˆè¡Œå†…ï¼‰/ blockï¼ˆå—çº§ï¼‰\nposition: ä½ç½®ã€‚ç•™ç©ºï¼ˆå·¦å¯¹é½ï¼‰/ centerï¼ˆå±…ä¸­ï¼‰/ rightï¼ˆå³å¯¹é½ï¼‰\nsize: æŒ‰é’®å¤§å°ã€‚ç•™ç©ºï¼ˆé»˜è®¤ï¼‰/largeï¼ˆå¤§ï¼‰\nHexoå®˜ç½‘ç©ºå¿ƒæŒ‰é’®å±…ä¸­å—çº§æŒ‰é’®&#123;% btn &#x27;https://hexo.io&#x27;, &#x27;Hexoå®˜ç½‘&#x27;, &#x27;fas fa-rocket&#x27;, blue larger %&#125;&#123;% btn &#x27;https://hexo.io&#x27;, &#x27;ç©ºå¿ƒæŒ‰é’®&#x27;, &#x27;fas fa-star&#x27;, orange outline %&#125;&#123;% btn &#x27;https://hexo.io&#x27;, &#x27;å±…ä¸­å—çº§æŒ‰é’®&#x27;, &#x27;fas fa-heart&#x27;, red block center %&#125;\n4.2 Btns æŒ‰é’®ç»„  [Plus]ç½‘æ ¼æ’åˆ—çš„ä¸€ç»„æŒ‰é’®æˆ–å¡ç‰‡ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% btns æ ·å¼å‚æ•°(ç©ºæ ¼åˆ†å‰²) %&#125;&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–å›¾æ ‡ %&#125;&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–å›¾æ ‡ %&#125;&#123;% endbtns %&#125;\n\næ ·å¼å‚æ•°: circle/rounded (åœ†è§’), grid3/grid4/grid5 (åˆ—æ•°), center (å±…ä¸­)\n\n            ä¸‹è½½æºç \né˜…è¯»æ–‡æ¡£\nè®¿é—®ä¸»é¡µ\n          &#123;% btns rounded grid3 %&#125;&#123;% cell ä¸‹è½½æºç , #, fas fa-download %&#125;&#123;% cell é˜…è¯»æ–‡æ¡£, #, fas fa-book %&#125;&#123;% cell è®¿é—®ä¸»é¡µ, #, fas fa-home %&#125;&#123;% endbtns %&#125;\n4.3 Link é“¾æ¥å¡ç‰‡  [Plus]ç”Ÿæˆä¸€ä¸ªå¸¦å°é¢çš„é•¿æ¡å½¢é“¾æ¥å¡ç‰‡ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% link æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡é“¾æ¥(å¯é€‰) %&#125;YouTubehttps://www.youtube.com/&#123;% link &#x27;YouTube&#x27;, https://www.youtube.com/, https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png %&#125;\n4.4 SiteGroup ç½‘ç«™å¡ç‰‡ç»„  [Plus]ç±»ä¼¼å‹é“¾é¡µé¢çš„å¡ç‰‡å±•ç¤ºã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% sitegroup %&#125;&#123;% site æ ‡é¢˜, url=é“¾æ¥, screenshot=æˆªå›¾, avatar=å¤´åƒ, description=æè¿° %&#125;&#123;% endsitegroup %&#125;xaoxuuç®€çº¦é£æ ¼\nColsrchè¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—\nLinhk1606è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—&#123;% sitegroup %&#125;&#123;% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png, description=ç®€çº¦é£æ ¼ %&#125;&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;&#123;% endsitegroup %&#125;\n4.5 Flink å‹é“¾å¡ç‰‡ç»„  [åŸç”Ÿ]å‹é“¾å¡ç‰‡ç»„ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% flink %&#125;å’Œå‹é“¾çš„ yaml æ–‡ä»¶æ ¼å¼ä¸€æ ·ã€‚&#123;% endflink %&#125;ç½‘ç«™å€¼å¾—æ¨èçš„ç½‘ç«™\n      \n        \n          \n            \n          \n          Youtube\n          è§†é¢‘ç½‘ç«™\n        \n      \n      \n        \n          \n            \n          \n          Weibo\n          ä¸­å›½æœ€å¤§ç¤¾äº¤åˆ†äº«å¹³å°\n        \n      \n      \n        \n          \n            \n          \n          Twitter\n          ç¤¾äº¤åˆ†äº«å¹³å°\n        \n      &#123;% flink %&#125;- class_name: ç½‘ç«™  class_desc: å€¼å¾—æ¨èçš„ç½‘ç«™  link_list:    - name: Youtube      link: https://www.youtube.com/      avatar: https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png      descr: è§†é¢‘ç½‘ç«™    - name: Weibo      link: https://www.weibo.com/      avatar: https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png      descr: ä¸­å›½æœ€å¤§ç¤¾äº¤åˆ†äº«å¹³å°    - name: Twitter      link: https://twitter.com/      avatar: https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png      descr: ç¤¾äº¤åˆ†äº«å¹³å°&#123;% endflink %&#125;\n4.6 GalleryGroup ç›¸å†Œç»„  [åŸç”Ÿ]ç›¸å†Œç»„ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&lt;div class=&quot;gallery-group-main&quot;&gt;&#123;% galleryGroup name description link img-url %&#125;&#123;% galleryGroup name description link img-url %&#125;&#123;% galleryGroup name description link img-url %&#125;&lt;/div&gt;\n\nname: ç›¸å†Œåç§°\ndescription: ç›¸å†Œæè¿°\nlink: ç›¸å†Œé“¾æ¥\nimg-url: å°é¢å›¾ç‰‡é“¾æ¥\n\n\n    \n    \n      Example\n      å…³äºOH MY GIRLçš„å›¾ç‰‡\n      \n    \n  \n&lt;div class=&quot;gallery-group-main&quot;&gt;&#123;% galleryGroup &#x27;Example&#x27; &#x27;å…³äºOH MY GIRLçš„å›¾ç‰‡&#x27; &#x27;/gallery/example&#x27; https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %&#125;&lt;/div&gt;\n4.7 Series æ–‡ç« åˆé›†  [åŸç”Ÿ]éœ€è¦ä¸»é¢˜é…ç½®å¼€å¯ series: enable: trueã€‚\nåœ¨é¡µé¢ä¸Šæ˜¾ç¤ºç³»åˆ—æ–‡ç« ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% series [seriesName] %&#125;Hexo Butterfly æ ‡ç­¾å¤–æŒ‚å®Œå…¨æŒ‡å— (åŸç”Ÿ + Pluså¢å¼ºç‰ˆ)&#123;% series [seriesName] %&#125;\n5. åª’ä½“ä¸å›¾è¡¨5.1 Gallery ç›¸å†Œ  [åŸç”Ÿ]å°†å¤šå¼ å›¾ç‰‡æ‹¼æ¥å±•ç¤ºï¼Œæ”¯æŒç‚¹å‡»æ”¾å¤§ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% gallery [button] %&#125;![](url1)![](url2)&#123;% endgallery %&#125;\n\nbutton: ç‚¹å‡»æŒ‰é’®åŠ è½½æ›´å¤šå›¾ç‰‡ã€‚true/false(é»˜è®¤)\n\n    [{\"url\":\"https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg\",\"alt\":\"\",\"title\":\"\"},{\"url\":\"https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg\",\"alt\":\"\",\"title\":\"\"}]\n  &#123;% gallery %&#125;![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)&#123;% endgallery %&#125;\n5.2 InlineImg/Image  [åŸç”Ÿ][Plus]å•å¼ å›¾ç‰‡ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹# åŸç”Ÿçš„å†…è”å›¾ç‰‡&#123;% inlineImg [src] [height] %&#125;# Plusçš„å—çº§å›¾ç‰‡&#123;% image é“¾æ¥, width=å®½åº¦ï¼ˆå¯é€‰ï¼‰, height=é«˜åº¦ï¼ˆå¯é€‰ï¼‰, alt=æè¿°ï¼ˆå¯é€‰ï¼‰, bg=å ä½é¢œè‰²ï¼ˆå¯é€‰ï¼‰ %&#125;ä½ çœ‹å¥¹é•¿å¾—æ¼‚äº®ä¸\nä¸‰åƒå¹´çš„ç¾å°‘å¥³\n\næˆ‘è§‰å¾—å¾ˆæ¼‚äº® ä½ çœ‹å¥¹é•¿å¾—æ¼‚äº®ä¸&#123;% image https://i.loli.net/2021/03/19/2P6ivUGsdaEXSFI.png, width=300px, height=150px, alt=ä¸‰åƒå¹´çš„ç¾å°‘å¥³, bg=rgb(255,255,255) %&#125;æˆ‘è§‰å¾—å¾ˆæ¼‚äº® &#123;% inlineImg https://i.loli.net/2021/03/19/5M4jUB3ynq7ePgw.png 150px %&#125;\n5.2 Audio/Video éŸ³è§†é¢‘  [Plus]æ’å…¥éŸ³é¢‘æˆ–è§†é¢‘æ’­æ”¾å™¨ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% audio éŸ³é¢‘é“¾æ¥ %&#125;&#123;% video è§†é¢‘é“¾æ¥ %&#125;&#123;% videos [direction], [columns] %&#125;&#123;% video é“¾æ¥1 %&#125;&#123;% video é“¾æ¥2 %&#125;&#123;% endvideos %&#125;\n\ndirection: å¯¹å…¶æ–¹å‘ï¼šleft(é»˜è®¤), center, right\ncolumns: åˆ—æ•°ï¼šæ”¯æŒ 1-4 åˆ—\néŸ³é¢‘ï¼š\nYour browser does not support the audio tag.\n\nè§†é¢‘ï¼š\nYour browser does not support the video tag.**éŸ³é¢‘ï¼š**&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;**è§†é¢‘ï¼š**&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov %&#125;\n5.3 Mermaid æµç¨‹å›¾  [åŸç”Ÿ]éœ€è¦ä¸»é¢˜é…ç½®å¼€å¯ mermaid: enable: trueã€‚\nä½¿ç”¨ mermaid æ ‡ç­¾å¯ä»¥ç»˜åˆ¶ Flowchartï¼ˆæµç¨‹å›¾ï¼‰ã€Sequence diagramï¼ˆæ—¶åºå›¾ ï¼‰ã€Class Diagramï¼ˆç±»åˆ«å›¾ï¼‰ã€State Diagramï¼ˆçŠ¶æ€å›¾ï¼‰ã€Ganttï¼ˆç”˜ç‰¹å›¾ï¼‰å’Œ Pie Chartï¼ˆåœ†å½¢å›¾ï¼‰ã€‚å…·ä½“è¯­æ³•å‚é˜… Mermaid\næ ·å¼é¢„è§ˆæºç ç¤ºä¾‹\n    graph TD;\nA--&gt;B;\nA--&gt;C;\nB--&gt;D;\nC--&gt;D;\n  &#123;% mermaid %&#125;graph TD;    A--&gt;B;    A--&gt;C;    B--&gt;D;    C--&gt;D;&#123;% endmermaid %&#125;\n5.4 Chartjs å›¾æ ‡  [åŸç”Ÿ]éœ€è¦ä¸»é¢˜é…ç½®å¼€å¯ chartjs: enable: trueã€‚\nä½¿ç”¨ chartjs æ ‡ç­¾å¯ä»¥ç»˜åˆ¶ Lineï¼ˆæŠ˜çº¿å›¾ï¼‰ã€Barï¼ˆæŸ±çŠ¶å›¾ï¼‰ã€Bubbleï¼ˆæ°”æ³¡å›¾ï¼‰ã€Pieï¼ˆé¥¼å›¾ï¼‰ç­‰å¤šç§å›¾å½¢ã€‚\nå…·ä½“è¯­æ³•å‚é˜… Chart.js\næ ·å¼é¢„è§ˆæºç ç¤ºä¾‹\n            {\n&quot;type&quot;: &quot;line&quot;,\n&quot;data&quot;: {\n&quot;labels&quot;: [&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;],\n&quot;datasets&quot;: [{\n&quot;label&quot;: &quot;My First dataset&quot;,\n&quot;backgroundColor&quot;: &quot;rgb(255, 99, 132)&quot;,\n&quot;borderColor&quot;: &quot;rgb(255, 99, 132)&quot;,\n&quot;data&quot;: [0, 10, 5, 2, 20, 30, 45]\n}]\n},\n&quot;options&quot;: {\n&quot;responsive&quot;: true,\n&quot;title&quot;: {\n&quot;display&quot;: true,\n&quot;text&quot;: &quot;Chart.js Line Chart&quot;\n}\n}\n}\n\n\n          &#123;% chartjs 70 %&#125;&lt;!-- chart --&gt;&#123;&quot;type&quot;: &quot;line&quot;,&quot;data&quot;: &#123;&quot;labels&quot;: [&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;],&quot;datasets&quot;: [&#123;&quot;label&quot;: &quot;My First dataset&quot;,&quot;backgroundColor&quot;: &quot;rgb(255, 99, 132)&quot;,&quot;borderColor&quot;: &quot;rgb(255, 99, 132)&quot;,&quot;data&quot;: [0, 10, 5, 2, 20, 30, 45]&#125;]&#125;,&quot;options&quot;: &#123;&quot;responsive&quot;: true,&quot;title&quot;: &#123;&quot;display&quot;: true,&quot;text&quot;: &quot;Chart.js Line Chart&quot;&#125;&#125;&#125;&lt;!-- endchart --&gt;&#123;% endchartjs %&#125;\n5.5 Abcjs ä¹è°±  [åŸç”Ÿ]éœ€è¦ä¸»é¢˜é…ç½®å¼€å¯ abcjs: enable: trueã€‚\nåœ¨é¡µé¢ä¸Šæ¸²æŸ“ä¹è°±ã€‚\næ ·å¼é¢„è§ˆæºç ç¤ºä¾‹X:1\nT:alternate heads\nM:C\nL:1/8\nU:n=!style=normal!\nK:C treble style=rhythm\n&quot;Am&quot; BBBB B2 B&gt;B | &quot;Dm&quot; B2 B/B/B &quot;C&quot; B4 |&quot;Am&quot; B2 nGnB B2 nGnA | &quot;Dm&quot; nDB/B/ nDB/B/ &quot;C&quot; nCB/B/ nCB/B/ |B8| B0 B0 B0 B0 |]\n%%text This translates to:\n[M:C][K:style=normal]\n[A,EAce][A,EAce][A,EAce][A,EAce] [A,EAce]2 [A,EAce]&gt;[A,EAce] |[DAdf]2 [DAdf]/[DAdf]/[DAdf] [CEGce]4 |[A,EAce]2 GA [A,EAce] GA |D[DAdf]/[DAdf]/ D[DAdf]/[DAdf]/ C [CEGce]/[CEGce]/ C[CEGce]/[CEGce]/ |[CEGce]8 | [CEGce]2 [CEGce]2 [CEGce]2 [CEGce]2 |]\nGAB2 !style=harmonic![gb]4|GAB2 [K: style=harmonic]gbgb|\n[K: style=x]\nC/A,/ C/C/E C/zz2|\nw:Rock-y did-nt like that&#123;% score %&#125;X:1T:alternate headsM:CL:1/8U:n=!style=normal!K:C treble style=rhythm&quot;Am&quot; BBBB B2 B&gt;B | &quot;Dm&quot; B2 B/B/B &quot;C&quot; B4 |&quot;Am&quot; B2 nGnB B2 nGnA | &quot;Dm&quot; nDB/B/ nDB/B/ &quot;C&quot; nCB/B/ nCB/B/ |B8| B0 B0 B0 B0 |]%%text This translates to:[M:C][K:style=normal][A,EAce][A,EAce][A,EAce][A,EAce] [A,EAce]2 [A,EAce]&gt;[A,EAce] |[DAdf]2 [DAdf]/[DAdf]/[DAdf] [CEGce]4 |[A,EAce]2 GA [A,EAce] GA |D[DAdf]/[DAdf]/ D[DAdf]/[DAdf]/ C [CEGce]/[CEGce]/ C[CEGce]/[CEGce]/ |[CEGce]8 | [CEGce]2 [CEGce]2 [CEGce]2 [CEGce]2 |]GAB2 !style=harmonic![gb]4|GAB2 [K: style=harmonic]gbgb|[K: style=x]C/A,/ C/C/E C/zz2|w:Rock-y did-nt like that&#123;% endscore %&#125;\n5.6 Mathjax æ•°å­¦å…¬å¼  [åŸç”Ÿ]éœ€è¦ä¸»é¢˜é…ç½®å¼€å¯ mathjax åŠŸèƒ½ã€‚\næ ·å¼é¢„è§ˆæºç ç¤ºä¾‹$\\sqrt{2}$$\\sqrt&#123;2&#125;$\n6. å…¶ä»–åŠŸèƒ½6.1 Timeline æ—¶é—´è½´  [åŸç”Ÿ]æ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% timeline title, color %&#125;&lt;!-- timeline title --&gt;xxxxx&lt;!-- endtimeline --&gt;&#123;% endtimeline %&#125;\n\ntitle: æ—¶é—´è½´æ ‡é¢˜\ncolor: æ—¶é—´è½´é¢œè‰²ï¼ˆç•™ç©º / blue / pink / red / purple / orange / greenï¼‰\n\n        \n          2025\n\n        \n      \n        \n          05-01\n\n        \n        åŠ³åŠ¨æœ€å…‰è£ï¼\n\n      \n        \n          06-01\n\n        \n        å„¿ç«¥èŠ‚å¿«ä¹ï¼\n\n      &#123;% timeline 2025,green %&#125;&lt;!-- timeline 05-01 --&gt;åŠ³åŠ¨æœ€å…‰è£ï¼&lt;!-- endtimeline --&gt;&lt;!-- timeline 06-01 --&gt;å„¿ç«¥èŠ‚å¿«ä¹ï¼&lt;!-- endtimeline --&gt;&#123;% endtimeline %&#125;\n6.2 Checkbox/Radio é€‰æ¡†åˆ—è¡¨  [Plus]æ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% checkbox [style] [color] [checked], æ–‡æœ¬ %&#125;&#123;% radio [color] [checked], æ–‡æœ¬ %&#125;\n\nstyle: é€‰ä¸­æ—¶çš„æ ·å¼ï¼ˆç•™ç©º / plus / minus / timesï¼‰\ncolor: é¢œè‰²ï¼ˆç•™ç©º / blue / yellow / red / cyan / gray / greenï¼‰\nchecked: æ˜¯å¦é€‰ä¸­ï¼ˆç•™ç©º / checkedï¼‰\n\n            å·²å®Œæˆä»»åŠ¡\n            \n\n            æœªå®Œæˆä»»åŠ¡\n            \n\n\n            é€‰é¡¹A\n            \n\n            é€‰é¡¹B\n            &#123;% checkbox green checked, å·²å®Œæˆä»»åŠ¡ %&#125;&#123;% checkbox times red checked, æœªå®Œæˆä»»åŠ¡ %&#125;&#123;% radio blue checked, é€‰é¡¹A %&#125;&#123;% radio blue, é€‰é¡¹B %&#125;\n6.3 Progress è¿›åº¦æ¡  [Plus]æ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% progress [width] [color] [text] %&#125;\n\nwidth: è¿›åº¦æ•°å­—ï¼ˆ0-100ï¼‰\ncolor: é¢œè‰²ï¼ˆç•™ç©º / blue / yellow / red / cyan / gray / greenï¼‰\ntext: è¿›åº¦æ¡ä¸Šçš„æ–‡å­—å†…å®¹\nå±é™©\nè­¦å‘Š\nå®‰å…¨&#123;% progress 30 red å±é™© %&#125;&#123;% progress 60 yellow è­¦å‘Š %&#125;&#123;% progress 90 green å®‰å…¨ %&#125;\n6.4 Icon å›¾æ ‡  [Plus]éœ€è¦å¼•å…¥å¯¹åº” Symbol å›¾æ ‡ js æ–‡ä»¶ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% icon [icon-xxxx], [font-size] %&#125;\n\nicon-xxxx: å›¾æ ‡åç§°\nfont-size: å›¾æ ‡å¤§å°ã€‚ç›´æ¥å¡«å†™æ•°å­—å³å¯ï¼Œå•ä½ä¸º emã€‚é»˜è®¤å€¼ä¸º 1emã€‚\n   \n   \n   &#123;% icon icon-rat, 2 %&#125; &#123;% icon icon-ox, 2 %&#125; &#123;% icon icon-tiger, 2 %&#125; &#123;% icon icon-rabbit, 2 %&#125;&#123;% icon icon-dragon, 2 %&#125; &#123;% icon icon-snake, 2 %&#125; &#123;% icon icon-horse, 2 %&#125; &#123;% icon icon-goat, 2 %&#125;&#123;% icon icon-monkey, 2 %&#125; &#123;% icon icon-rooster, 2 %&#125; &#123;% icon icon-dog, 2 %&#125; &#123;% icon icon-boar, 2 %&#125;\n6.5 Bdage å¾½æ ‡  [Plus]GitHub å¾½æ ‡ã€‚\næ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% bdage right,left,[logo] || [color],[link],[title] || [option] %&#125;\nå‚æ•°åˆ†ä¸ºä¸‰ç»„ï¼Œç”¨ || åˆ†éš”ã€‚\n\nåŸºæœ¬å‚æ•°\nright: å¿…å¡«å‚æ•°ã€‚å¾½æ ‡å³ä¾§æ–‡å­—ã€‚\nleft: å¿…å¡«å‚æ•°ã€‚å¾½æ ‡å·¦ä¾§æ–‡å­—ã€‚\nlogo: å¾½æ ‡å›¾æ ‡ã€‚è¯¦è§ simple-icons\n\n\nä¿¡æ¯å‚æ•°\ncolor: å¾½æ ‡å³è¾¹çš„é¢œè‰²ã€‚ä¾‹å¦‚ abcdef\nlink: å¾½æ ‡çš„è·³è½¬é“¾æ¥ã€‚\ntitle: é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºçš„æ–‡å­—ï¼ˆå·²å¤±æ•ˆï¼‰ã€‚\n\n\næ‹“å±•å‚æ•°\noption: è‡ªå®šä¹‰å‚æ•°ï¼Œæ”¯æŒ shields.io çš„å…¨éƒ¨APIå‚æ•°æ”¯æŒ\n\n\n\n&#123;% bdage Theme,Butterfly %&#125;&#123;% bdage CDN,JsDelivr,jsDelivr || abcdef,&#x27;https://www.jsdelivr.com/&#x27;,&#x27;æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ&#x27; %&#125;&lt;!-- endtab --&gt;\n6.6 Bubble æ°”æ³¡æ³¨é‡Š  [Plus]æ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹&#123;% bubble [content], [notation], [background-color] %&#125;\n\ncontent: æ³¨é‡Šè¯æ±‡\nnotation: æ‚¬åœæ˜¾ç¤ºçš„æ³¨è§£å†…å®¹\nbackground-color: å¯é€‰ï¼Œæ°”æ³¡èƒŒæ™¯è‰²ã€‚é»˜è®¤ä¸º #71a4e3\n\næœ€è¿‘æˆ‘å­¦åˆ°äº†ä¸å°‘æ–°ç©æ„å„¿ï¼ˆè™½ç„¶å¯¹å¾ˆå¤šå¤§ä½¬æ¥è¯´è¿™äº›å·²ç»æ˜¯æ—§æŠ€æœ¯äº†ï¼‰ï¼Œæ¯”å¦‚CSSçš„å…„å¼Ÿç›¸é‚»é€‰æ‹©å™¨ä¾‹å¦‚ h1 + p {margin-top:50px;}ï¼Œflexå¸ƒå±€Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸ºå¼¹æ€§å¸ƒå±€\"ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§\"ï¼Œtransformå˜æ¢transform å±æ€§å‘å…ƒç´ åº”ç”¨ 2D æˆ– 3D è½¬æ¢ã€‚è¯¥å±æ€§å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚ï¼Œanimationçš„è´å¡å°”é€Ÿåº¦æ›²çº¿è´å¡å°”æ›²çº¿(BÃ©zier curve)ï¼Œåˆç§°è´å…¹æ›²çº¿æˆ–è´æµåŸƒæ›²çº¿ï¼Œæ˜¯åº”ç”¨äºäºŒç»´å›¾å½¢åº”ç”¨ç¨‹åºçš„æ•°å­¦æ›²çº¿ã€‚ä¸€èˆ¬çš„çŸ¢é‡å›¾å½¢è½¯ä»¶é€šè¿‡å®ƒæ¥ç²¾ç¡®ç”»å‡ºæ›²çº¿ï¼Œè´å…¹æ›²çº¿ç”±çº¿æ®µä¸èŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹æ˜¯å¯æ‹–åŠ¨çš„æ”¯ç‚¹ï¼Œçº¿æ®µåƒå¯ä¼¸ç¼©çš„çš®ç­‹å†™æ³•ï¼Œè¿˜æœ‰ä»Šå¤©åˆšçœ‹åˆ°çš„clip-pathclip-pathå±æ€§ä½¿ç”¨è£å‰ªæ–¹å¼åˆ›å»ºå…ƒç´ çš„å¯æ˜¾ç¤ºåŒºåŸŸã€‚åŒºåŸŸå†…çš„éƒ¨åˆ†æ˜¾ç¤ºï¼ŒåŒºåŸŸå¤–çš„éšè—ã€‚å±æ€§ã€‚è¿™äº›å¯¹æˆ‘æ¥è¯´å¾ˆæ–°é¢–çš„æ¦‚å¿µç‹ ç‹ çš„å†²å‡»ç€æˆ‘ä»¥å‰ç§¯ç´¯èµ·æ¥çš„è®¾è®¡æ€è·¯ã€‚\næœ€è¿‘æˆ‘å­¦åˆ°äº†ä¸å°‘æ–°ç©æ„å„¿ï¼ˆè™½ç„¶å¯¹å¾ˆå¤šå¤§ä½¬æ¥è¯´è¿™äº›å·²ç»æ˜¯æ—§æŠ€æœ¯äº†ï¼‰ï¼Œæ¯”å¦‚CSSçš„&#123;% bubble å…„å¼Ÿç›¸é‚»é€‰æ‹©å™¨,&quot;ä¾‹å¦‚ h1 + p &#123;margin-top:50px;&#125;&quot; %&#125;ï¼Œ&#123;% bubble flexå¸ƒå±€,&quot;Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸º&quot;å¼¹æ€§å¸ƒå±€&quot;ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§&quot;,&quot;#ec5830&quot; %&#125;ï¼Œ&#123;% bubble transformå˜æ¢,&quot;transform å±æ€§å‘å…ƒç´ åº”ç”¨ 2D æˆ– 3D è½¬æ¢ã€‚è¯¥å±æ€§å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚&quot;,&quot;#1db675&quot; %&#125;ï¼Œanimationçš„&#123;% bubble è´å¡å°”é€Ÿåº¦æ›²çº¿,&quot;è´å¡å°”æ›²çº¿(BÃ©zier curve)ï¼Œåˆç§°è´å…¹æ›²çº¿æˆ–è´æµåŸƒæ›²çº¿ï¼Œæ˜¯åº”ç”¨äºäºŒç»´å›¾å½¢åº”ç”¨ç¨‹åºçš„æ•°å­¦æ›²çº¿ã€‚ä¸€èˆ¬çš„çŸ¢é‡å›¾å½¢è½¯ä»¶é€šè¿‡å®ƒæ¥ç²¾ç¡®ç”»å‡ºæ›²çº¿ï¼Œè´å…¹æ›²çº¿ç”±çº¿æ®µä¸èŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹æ˜¯å¯æ‹–åŠ¨çš„æ”¯ç‚¹ï¼Œçº¿æ®µåƒå¯ä¼¸ç¼©çš„çš®ç­‹&quot;,&quot;#de4489&quot; %&#125;å†™æ³•ï¼Œè¿˜æœ‰ä»Šå¤©åˆšçœ‹åˆ°çš„&#123;% bubble clip-path,&quot;clip-pathå±æ€§ä½¿ç”¨è£å‰ªæ–¹å¼åˆ›å»ºå…ƒç´ çš„å¯æ˜¾ç¤ºåŒºåŸŸã€‚åŒºåŸŸå†…çš„éƒ¨åˆ†æ˜¾ç¤ºï¼ŒåŒºåŸŸå¤–çš„éšè—ã€‚&quot;,&quot;#868fd7&quot; %&#125;å±æ€§ã€‚è¿™äº›å¯¹æˆ‘æ¥è¯´å¾ˆæ–°é¢–çš„æ¦‚å¿µç‹ ç‹ çš„å†²å‡»ç€æˆ‘ä»¥å‰ç§¯ç´¯èµ·æ¥çš„è®¾è®¡æ€è·¯ã€‚\n6.6 Reference å¼•ç”¨æ–‡çŒ®  [Plus]æ ‡ç­¾è¯­æ³•æ ·å¼é¢„è§ˆæºç ç¤ºä¾‹# å¼•ç”¨ä¸Šæ ‡&#123;% referto [id], [literature] %&#125;# å¼•ç”¨å‡ºå¤„&#123;% referfrom [id], [literature], [url] %&#125;\n\nid: å¼•ç”¨çš„ç¼–å·ã€‚éœ€è¦å’Œå¼•ç”¨å‡ºå¤„çš„ç¼–å·ä¸€è‡´ã€‚\nliterature: å¼•æ–‡çš„å†…å®¹ã€‚\nurl: å¼•æ–‡å‡ºå¤„çš„é“¾æ¥ã€‚\n\nGabrielçš„åšå®¢æ˜¯ä¸€ä¸ªç§äººæ€§è´¨çš„åšå®¢ [1]Gabrielçš„åšå®¢å‚è€ƒèµ„æ–™ï¼Œ\nä¸»è¦è®°å½•ä¸€äº›æŠ€æœ¯æ–‡ç« ï¼Œä»¥åŠä¸€äº›ç”Ÿæ´»ç‚¹æ»´ã€‚\n\n[1]Gabrielçš„åšå®¢\nGabrielçš„åšå®¢æ˜¯ä¸€ä¸ªç§äººæ€§è´¨çš„åšå®¢ &#123;% referto &#x27;[1]&#x27;,&#x27;Gabrielçš„åšå®¢&#x27; %&#125;ï¼Œä¸»è¦è®°å½•ä¸€äº›æŠ€æœ¯æ–‡ç« ï¼Œä»¥åŠä¸€äº›ç”Ÿæ´»ç‚¹æ»´ã€‚&#123;% referfrom &#x27;[1]&#x27;,&#x27;Gabrielçš„åšå®¢&#x27;,&#x27;https://lijiabao9.github.io/&#x27; %&#125;\n","categories":["åˆ›æ„å·¥åŠ","å»ºç«™æ—¥å¿—"],"tags":["Hexo","Butterfly"]},{"title":"Hexo åšå®¢å…¥é—¨ï¼šä»é›¶æ­å»º","url":"/posts/9e5ea567.html","content":"Hexo æ˜¯ä¸€æ¬¾å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„é™æ€åšå®¢æ¡†æ¶ã€‚æœ¬æ–‡è¯¦ç»†è®°å½•äº† Hexo çš„æ­å»ºè¿‡ç¨‹ï¼ŒåŸºäºæœ€æ–°ç‰ˆæœ¬çš„ Hexo 8.1.1ã€‚\n\nå®˜æ–¹ç½‘ç«™ï¼šhttps://hexo.io/zh-cn/\nGitHub ä»“åº“ï¼šhttps://github.com/hexojs/hexo\n\nç¯å¢ƒè¦æ±‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„ç”µè„‘å·²å®‰è£…ä»¥ä¸‹åŸºç¡€ç¯å¢ƒï¼š\n\nGit\n\nç‰ˆæœ¬æ— ç‰¹æ®Šè¦æ±‚\næ¼”ç¤ºç‰ˆæœ¬ï¼šgit version 2.52.0.windows.1\n\n\nNode.js\n\nHexo 7.0+ ç‰ˆæœ¬è¦æ±‚ NodeJS &gt;= 14.0.0\næ¼”ç¤ºç‰ˆæœ¬ï¼šv24.10.0\n\n\n\n1. å®‰è£… Hexoæ¨èç›´æ¥ä½¿ç”¨ npm å…¨å±€å®‰è£… hexo-cliï¼Œæ–¹ä¾¿åœ¨ä»»æ„ç›®å½•ä¸‹ä½¿ç”¨ã€‚\nnpm install -g hexo-cli\nå®‰è£…å®Œæˆåï¼Œè¾“å…¥ hexo -vï¼Œè‹¥å‡ºç°ç‰ˆæœ¬ä¿¡æ¯åˆ™ä»£è¡¨å®‰è£…æˆåŠŸã€‚\n2. åˆ›å»ºé¡¹ç›®é€‰æ‹©ä¸€ä¸ªç£ç›˜ç›®å½•ï¼ˆä¾‹å¦‚ D:/Projects/ï¼‰ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–åšå®¢ï¼š\n# åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¹¶åˆå§‹åŒ–hexo init hexo-blog-source\nåˆå§‹åŒ–æˆåŠŸåï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\n\nscaffolds/ï¼šæ¨¡ç‰ˆæ–‡ä»¶å¤¹ï¼ˆæ–°å»ºæ–‡ç« æ—¶ä½¿ç”¨çš„æ¨¡æ¿ï¼‰\nsource/ï¼šèµ„æºæ–‡ä»¶å¤¹\n_posts/ï¼šå­˜æ”¾ä½ çš„ markdown æ–‡ç« \n\n\nthemes/ï¼šä¸»é¢˜æ–‡ä»¶å¤¹\n_config.ymlï¼šå…¨å±€é…ç½®æ–‡ä»¶\npackage.jsonï¼šä¾èµ–åŒ…ç®¡ç†æ–‡ä»¶\n\n3. å¯åŠ¨é¡¹ç›®å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š\n# clean: æ¸…ç†ç¼“å­˜ä»¥åŠ public é™æ€æ–‡ä»¶ï¼ˆé‡åˆ°æ ·å¼ä¸æ›´æ–°æ—¶å¸¸ç”¨ï¼‰hexo cl# generate: ç”Ÿæˆé™æ€æ–‡ä»¶åˆ° public ç›®å½•hexo g# server: æœ¬åœ°å¯åŠ¨é¢„è§ˆ# é»˜è®¤ç«¯å£ 4000ï¼Œå¯é€šè¿‡ -p 4001 æŒ‡å®šç«¯å£hexo s\nå¯åŠ¨åï¼Œæµè§ˆå™¨è®¿é—® http://localhost:4000 å³å¯çœ‹åˆ°åšå®¢é›å½¢ã€‚\n4. æ–°å»ºæ–‡ç« hexo new &quot;ç¬¬ä¸€ç¯‡æ–‡ç« &quot;\nè¿è¡Œè¯¥å‘½ä»¤åï¼Œä¼šåœ¨ /source/_posts/ ä¸‹ç”Ÿæˆ ç¬¬ä¸€ç¯‡æ–‡ç« .mdã€‚ä½ å¯ä»¥ä½¿ç”¨ä»»ä½• Markdown ç¼–è¾‘å™¨ï¼ˆå¦‚ Typora, VS Codeï¼‰ç¼–å†™å†…å®¹ã€‚æ”¯æŒæ ‡å‡†çš„ Markdown è¯­æ³•ã€‚\næç¤ºï¼šæ–‡ç« çš„æ–°å¢æˆ–ä¿®æ”¹ï¼Œåªéœ€åˆ·æ–°æµè§ˆå™¨é¡µé¢å³å¯é¢„è§ˆï¼›è‹¥ä¿®æ”¹äº† _config.yml é…ç½®æ–‡ä»¶ï¼Œåˆ™éœ€è¦é‡å¯ hexo serverã€‚\n\n5. åŸºç¡€é…ç½® (å¯é€‰)ç¼–è¾‘æ ¹ç›®å½•ä¸‹çš„ _config.ymlï¼Œè®¾ç½®ç½‘ç«™çš„åŸºæœ¬ä¿¡æ¯ï¼š\n_config.yml# Sitetitle: Gabrielçš„åšå®¢subtitle: &#x27;åœ¨ä»£ç ä¸æ–‡å­—ä¹‹é—´&#x27;description: &#x27;è®°å½•æŠ€æœ¯æ¢ç´¢ï¼Œä¹Ÿå†™äººé—´çƒŸç«ã€‚&#x27;keywords: ç¼–ç¨‹, åˆ†äº«, ç”Ÿæ´»author: Gabriellanguage: zh-CNtimezone: &#x27;Asia/Shanghai&#x27;# URL## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;url: https://lijiabao9.github.io\n6. ä¸€é”®éƒ¨ç½²åˆ° GitHub Pagesæœ¬åœ°é¢„è§ˆåªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦å°†åšå®¢éƒ¨ç½²åˆ°å…¬ç½‘ã€‚GitHub Pages æä¾›äº†å…è´¹ä¸”ç¨³å®šçš„æ‰˜ç®¡æœåŠ¡ã€‚\n6.1 å‡†å¤‡ä»“åº“\næ³¨å†Œ/ç™»å½• GitHubã€‚\nåˆ›å»ºä¸€ä¸ª Public ä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸º ç”¨æˆ·å.github.ioï¼ˆä¾‹å¦‚æˆ‘çš„ä»“åº“åä¸ºï¼š lijiabao9.github.ioï¼‰ã€‚\n\n6.2 é…ç½® SSH å…¬é’¥ä¸ºäº†è®©æœ¬åœ°èƒ½å‘ GitHub æ¨é€ä»£ç ï¼Œéœ€è¦é…ç½® SSH Keyã€‚\né…ç½®æ­¥éª¤ï¼š\n\nå‘½ä»¤è¡Œæ‰§è¡Œ ssh-keygen -t rsa -C &quot;your_email@example.com&quot;ï¼Œä¸€è·¯å›è½¦ã€‚\nåœ¨ ~/.ssh/ ç›®å½•ä¸‹æ‰¾åˆ° id_rsa.pubï¼Œå¤åˆ¶å…¶å†…å®¹ã€‚\nè¿›å…¥ GitHub -> Settings -> SSH and GPG keys -> New SSH keyã€‚\nTitle éšæ„å¡«ï¼ŒKey ç²˜è´´åˆšæ‰å¤åˆ¶çš„å†…å®¹ï¼Œä¿å­˜ã€‚\n\n\n6.3 å®‰è£…éƒ¨ç½²æ’ä»¶åœ¨åšå®¢æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š\nnpm install hexo-deployer-git --save\n6.4 ä¿®æ”¹é…ç½®ä¿®æ”¹ _config.yml çš„ deploy éƒ¨åˆ†ï¼š\n_config.ymldeploy:  type: &#x27;git&#x27;  repo: git@github.com:lijiabao9/lijiabao9.github.io.git  branch: main\n6.5 æ‰§è¡Œéƒ¨ç½²è¿è¡Œå‘½ä»¤ï¼š\nhexo d\néƒ¨ç½²å®Œæˆåï¼Œè®¿é—® https://lijiabao9.github.io å³å¯çœ‹åˆ°ä¸Šçº¿çš„åšå®¢ã€‚\n7. è¿›é˜¶ï¼šGitHub Actions è‡ªåŠ¨éƒ¨ç½²éšç€æ–‡ç« å¢å¤šï¼Œæ¯æ¬¡æ‰‹åŠ¨æ‰§è¡Œ hexo d ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶ä¸Šä¼ ä¼šå˜å¾—ç¹çã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ GitHub Actions å®ç°æäº¤æºç å³è‡ªåŠ¨éƒ¨ç½²ã€‚\n7.1 åˆ›å»ºæºç ä»“åº“\nåœ¨ GitHub ä¸Šæ–°å»ºä¸€ä¸ª Privateï¼ˆç§æœ‰ï¼‰ä»“åº“ï¼Œå‘½åä¸º hexo-blog-sourceï¼ˆç”¨äºå­˜æ”¾åšå®¢æºç ï¼Œè€Œéé™æ€é¡µé¢ï¼‰ã€‚\nå°†æœ¬åœ°åšå®¢é¡¹ç›®å…³è”åˆ°è¯¥ä»“åº“å¹¶æ¨é€ä»£ç ã€‚git remote add origin git@github.com:lijiabao9/hexo-blog-source.gitgit branch -M maingit push -u origin main\n\n\n7.2 é…ç½® Token (å…³é”®æ­¥éª¤)ä¸ºäº†è®© Action æœ‰æƒé™æ¨é€ä»£ç åˆ° Pages ä»“åº“ï¼Œéœ€è¦é…ç½® Tokenã€‚\n\nç”Ÿæˆ Tokenï¼šGitHub -> Settings -> Developer Settings -> Personal access tokens -> Tokens (classic) ->Generate new tokenã€‚\nå‹¾é€‰ repo å’Œ workflow æƒé™ã€‚\nå¤åˆ¶ç”Ÿæˆçš„ Tokenï¼ˆä»¥ ghp_ å¼€å¤´ï¼‰ã€‚\n\n\né…ç½® Secretsï¼š\nè¿›å…¥ä½ çš„ åšå®¢æºç ç§æœ‰ä»“åº“ -> Settings -> Secrets and variables -> Actions -> New repository secretã€‚\nName å¡«å†™ï¼šHEXO_DEPLOY_TOKEN\nSecret å¡«å†™ï¼šåˆšæ‰å¤åˆ¶çš„ Tokenã€‚\n\n\n\n7.3 åˆ›å»º Workflow æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º .github/workflows/autodeploy.ymlï¼š\nautodeploy.ymlname: è‡ªåŠ¨éƒ¨ç½²on:  push:    branches:      - main  release:    types:      - publishedjobs:  deploy:    runs-on: ubuntu-latest    steps:      - name: æ£€å‡ºåˆ†æ”¯        uses: actions/checkout@v5      - name: å®‰è£… Node        uses: actions/setup-node@v6        with:          node-version: &quot;24.x&quot;          cache: &#x27;npm&#x27;      - name: å®‰è£…ä¾èµ–        run: |          npm ci      - name: ç”Ÿæˆé™æ€æ–‡ä»¶        run: |          npm install hexo-cli -g          hexo clean          hexo generate      - name: éƒ¨ç½²åˆ° GitHub Pages        uses: JamesIves/github-pages-deploy-action@v4        with:          folder: public          token: $&#123;&#123; secrets.HEXO_DEPLOY_TOKEN &#125;&#125;          repository-name: lijiabao9/lijiabao9.github.io          branch: main          commit-message: &quot;Updated By Github Actions&quot;          # ä¸ºäº†éšç§è€ƒè™‘å±è”½ $&#123;&#123; github.event.head_commit.message &#125;&#125; æäº¤ä¿¡æ¯\nç°åœ¨ï¼Œä½ åªéœ€è¦å°†æºç æ¨é€åˆ°ç§æœ‰ä»“åº“ï¼ŒGitHub Actions å°±ä¼šè‡ªåŠ¨å¸®ä½ å®Œæˆæ‰“åŒ…å’Œå‘å¸ƒå·¥ä½œã€‚\n8. å¿…è£… SEO ä¼˜åŒ–æ’ä»¶ä¸ºäº†è®©æ–‡ç« æ›´å®¹æ˜“è¢«æœç´¢å¼•æ“ï¼ˆGoogle/Bingï¼‰æ”¶å½•ï¼Œæ¨èå®‰è£…ä»¥ä¸‹æ’ä»¶ã€‚\n\nå®‰è£…æ’ä»¶\n# ç”Ÿæˆå”¯ä¸€çŸ­é“¾æ¥ï¼Œåˆ©äº SEO æƒé‡npm install hexo-abbrlink --save# ä¸ºå¤–éƒ¨é“¾æ¥æ·»åŠ  nofollowï¼Œé˜²æ­¢æƒé‡æµå¤±npm install hexo-filter-nofollow --save# ç”Ÿæˆ RSS è®¢é˜…æºnpm install hexo-generator-feed --save# ç”Ÿæˆç«™ç‚¹åœ°å›¾ Sitemapnpm install hexo-generator-sitemap --save\n\né…ç½®æ’ä»¶ (åœ¨ _config.yml ä¸­æ·»åŠ )\n _config.yml# é“¾æ¥æŒä¹…åŒ–abbrlink:  alg: crc32  rep: hex# å¤–éƒ¨é“¾æ¥ä¼˜åŒ–nofollow:  enable: true  field: site  exclude:    - &#x27;lijiabao9.github.io&#x27; # æ’é™¤è‡ªå·±çš„åŸŸå# RSS è®¢é˜…feed:  enable: true  type: atom  path: atom.xml  limit: 20# ç«™ç‚¹åœ°å›¾sitemap:  path: sitemap.xml\n\n\né…ç½®å®Œæˆåï¼Œé‡æ–° hexo g -d æˆ–æ¨é€æºç ï¼Œå³å¯ç”Ÿæ•ˆã€‚\n","categories":["åˆ›æ„å·¥åŠ","å»ºç«™æ—¥å¿—"],"tags":["GitHub","Hexo"]},{"title":"Artalk ç§æœ‰åŒ–éƒ¨ç½²å…¨æŒ‡å—ï¼šDocker + Nginx + Cloudflare æ‰“é€ ç‹¬ç«‹è¯„è®ºç³»ç»Ÿ","url":"/posts/1b40d3bb.html","content":"Artalk æ˜¯ä¸€æ¬¾ç®€æ´ã€è½»é‡ä¸”åŠŸèƒ½å¼ºå¤§çš„è‡ªæ‰˜ç®¡è¯„è®ºç³»ç»Ÿã€‚ç›¸æ¯”äº Valine æˆ– Gitalkï¼Œå®ƒæä¾›äº†æ›´å®Œå–„çš„ç®¡ç†åå°å’Œæ•°æ®éšç§æŒæ§æƒã€‚\næœ¬æ–‡å°†æ¼”ç¤ºå¦‚ä½•é€šè¿‡ Docker Compose éƒ¨ç½² Artalkï¼Œå¹¶å°†å…¶é›†æˆåˆ° Hexo åšå®¢ï¼ˆButterfly ä¸»é¢˜ï¼‰ä¸­ã€‚\nä¸€ã€å‰ç½®å‡†å¤‡åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å·²ç»å®Œæˆäº†ä»¥ä¸‹åŸºç¡€ç¯å¢ƒçš„æ­å»ºï¼š\n\næœåŠ¡å™¨ç¯å¢ƒï¼šå·²å®‰è£… Docker å’Œ Docker Composeã€‚\nå‚è€ƒï¼šUbuntu ç³»ç»Ÿ Docker å®‰è£…å…¨æŒ‡å—ï¼šå®˜æ–¹æºä¸å›½å†…é•œåƒåŠ é€Ÿ\n\n\nåŸŸåä¸è¯ä¹¦ï¼šæ‹¥æœ‰ä¸€ä¸ªåŸŸåå¹¶å®Œæˆäº† SSL è¯ä¹¦ç”³è¯·ã€‚\nå‚è€ƒï¼šä»é›¶å¼€å§‹ï¼šåŸŸåè´­ä¹°ã€Cloudflare æ‰˜ç®¡ä¸ Nginx è‡ªåŠ¨åŒ– HTTPS é…ç½®å…¨æŒ‡å—\n\n\n\n\näºŒã€æœåŠ¡ç«¯éƒ¨ç½²1. åˆ›å»ºå·¥ä½œç›®å½•ç™»å½•æœåŠ¡å™¨ï¼Œå»ºç«‹ Artalk çš„æ•°æ®å­˜å‚¨ç›®å½•ï¼š\nmkdir -p /app/artalkcd /app/artalk\n2. ç¼–å†™ Docker Composeåˆ›å»º docker-compose.yml æ–‡ä»¶ï¼š\nvim docker-compose.yml\nå†™å…¥ä»¥ä¸‹é…ç½®ï¼ˆæ³¨æ„ä¿®æ”¹ ATK_SITE_URL ä¸ºä½ çš„åšå®¢åœ°å€ï¼‰ï¼š\ndocker-compose.ymlservices:  artalk:    container_name: artalk    image: artalk/artalk-go    restart: unless-stopped    ports:      - 20001:23366    volumes:      - ./data:/data    environment:      - TZ=Asia/Shanghai      - ATK_LOCALE=zh-CN      - ATK_SITE_DEFAULT=Gabrielçš„åšå®¢    # é»˜è®¤ç«™ç‚¹åç§°      - ATK_SITE_URL=https://lijiabao9.github.io  # ä½ çš„åšå®¢å‰ç«¯åœ°å€ï¼ˆç”¨äºè·¨åŸŸä¿¡ä»»ï¼‰\n3. å¯åŠ¨æœåŠ¡docker compose up -d\nç­‰å¾…å®¹å™¨å¯åŠ¨åï¼Œåˆ›å»ºç®¡ç†å‘˜è´¦å·ï¼š\ndocker exec -it artalk artalk admin\næŒ‰æç¤ºè¾“å…¥ç®¡ç†å‘˜æ˜µç§°ã€é‚®ç®±å’Œå¯†ç ã€‚è´¦å·ä¿¡æ¯åç»­å¯è¿›è¡Œä¿®æ”¹ã€‚\næ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡ http://æœåŠ¡å™¨IP:20001 è®¿é—®åå°ã€‚ä½†ä¸ºäº†å®‰å…¨ï¼Œæˆ‘ä»¬æ¥ä¸‹é…ç½® Nginx åå‘ä»£ç†ã€‚\n\nä¸‰ã€Nginx åå‘ä»£ç†ä¸ HTTPSä¸ºäº†å¯ç”¨ HTTPS å¹¶éšè—éæ ‡å‡†ç«¯å£ï¼Œæˆ‘ä»¬éœ€è¦é…ç½® Nginxã€‚\n1. ç¼–å†™ Nginx é…ç½®åˆ›å»ºé…ç½®æ–‡ä»¶ vi /etc/nginx/sites-available/artalk.131495.xyzï¼š\nartalk.131495.xyzserver &#123;    listen 80;    listen [::]:80;    server_name artalk.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;    listen [::]:443 ssl;        # TODO: ä¿®æ”¹ä¸ºå¯¹åº”çš„å­åŸŸå    server_name artalk.131495.xyz;        # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;        # TODO: ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/artalk.access.log proxy_json;    error_log /var/log/nginx/artalk.error.log;    # åå‘ä»£ç†è®¾ç½®    location / &#123;        # TODO: ä¿®æ”¹ä¸ºå®é™…çš„æœåŠ¡åœ°å€        proxy_pass http://127.0.0.1:20001;                # ä»£ç†å‚æ•°        proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\n2. å¯ç”¨é…ç½®# åˆ›å»ºè½¯é“¾æ¥ln -s /etc/nginx/sites-available/artalk.131495.xyz /etc/nginx/sites-enabled/# æµ‹è¯•å¹¶é‡å¯nginx -t &amp;&amp; systemctl reload nginx\n3. åŸŸåDNSè®°å½•ç»™åŸŸåæ·»åŠ å¯¹åº”çš„ A è®°å½•ï¼Œå°† artalk.131495.xyz è§£æåˆ°æœåŠ¡å™¨çš„ IP åœ°å€ã€‚\nç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡ https://artalk.131495.xyz è®¿é—® Artalk æ§åˆ¶ä¸­å¿ƒäº†ã€‚\n\nå››ã€å‰ç«¯æ¥å…¥ (Hexo Butterfly)1. ä¿®æ”¹ä¸»é¢˜é…ç½®ç¼–è¾‘ Hexo çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.butterfly.ymlï¼š\n_config.butterfly.ymlcomments:  use: Artalkartalk:  server: https://artalk.131495.xyz   # ä½ çš„ Artalk åç«¯åœ°å€  site: Gabrielçš„åšå®¢                  # å¿…é¡»ä¸åå°åˆ›å»ºçš„ç«™ç‚¹åç§°ä¸€è‡´\n2. é‡æ–°éƒ¨ç½²æ‰§è¡Œ hexo s é‡æ–°å¯åŠ¨åšå®¢ã€‚\nè®¿é—®åšå®¢æ–‡ç« é¡µé¢ï¼Œè¯„è®ºåŒºåº”å·²æ­£å¸¸åŠ è½½ã€‚\n\näº”ã€æ•…éšœæ’æŸ¥ (Troubleshooting)åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œç‰¹åˆ«æ˜¯é…åˆ Cloudflare ä½¿ç”¨æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š\n1. è·¨åŸŸé—®é¢˜ (CORS)\nç°è±¡ï¼šF12 æ§åˆ¶å°æŠ¥é”™ No &#39;Access-Control-Allow-Origin&#39; headerã€‚\nåŸå› ï¼šArtalk é»˜è®¤å¼€å¯è·¨åŸŸé™åˆ¶ã€‚\nè§£å†³ï¼šç™»å½• Artalk åå° -> è®¾ç½® -> å¯ä¿¡åŸŸåï¼Œæ·»åŠ ä½ çš„åšå®¢åŸŸåï¼ˆå¦‚ https://localhost:4000ï¼‰ã€‚\n\n2. æ··åˆå†…å®¹é”™è¯¯ (Mixed Content)\nç°è±¡ï¼šGitHub Pages (HTTPS) æ— æ³•åŠ è½½ Artalk (HTTP) èµ„æºã€‚\nè§£å†³ï¼šç¡®ä¿ Artalk Server URL å¡«å†™çš„æ˜¯ https:// å¼€å¤´çš„åœ°å€ã€‚\n\n3. Cloudflare ç‰¹æœ‰å‘ç‚¹å¦‚æœä½ å¼€å¯äº† Cloudflare çš„å°é»„äº‘ï¼ˆä»£ç†æ¨¡å¼ï¼‰ï¼Œè¯·æ³¨æ„ï¼š\n1. ç«¯å£é™åˆ¶CF ä»…ä»£ç† 443, 8443, 2053 ç­‰ç‰¹å®šç«¯å£ã€‚å¦‚æœç›´æ¥ä½¿ç”¨ IP:20002 è®¿é—®ä¼šå¤±è´¥ã€‚è¯·åŠ¡å¿…ä½¿ç”¨ Nginx åä»£åçš„ 443 ç«¯å£ã€‚\n\n2. æ§åˆ¶å°æ— æ³•åŠ è½½ (X-Frame-Options)CF é»˜è®¤å¯èƒ½ä¼šæ·»åŠ å®‰å…¨æ ‡å¤´ï¼Œå¯¼è‡´ Artalk iframe åŠ è½½å¤±è´¥ã€‚è§£å†³ï¼šåœ¨ CF åå° -> è§„åˆ™ -> è½¬æ¢è§„åˆ™ -> HTTP å“åº”å¤´ -> å…³é—­ æ·»åŠ å®‰å…¨æ€§æ ‡å¤´ã€‚\n\n3. IP å±åœ°ä¸æ˜¾ç¤ºCF å¯èƒ½ä¼šéšè—çœŸå® IPã€‚è§£å†³ï¼šåœ¨ CF åå° -> è§„åˆ™ -> è½¬æ¢è§„åˆ™ -> HTTP è¯·æ±‚å¤´ -> å…³é—­ åˆ é™¤è®¿é—®è€… IP æ ‡å¤´ã€‚åŒæ—¶ï¼ŒArtalk åå° -> è®¾ç½® -> æœåŠ¡å™¨ -> ä»£ç†æ ‡å¤´åï¼Œå¡«å…¥ X-Forwarded-Forã€‚\n\n4. å›¾ç‰‡ä¸Šä¼ å¤±è´¥ (403 Forbidden)è§£å†³ï¼šåœ¨ CF åå° -> Scrape Shield -> å…³é—­ Hotlink ä¿æŠ¤ã€‚\n\n\nå…­ã€é«˜çº§åŠŸèƒ½å®šåˆ¶1. ç•Œé¢ä¸ªæ€§åŒ–åœ¨ Artalk åå° -&gt; è®¾ç½® -&gt; ç•Œé¢é…ç½®ï¼Œå¯è¿›è¡Œä¸ªæ€§åŒ–é…ç½®ã€‚\n\nè¯„è®ºæ¡†å ä½æ–‡å­—ï¼šè®©æ€ç»ªåœ¨æ­¤åœæ³Šï¼Œæˆ–å¦‚é£ï¼Œæˆ–å¦‚è¯—â€¦\næ— è¯„è®ºæ˜¾ç¤ºæ–‡å­—ï¼šæ­¤å¤„é™é»˜ï¼Œå´ç­‰å¾…ä½ çš„ç¬¬ä¸€ç¬”å¿ƒåŠ¨ã€‚\nå‘é€æŒ‰é’®æ–‡å­—ï¼›å¯„å¾€å…‰çš„æ·±å¤„\nè¡¨æƒ…åŒ…ï¼š\né»˜è®¤çš„æ˜¯ï¼šhttps://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json\næ”¹ç”¨ï¼šhttps://cdn.jsdelivr.net/gh/eryajf/emotion_generate/dist/artalk.json\n\n\né»˜è®¤å‹¾é€‰ æŠ•ç¥¨æŒ‰é’®ï¼›\né»˜è®¤ä¸å‹¾é€‰ è¿”å›æŒ‰é’®ï¼›\nå‹¾é€‰ ç”¨æˆ·UAå¾½æ ‡ï¼›ï¼ˆå‹¾é€‰åï¼Œä¼šæ˜¾ç¤ºæ¯”å¦‚ Edge137ï¼ŒWindows11ï¼‰\n\n2. IP å±åœ°æ˜¾ç¤º\nä¸‹è½½ IP æ•°æ®åº“ï¼šip2region.xdbwget -O /app/artalk/data/ip2region.xdb https://raw.githubusercontent.com/lionsoul2014/ip2region/v2.12.0/data/ip2region.xdb\nåœ¨ Artalk åå° -&gt; è®¾ç½® -&gt; IPå±åœ°ï¼Œå‹¾é€‰ å¼€å¯ IP å±åœ°å±•ç¤ºã€‚\nå¦‚æœç½‘ç«™ä½¿ç”¨äº† CDN ä»£ç†ï¼Œåœ¨ Artalk åå° -&gt; è®¾ç½® -&gt; æœåŠ¡å™¨ -&gt; ä»£ç†æ ‡å¤´åï¼Œå¡«å†™ X-Forwarded-Forã€‚\n\n3. UpGit å›¾ç‰‡ä¸Šä¼  (GitHub å›¾åºŠ)Artalk é»˜è®¤æ”¯æŒè°ƒç”¨æœ¬åœ°ç¨‹åºä¸Šä¼ å›¾ç‰‡ã€‚ä¸ºäº†èŠ‚çœæœåŠ¡å™¨ç£ç›˜ç©ºé—´ï¼Œæˆ‘ä»¬å¯ä»¥é›†æˆ UpGit å°†å›¾ç‰‡è½¬å­˜ GitHubã€‚\næ­¥éª¤ A: å®‰è£… UpGit# ä¸‹è½½ upgit ç¨‹åºwget  -O /app/artalk/upgit https://github.com/pluveto/upgit/releases/download/v0.2.25/upgit_linux_arm64# è®¾ç½®å¯æ‰§è¡Œæƒé™chmod 775 /app/artalk/upgit\næ­¥éª¤ B: é…ç½® UpGitåˆ›å»º vi /app/artalk/data/config.upgit.tomlï¼Œå¡«å…¥ä½ çš„ GitHub Token å’Œä»“åº“ä¿¡æ¯ï¼ˆè¯¦è§UpGitæ–‡æ¡£ï¼‰ã€‚\nconfig.upgit.toml# =============================================================================# UPGIT é…ç½®# =============================================================================# é»˜è®¤ä¸Šä¼ å™¨default_uploader = &quot;github&quot;# ä¸Šä¼ æ–‡ä»¶åçš„æ ¼å¼æ¨¡æ¿ï¼ˆä»…ç‰¹å®šä¸Šä¼ å™¨é€‚é…ï¼‰#   / ç›®å½•åˆ†éš”ç¬¦, ä½œç”¨: æ˜¯åŒºåˆ†ç›®å½•#   &#123;year&#125; å¹´ä»½, ä¾‹å¦‚: 2022#   &#123;month&#125; æœˆä»½, ä¾‹å¦‚: 02#   &#123;day&#125; å¤©, ä¾‹å¦‚: 01#   &#123;unix_ts&#125; æ—¶é—´æˆ³, ä¾‹å¦‚: 1643617626#   &#123;fname&#125; åŸå§‹æ–‡ä»¶åï¼Œå¦‚ logo (ä¸å«åç¼€å)#   &#123;fname_hash&#125; &#123;fname&#125;çš„ MD5 æ•£åˆ—å€¼#   &#123;ext&#125; æ–‡ä»¶åç¼€å, ä¾‹å¦‚.png#   ä¸‹é¢çš„ä¾‹å­ç”Ÿæˆçš„æ–‡ä»¶åé¢„è§ˆ: 2022/01/upgit_20220131_1643617626.png#   å¦‚æœç›®å½•ä¸å­˜åœ¨å°†ä¼šè¢«ç¨‹åºè‡ªåŠ¨åˆ›å»ºrename = &quot;artalk/&#123;year&#125;/&#123;month&#125;/upgit_&#123;year&#125;&#123;month&#125;&#123;day&#125;_&#123;unix_ts&#125;&#123;ext&#125;&quot;# -----------------------------------------------------------------------------# è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼# -----------------------------------------------------------------------------#   &#123;url&#125; å›¾ç‰‡æ–‡ä»¶çš„ç½‘ç»œURLåœ°å€[output_formats]&quot;bbcode&quot; = &quot;[img]&#123;url&#125;[/img]&quot;&quot;html&quot; = &#x27;&lt;img src=&quot;&#123;url&#125;&quot; /&gt;&#x27;&quot;markdown-simple&quot; = &quot;![](&#123;url&#125;)&quot;# -----------------------------------------------------------------------------# ç›´é“¾æ›¿æ¢è§„åˆ™ RawUrl -[replace]-&gt; Url# -----------------------------------------------------------------------------# å¦‚æœæ‚¨çš„ç½‘ç»œè®¿é—®Githubå¼‚å¸¸æˆ–è€…ç¼“æ…¢ï¼Œæ‚¨å¯ä»¥å°è¯•ä¸‹é¢çš„é…ç½®ä»¥å¼€å¯CDNåŠ é€Ÿ# [replacements]&quot;raw.githubusercontent.com&quot; = &quot;cdn.jsdelivr.net/gh&quot;&quot;/main&quot; = &quot;@main&quot;# =============================================================================# ä»¥ä¸‹ä¸ºå„ä¸ªä¸Šä¼ å™¨çš„é…ç½®ç¤ºä¾‹. ç”¨ä¸åˆ°çš„ç•™ç©ºå³å¯# =============================================================================# Github ä¸Šä¼ å™¨[uploaders.github]# ä¿å­˜æ–‡ä»¶çš„åˆ†æ”¯ï¼Œä¾‹å¦‚ master æˆ– mainbranch = &quot;main&quot;# æ‚¨çš„æ‹¥æœ‰&quot;repo&quot;æƒé™çš„ Github ä»¤ç‰Œ# è·å–Github Tokenè¿æ¥: https://github.com/settings/tokenspat = &quot;ghp_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;# æ‚¨çš„å…¬å…±Githubå­˜å‚¨åº“çš„åç§°# æ³¨æ„: ä¸ºäº†è®©æ‚¨å’Œä»–äººå¯ä»¥è®¿é—®åˆ°å›¾ç‰‡èµ„æº, æ‚¨çš„Githubä»“åº“ä¸€å®šè¦æ˜¯å…¬å¼€çš„, #       åœ¨ç§æœ‰ä»“åº“ä¸­Githubä¼šæ‹¦æˆªæœªæˆæƒçš„è¯·æ±‚,ä½ å°†ä¼šå¾—åˆ°ä¸€ä¸ª404.repo = &quot;pic.cloud&quot;# æ‚¨çš„ Gtihub ç”¨æˆ·å username = &quot;lijiabao9&quot;\næ­¥éª¤ C: ä¿®æ”¹ Docker Composeæˆ‘ä»¬éœ€è¦å°†å®¿ä¸»æœºä¸Šçš„ upgit ç¨‹åºæŒ‚è½½åˆ°å®¹å™¨å†…éƒ¨ã€‚\ndocker-compose.ymlservices:  artalk:    # ... å…¶ä»–é…ç½®ä¿æŒä¸å˜    volumes:      - ./data:/data      - ./upgit:/usr/bin/upgit  # æ–°å¢æŒ‚è½½\næ­¥éª¤ D: å¯ç”¨é›†æˆ\né‡å»ºå®¹å™¨ï¼šdocker compose down &amp;&amp; docker compose up -d\nArtalk åå° -> å›¾ç‰‡ä¸Šä¼  -> -&gt; Upgité…ç½® -&gt; å¯ç”¨ Upgitã€‚\nä¸Šä¼ å‘½ä»¤å¡«å†™ï¼šupgit -c /data/config.upgit.tomlã€‚\n\n\næ­¤æ—¶ï¼Œä¸Šä¼ çš„å›¾ç‰‡ï¼Œä¼šè¢«ä¸Šä¼ åˆ° GitHubã€‚\n4. ç²¾ç¾é‚®ä»¶é€šçŸ¥æ¨¡æ¿Artalk æ”¯æŒè‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿ã€‚ä»¥ä¸‹æ˜¯å‡ æ¬¾ç²¾é€‰çš„æ¨¡æ¿ä»£ç ï¼Œå¤åˆ¶å³å¯ä½¿ç”¨ã€‚\nä»¿AppèŠå¤©ç•Œé¢å·¦ä¾§è§†è§‰åˆ†æ å­Ÿè²æ–¯æ•…éšœç¥¨æ®VSCodeä»£ç ç¼–è¾‘å™¨å¤å¤æ‰“å­—æœº\n./data/mail_tpl/Chat-UI.html&lt;div style=&quot;background-color: #f2f2f7; padding: 40px 0; font-family: -apple-system, BlinkMacSystemFont, &#x27;Segoe UI&#x27;, Roboto, Helvetica, Arial, sans-serif;&quot;&gt;    &lt;div style=&quot;max-width: 400px; margin: 0 auto; background-color: #ffffff; border-radius: 24px; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.15); border: 8px solid #1c1c1e;&quot;&gt;                &lt;div style=&quot;background-color: #f9f9f9; padding: 15px 20px; border-bottom: 1px solid #e5e5ea; display: flex; align-items: center; justify-content: space-between;&quot;&gt;            &lt;div style=&quot;font-size: 12px; font-weight: 600; color: #000;&quot;&gt;&#123;&#123;site_name&#125;&#125;&lt;/div&gt;            &lt;div style=&quot;font-size: 10px; color: #8e8e93;&quot;&gt;åˆšåˆš&lt;/div&gt;        &lt;/div&gt;        &lt;div style=&quot;padding: 20px; background-color: #ffffff; min-height: 250px;&quot;&gt;                        &lt;div style=&quot;text-align: center; margin-bottom: 20px;&quot;&gt;                &lt;span style=&quot;background-color: #f2f2f7; color: #8e8e93; font-size: 10px; padding: 4px 8px; border-radius: 4px;&quot;&gt;æ”¶åˆ°æ–°å›å¤&lt;/span&gt;            &lt;/div&gt;            &lt;table width=&quot;100%&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot; style=&quot;margin-bottom: 20px;&quot;&gt;                &lt;tr&gt;                    &lt;td align=&quot;right&quot; valign=&quot;top&quot;&gt;                        &lt;div style=&quot;display: inline-block; text-align: left;&quot;&gt;                            &lt;div style=&quot;background-color: #e5e5ea; color: #000; padding: 10px 14px; border-radius: 18px 18px 4px 18px; font-size: 13px; max-width: 240px; margin-bottom: 4px;&quot;&gt;                                &lt;span style=&quot;font-size:10px; color:#666; display:block; margin-bottom:2px;&quot;&gt;æˆ‘&lt;/span&gt;                                &#123;&#123;content&#125;&#125;                            &lt;/div&gt;                        &lt;/div&gt;                    &lt;/td&gt;                    &lt;td width=&quot;40&quot; align=&quot;right&quot; valign=&quot;bottom&quot; style=&quot;padding-left: 8px;&quot;&gt;                        &lt;img src=&quot;https://cravatar.cn/avatar/&#123;&#123;parent_comment.email_encrypted&#125;&#125;?d=monsterid&amp;s=80&quot; style=&quot;width: 30px; height: 30px; border-radius: 50%; background: #ccc;&quot;&gt;                    &lt;/td&gt;                &lt;/tr&gt;            &lt;/table&gt;            &lt;table width=&quot;100%&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot;&gt;                &lt;tr&gt;                    &lt;td width=&quot;40&quot; valign=&quot;bottom&quot; style=&quot;padding-right: 8px;&quot;&gt;                        &lt;img src=&quot;https://cravatar.cn/avatar/&#123;&#123;comment.email_encrypted&#125;&#125;?d=monsterid&amp;s=80&quot; style=&quot;width: 36px; height: 36px; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.1);&quot;&gt;                    &lt;/td&gt;                    &lt;td align=&quot;left&quot; valign=&quot;top&quot;&gt;                        &lt;div style=&quot;font-size: 12px; color: #8e8e93; margin-left: 4px; margin-bottom: 2px;&quot;&gt;&#123;&#123;reply_nick&#125;&#125;&lt;/div&gt;                        &lt;div style=&quot;background-color: #007aff; color: #ffffff; padding: 12px 16px; border-radius: 18px 18px 18px 4px; font-size: 14px; line-height: 1.5; box-shadow: 0 2px 8px rgba(0,122,255,0.25);&quot;&gt;                            &#123;&#123;reply_content&#125;&#125;                        &lt;/div&gt;                    &lt;/td&gt;                &lt;/tr&gt;            &lt;/table&gt;        &lt;/div&gt;        &lt;div style=&quot;padding: 12px 15px 20px 15px; background-color: #f9f9f9; border-top: 1px solid #e5e5ea;&quot;&gt;            &lt;a href=&quot;&#123;&#123;link_to_reply&#125;&#125;&quot; style=&quot;display: block; text-decoration: none;&quot;&gt;                &lt;div style=&quot;background-color: #ffffff; border: 1px solid #e5e5ea; border-radius: 20px; padding: 10px 15px; color: #007aff; font-size: 14px; text-align: center; font-weight: 500;&quot;&gt;                    ç‚¹å‡»æ­¤å¤„å›å¤æ¶ˆæ¯...                &lt;/div&gt;            &lt;/a&gt;            &lt;div style=&quot;text-align: center; margin-top: 10px;&quot;&gt;                &lt;a href=&quot;&#123;&#123;page_url&#125;&#125;&quot; style=&quot;font-size: 10px; color: #c7c7cc; text-decoration: none;&quot;&gt;æ¥æºæ–‡ç« : &#123;&#123;page_title&#125;&#125;&lt;/a&gt;            &lt;/div&gt;        &lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;\n./data/mail_tpl/Magazine-Split.html&lt;div style=&quot;background-color: #e9ecef; padding: 40px 0; font-family: &#x27;Helvetica Neue&#x27;, Helvetica, Arial, sans-serif;&quot;&gt;    &lt;div style=&quot;max-width: 600px; margin: 0 auto; background-color: #ffffff; box-shadow: 0 15px 30px rgba(0,0,0,0.1);&quot;&gt;        &lt;table width=&quot;100%&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot;&gt;            &lt;tr&gt;                &lt;td width=&quot;35%&quot; valign=&quot;top&quot; style=&quot;background-color: #212529; color: #ffffff; padding: 40px 20px; text-align: center;&quot;&gt;                    &lt;img src=&quot;https://cravatar.cn/avatar/&#123;&#123;comment.email_encrypted&#125;&#125;?d=monsterid&amp;s=120&quot; style=&quot;width: 80px; height: 80px; border-radius: 50%; border: 3px solid #495057; margin-bottom: 15px;&quot;&gt;                    &lt;div style=&quot;font-size: 18px; font-weight: bold; letter-spacing: 1px;&quot;&gt;&#123;&#123;reply_nick&#125;&#125;&lt;/div&gt;                    &lt;div style=&quot;font-size: 10px; text-transform: uppercase; color: #adb5bd; margin-top: 5px; letter-spacing: 2px;&quot;&gt;Replied To You&lt;/div&gt;                                        &lt;div style=&quot;margin-top: 40px; border-top: 1px solid #343a40; padding-top: 20px;&quot;&gt;                        &lt;a href=&quot;&#123;&#123;link_to_reply&#125;&#125;&quot; style=&quot;background-color: #ffd43b; color: #212529; padding: 10px 20px; text-decoration: none; font-size: 12px; font-weight: bold; display: inline-block; border-radius: 2px;&quot;&gt;                            æŸ¥çœ‹è¯¦æƒ… &amp;rarr;                        &lt;/a&gt;                    &lt;/div&gt;                &lt;/td&gt;                                &lt;td width=&quot;65%&quot; valign=&quot;top&quot; style=&quot;padding: 40px 30px; background-color: #ffffff;&quot;&gt;                    &lt;div style=&quot;font-size: 10px; color: #868e96; letter-spacing: 1px; margin-bottom: 20px;&quot;&gt;IN ARTICLE: &lt;a href=&quot;&#123;&#123;page_url&#125;&#125;&quot; style=&quot;color: #868e96; text-decoration: none; border-bottom: 1px dotted #ccc;&quot;&gt;&#123;&#123;page_title&#125;&#125;&lt;/a&gt;&lt;/div&gt;                                        &lt;div style=&quot;border-left: 2px solid #dee2e6; padding-left: 15px; margin-bottom: 25px;&quot;&gt;                        &lt;div style=&quot;font-size: 12px; color: #adb5bd; margin-bottom: 5px;&quot;&gt;YOU SAID:&lt;/div&gt;                        &lt;div style=&quot;font-size: 13px; color: #868e96; font-style: italic;&quot;&gt;&quot;&#123;&#123;content&#125;&#125;&quot;&lt;/div&gt;                    &lt;/div&gt;                    &lt;div style=&quot;font-family: Georgia, &#x27;Times New Roman&#x27;, serif; font-size: 16px; line-height: 1.6; color: #212529;&quot;&gt;                        &#123;&#123;reply_content&#125;&#125;                    &lt;/div&gt;                    &lt;div style=&quot;margin-top: 50px; font-size: 10px; color: #ced4da; text-align: right;&quot;&gt;                        &lt;a href=&quot;&#123;&#123;site_url&#125;&#125;&quot; style=&quot;color: #ced4da; text-decoration: none;&quot;&gt;&#123;&#123;site_name&#125;&#125;&lt;/a&gt; Notification System                    &lt;/div&gt;                &lt;/td&gt;            &lt;/tr&gt;        &lt;/table&gt;    &lt;/div&gt;&lt;/div&gt;\n./data/mail_tpl/Neo-Brutalism.html&lt;div style=&quot;background-color: #fff4e0; padding: 50px 0; font-family: Helvetica, Arial, sans-serif;&quot;&gt;    &lt;div style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;                &lt;div style=&quot;background-color: #a388ee; border: 3px solid #000; box-shadow: 6px 6px 0px #000; padding: 15px; margin-bottom: 20px; text-align: center;&quot;&gt;            &lt;h1 style=&quot;margin: 0; font-size: 28px; font-weight: 900; color: #000; text-transform: uppercase; font-style: italic;&quot;&gt;                Hey! Wake Up!            &lt;/h1&gt;        &lt;/div&gt;        &lt;div style=&quot;background-color: #fff; border: 3px solid #000; box-shadow: 6px 6px 0px #000; padding: 30px;&quot;&gt;                        &lt;div style=&quot;text-align: center; margin-top: -60px; margin-bottom: 20px;&quot;&gt;                &lt;img src=&quot;https://cravatar.cn/avatar/&#123;&#123;comment.email_encrypted&#125;&#125;?d=monsterid&amp;s=100&quot; style=&quot;width: 80px; height: 80px; border: 3px solid #000; background-color: #ff90e8; border-radius: 50%;&quot;&gt;            &lt;/div&gt;            &lt;p style=&quot;font-weight: 700; font-size: 18px; text-align: center; margin: 0 0 20px 0;&quot;&gt;                &lt;span style=&quot;background-color: #ff90e8; padding: 2px 5px; border: 1px solid #000;&quot;&gt;&#123;&#123;reply_nick&#125;&#125;&lt;/span&gt; åˆšåˆšå›å¤äº†ä½ ï¼š            &lt;/p&gt;            &lt;div style=&quot;background-color: #f0f0f0; border: 2px solid #000; padding: 15px; font-size: 16px; font-weight: 500; line-height: 1.5; color: #000;&quot;&gt;                &quot;&#123;&#123;reply_content&#125;&#125;&quot;            &lt;/div&gt;            &lt;div style=&quot;margin-top: 20px; font-size: 12px; color: #666; border-left: 4px solid #000; padding-left: 10px;&quot;&gt;                Target: &quot;&#123;&#123;page_title&#125;&#125;&quot;&lt;br&gt;                Your text: &#123;&#123;content&#125;&#125;            &lt;/div&gt;            &lt;div style=&quot;margin-top: 30px;&quot;&gt;                &lt;a href=&quot;&#123;&#123;link_to_reply&#125;&#125;&quot; style=&quot;display: block; background-color: #000; color: #fff; text-decoration: none; text-align: center; padding: 15px; font-weight: 900; text-transform: uppercase; font-size: 16px; transition: all 0.2s;&quot;&gt;                    Go To Reply -&gt;                &lt;/a&gt;            &lt;/div&gt;        &lt;/div&gt;                &lt;div style=&quot;text-align: center; margin-top: 20px; font-weight: 700; font-size: 12px;&quot;&gt;            &#123;&#123;site_name&#125;&#125; // NO_SPAM        &lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;\n./data/mail_tpl/Ticket.html&lt;div style=&quot;background-color: #000000; padding: 40px 10px; font-family: &#x27;Courier New&#x27;, Courier, monospace;&quot;&gt;    &lt;div style=&quot;max-width: 480px; margin: 0 auto; background-color: #ffffff; position: relative;&quot;&gt;                &lt;div style=&quot;height: 8px; background: repeating-linear-gradient(45deg, #000, #000 10px, #f4d03f 10px, #f4d03f 20px);&quot;&gt;&lt;/div&gt;        &lt;div style=&quot;padding: 25px;&quot;&gt;            &lt;table width=&quot;100%&quot; style=&quot;border-bottom: 2px dashed #000; padding-bottom: 15px; margin-bottom: 15px;&quot;&gt;                &lt;tr&gt;                    &lt;td align=&quot;left&quot;&gt;                        &lt;span style=&quot;font-weight: 900; font-size: 24px; letter-spacing: -1px;&quot;&gt;NEW REPLY&lt;/span&gt;                    &lt;/td&gt;                    &lt;td align=&quot;right&quot;&gt;                        &lt;span style=&quot;background: #000; color: #fff; padding: 2px 6px; font-size: 12px;&quot;&gt;#ID_&#123;&#123;comment.id&#125;&#125;&lt;/span&gt;                    &lt;/td&gt;                &lt;/tr&gt;            &lt;/table&gt;            &lt;div style=&quot;margin-bottom: 20px;&quot;&gt;                &lt;div style=&quot;font-size: 12px; color: #666; text-transform: uppercase;&quot;&gt;From / Sender&lt;/div&gt;                &lt;div style=&quot;display: flex; align-items: center; margin-top: 5px;&quot;&gt;                    &lt;img src=&quot;https://cravatar.cn/avatar/&#123;&#123;comment.email_encrypted&#125;&#125;?d=monsterid&amp;s=80&quot; style=&quot;width: 40px; height: 40px; border-radius: 0; border: 2px solid #000; margin-right: 15px;&quot;&gt;                    &lt;span style=&quot;font-size: 18px; font-weight: 700;&quot;&gt;&#123;&#123;reply_nick&#125;&#125;&lt;/span&gt;                &lt;/div&gt;            &lt;/div&gt;            &lt;div style=&quot;border: 2px solid #000; padding: 15px; margin-bottom: 20px; background-color: #f8f8f8;&quot;&gt;                &lt;p style=&quot;margin: 0; font-size: 14px; line-height: 1.5;&quot;&gt;&#123;&#123;reply_content&#125;&#125;&lt;/p&gt;            &lt;/div&gt;            &lt;div style=&quot;font-size: 12px; color: #666; margin-bottom: 20px;&quot;&gt;                &lt;span style=&quot;background: #ccc; color: #000; padding: 0 4px;&quot;&gt;REF&lt;/span&gt; Your comment in &quot;&#123;&#123;page_title&#125;&#125;&quot;:&lt;br&gt;                &lt;span style=&quot;font-style: italic;&quot;&gt;&quot;&#123;&#123;content&#125;&#125;&quot;&lt;/span&gt;            &lt;/div&gt;        &lt;/div&gt;        &lt;div style=&quot;border-top: 2px dashed #000; background-color: #f4d03f; padding: 20px; text-align: center;&quot;&gt;            &lt;a href=&quot;&#123;&#123;link_to_reply&#125;&#125;&quot; style=&quot;display: block; width: 100%; text-decoration: none; color: #000; font-weight: 900; font-size: 16px; letter-spacing: 1px; text-transform: uppercase;&quot;&gt;                [ CLICK TO VIEW REPLY ]            &lt;/a&gt;            &lt;div style=&quot;font-size: 10px; margin-top: 10px; opacity: 0.6;&quot;&gt;                &#123;&#123;site_url&#125;&#125; // AUTO_GENERATED_MSG            &lt;/div&gt;        &lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;\n./data/mail_tpl/VSCode.html&lt;div style=&quot;background-color: #1e1e1e; padding: 40px 0; font-family: Consolas, &#x27;Courier New&#x27;, monospace; color: #d4d4d4;&quot;&gt;    &lt;div style=&quot;max-width: 600px; margin: 0 auto; background-color: #252526; border-radius: 6px; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.5); border: 1px solid #3c3c3c;&quot;&gt;                &lt;div style=&quot;background-color: #2d2d2d; padding: 10px 15px; display: flex; align-items: center; border-bottom: 1px solid #1e1e1e;&quot;&gt;            &lt;div style=&quot;display: flex; gap: 6px; margin-right: 15px;&quot;&gt;                &lt;div style=&quot;width: 10px; height: 10px; border-radius: 50%; background-color: #ff5f56;&quot;&gt;&lt;/div&gt;                &lt;div style=&quot;width: 10px; height: 10px; border-radius: 50%; background-color: #ffbd2e;&quot;&gt;&lt;/div&gt;                &lt;div style=&quot;width: 10px; height: 10px; border-radius: 50%; background-color: #27c93f;&quot;&gt;&lt;/div&gt;            &lt;/div&gt;            &lt;div style=&quot;background-color: #1e1e1e; padding: 5px 15px; border-radius: 4px 4px 0 0; font-size: 12px; color: #9cdcfe;&quot;&gt;                reply_notification.js            &lt;/div&gt;        &lt;/div&gt;        &lt;div style=&quot;padding: 20px; font-size: 13px; line-height: 1.6;&quot;&gt;            &lt;table width=&quot;100%&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; border=&quot;0&quot;&gt;                &lt;tr&gt;                    &lt;td valign=&quot;top&quot; width=&quot;30&quot; style=&quot;color: #858585; text-align: right; padding-right: 15px; border-right: 1px solid #404040; user-select: none;&quot;&gt;                        1&lt;br&gt;2&lt;br&gt;3&lt;br&gt;4&lt;br&gt;5&lt;br&gt;6&lt;br&gt;7&lt;br&gt;8&lt;br&gt;9&lt;br&gt;10&lt;br&gt;11                    &lt;/td&gt;                    &lt;td valign=&quot;top&quot; style=&quot;padding-left: 15px;&quot;&gt;                        &lt;div&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;import&lt;/span&gt; &#123; Notification &#125; &lt;span style=&quot;color: #c586c0;&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&#x27;&#123;&#123;site_name&#125;&#125;&#x27;&lt;/span&gt;;&lt;/div&gt;                        &lt;br&gt;                        &lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;// @Author: You (Original Comment)&lt;/span&gt;&lt;/div&gt;                        &lt;div&gt;&lt;span style=&quot;color: #6a9955;&quot;&gt;// Content: &quot;&#123;&#123;content&#125;&#125;&quot;&lt;/span&gt;&lt;/div&gt;                        &lt;br&gt;                        &lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;reply&lt;/span&gt; = &lt;span style=&quot;color: #c586c0;&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Message&lt;/span&gt;(&#123;&lt;/div&gt;                        &lt;div style=&quot;padding-left: 20px;&quot;&gt;                            &lt;span style=&quot;color: #9cdcfe;&quot;&gt;from&lt;/span&gt;: &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;&#123;&#123;reply_nick&#125;&#125;&quot;&lt;/span&gt;,                        &lt;/div&gt;                        &lt;div style=&quot;padding-left: 20px;&quot;&gt;                            &lt;span style=&quot;color: #9cdcfe;&quot;&gt;content&lt;/span&gt;: &lt;span style=&quot;color: #ce9178;&quot;&gt;`&#123;&#123;reply_content&#125;&#125;`&lt;/span&gt;,                        &lt;/div&gt;                        &lt;div style=&quot;padding-left: 20px;&quot;&gt;                            &lt;span style=&quot;color: #9cdcfe;&quot;&gt;action&lt;/span&gt;: () &lt;span style=&quot;color: #569cd6;&quot;&gt;=&gt;&lt;/span&gt; &#123;&lt;/div&gt;                        &lt;div style=&quot;padding-left: 40px;&quot;&gt;                            &lt;a href=&quot;&#123;&#123;link_to_reply&#125;&#125;&quot; style=&quot;color: #ce9178; text-decoration: underline;&quot;&gt;window.open(url);&lt;/a&gt;                        &lt;/div&gt;                        &lt;div style=&quot;padding-left: 20px;&quot;&gt;&#125;&lt;/div&gt;                        &lt;div&gt;&#125;);&lt;/div&gt;                    &lt;/td&gt;                &lt;/tr&gt;            &lt;/table&gt;        &lt;/div&gt;        &lt;div style=&quot;background-color: #1e1e1e; border-top: 1px solid #3c3c3c; padding: 10px 15px;&quot;&gt;            &lt;div style=&quot;font-size: 11px; color: #858585; margin-bottom: 8px;&quot;&gt;TERMINAL&lt;/div&gt;            &lt;a href=&quot;&#123;&#123;link_to_reply&#125;&#125;&quot; style=&quot;display: block; background-color: #0e639c; color: #fff; text-decoration: none; padding: 8px; text-align: center; font-size: 12px; font-weight: bold; font-family: sans-serif;&quot;&gt;                &gt; npm run view-reply            &lt;/a&gt;        &lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;\n./data/mail_tpl/Typewriter.html&lt;div style=&quot;background-color: #fdfbf7; padding: 60px 0; font-family: Georgia, &#x27;Times New Roman&#x27;, serif; color: #4a4a4a;&quot;&gt;    &lt;div style=&quot;max-width: 560px; margin: 0 auto; border: 1px solid #e0dcd3; background-color: #ffffff; padding: 60px 50px;&quot;&gt;                &lt;div style=&quot;text-align: center; border-bottom: 2px solid #4a4a4a; padding-bottom: 20px; margin-bottom: 40px;&quot;&gt;            &lt;span style=&quot;font-size: 24px; letter-spacing: 2px; text-transform: uppercase; font-weight: bold;&quot;&gt;&#123;&#123;site_name&#125;&#125;&lt;/span&gt;        &lt;/div&gt;        &lt;div style=&quot;font-size: 16px; line-height: 1.8;&quot;&gt;            &lt;p&gt;Dear &lt;strong&gt;&#123;&#123;nick&#125;&#125;&lt;/strong&gt;,&lt;/p&gt;                        &lt;p&gt;You have received a new correspondence regarding your note on &quot;&lt;a href=&quot;&#123;&#123;page_url&#125;&#125;&quot; style=&quot;color: #4a4a4a; text-decoration: underline;&quot;&gt;&#123;&#123;page_title&#125;&#125;&lt;/a&gt;&quot;.&lt;/p&gt;                        &lt;div style=&quot;margin: 40px 0; text-align: center;&quot;&gt;                &lt;span style=&quot;font-style: italic; font-size: 18px; color: #000;&quot;&gt;                    â€œ &#123;&#123;reply_content&#125;&#125; â€                &lt;/span&gt;                &lt;div style=&quot;margin-top: 15px; font-size: 14px; color: #888;&quot;&gt;                    â€” Signed by &#123;&#123;reply_nick&#125;&#125;                &lt;/div&gt;            &lt;/div&gt;            &lt;p style=&quot;font-size: 14px; color: #888;&quot;&gt;                Reference to your original thought:&lt;br&gt;                &lt;span style=&quot;font-style: italic;&quot;&gt;&quot;&#123;&#123;content&#125;&#125;&quot;&lt;/span&gt;            &lt;/p&gt;        &lt;/div&gt;        &lt;div style=&quot;text-align: center; margin-top: 50px;&quot;&gt;            &lt;a href=&quot;&#123;&#123;link_to_reply&#125;&#125;&quot; style=&quot;display: inline-block; padding: 10px 30px; border: 1px solid #4a4a4a; color: #4a4a4a; text-decoration: none; text-transform: uppercase; font-size: 12px; letter-spacing: 1px; hover: background-color: #4a4a4a; hover: color: #fff;&quot;&gt;                Read Full Discussion            &lt;/a&gt;        &lt;/div&gt;        &lt;div style=&quot;margin-top: 60px; text-align: center; font-size: 11px; color: #b0b0b0;&quot;&gt;            &lt;p&gt;&amp;copy; &#123;&#123;site_name&#125;&#125;. All rights reserved.&lt;/p&gt;        &lt;/div&gt;    &lt;/div&gt;&lt;/div&gt;\n5. é‚®ä»¶é€šçŸ¥Artalk æ”¯æŒé€šè¿‡ SMTP åè®®ã€é˜¿é‡Œäº‘é‚®ä»¶æ¨é€ã€è°ƒç”¨ç³»ç»Ÿ Sendmail å‘½ä»¤ç­‰æ–¹å¼å‘ç”¨æˆ·å‘é€é‚®ä»¶é€šçŸ¥ã€‚\nåœ¨ Artalk åå°ï¼Œè®¾ç½® -&gt; é‚®ä»¶é€šçŸ¥ï¼Œå‹¾é€‰ å¯ç”¨é‚®ä»¶é€šçŸ¥ã€‚\n\nå‘é€æ–¹å¼ï¼šsmtp\nå‘é€äººæ˜µç§°ï¼š&#123;&#123;reply_nick&#125;&#125;\nå‘é€äººåœ°å€ï¼šnoreply@example.com\né‚®ä»¶æ ‡é¢˜ï¼š[&#123;&#123;site_name&#125;&#125;] æ‚¨æ”¶åˆ°äº†æ¥è‡ª @&#123;&#123;reply_nick&#125;&#125; çš„å›å¤\né‚®ä»¶æ¨¡æ¿æ–‡ä»¶ï¼š/data/mail_tpl/Neo-Brutalism.html\n\nåœ¨ SMTP å‘é€ï¼Œé…ç½®ç”¨äºå‘é€é‚®ä»¶çš„è´¦å·æˆæƒä¿¡æ¯ï¼š\n\nå¯¹äº QQ é‚®ç®±\nå‘ä»¶åœ°å€ï¼šsmtp.qq.com\nå‘ä»¶ç«¯å£ï¼š587\nç”¨æˆ·åï¼š your_email@qq.com\nå¯†ç ï¼šï¼ˆæ³¨æ„ï¼šæ˜¯é¢å¤–ç”Ÿæˆçš„æˆæƒç ï¼Œä¸æ˜¯é‚®ç®±çš„ç™»å½•å¯†ç ï¼‰ your_email_authcode\n\n\nå¯¹äº Microsoft é‚®ç®±\nå‘ä»¶åœ°å€ï¼šsmtp.office365.com\nå‘ä»¶ç«¯å£ï¼š587\nç”¨æˆ·åï¼š your_email@xxx.onmicrosoft.com\nå¯†ç ï¼šï¼ˆæ³¨æ„ï¼šç™»å½•å¯†ç ï¼‰ your_email_password\n\n\n\n6. ç¤¾äº¤ç™»å½•åœ¨ Artalk åå°ï¼Œè®¾ç½® -&gt; ç¤¾äº¤ç™»å½•ï¼Œå‹¾é€‰ å¯ç”¨ç¤¾äº¤ç™»å½•ï¼Œå…è®¸åŒ¿åè¯„è®ºã€‚\n","categories":["åˆ›æ„å·¥åŠ","æœåŠ¡æ­å»º"],"tags":["Docker","Nginx","Hexo","Artalk","UpGit"]},{"title":"LunaTV éƒ¨ç½²æŒ‡å—ï¼šåŸºäº Docker æ­å»ºé«˜é¢œå€¼çš„ä¸ªäººå½±è§†èšåˆå¹³å°","url":"/posts/fd912215.html","content":"LunaTV æ˜¯ä¸€ä¸ªé«˜é¢œå€¼çš„ä¸ªäººåª’ä½“åº“èšåˆé¡¹ç›®ï¼Œæ”¯æŒ IPTV ç›´æ’­æºç®¡ç†ã€å½±è§†ç‚¹æ’­ç­‰åŠŸèƒ½ã€‚ç›¸æ¯”äºä¼ ç»Ÿçš„æ’­æ”¾å™¨ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªä¼˜é›…çš„ Web ç•Œé¢ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡åç«¯æœåŠ¡ç»Ÿä¸€ç®¡ç†é…ç½®ã€‚\næœ¬æ–‡å°†æŒ‡å¯¼ä½ åˆ©ç”¨ Docker å¿«é€Ÿéƒ¨ç½² LunaTVï¼Œå¹¶ç»“åˆ Nginx å’Œ Cloudflare Workers å®ç°å¤–ç½‘è®¿é—®ä¸è·¨åŸŸæµåª’ä½“ä»£ç†ã€‚\nç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡ä¸ Docker éƒ¨ç½²æˆ‘ä»¬å°†ä½¿ç”¨ Docker Compose æ¥ç¼–æ’æœåŠ¡ï¼ŒåŒ…æ‹¬ LunaTV æ ¸å¿ƒæœåŠ¡ (moontv-core) å’ŒæŒä¹…åŒ–å­˜å‚¨ (kvrocks)ã€‚\n\nåˆ›å»ºç›®å½•\nåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºå­˜æ”¾é…ç½®æ–‡ä»¶çš„ç›®å½•ã€‚\nmkdir -p /app/moontvcd /app/moontv\n\nç¼–å†™é…ç½®æ–‡ä»¶\nåˆ›å»º docker-compose.yml æ–‡ä»¶ã€‚\nvi docker-compose.yml\nå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š\nservices:  moontv-core:    image: ghcr.io/moontechlab/lunatv:latest    container_name: moontv-core    restart: on-failure    ports:      - &#x27;20004:3000&#x27;    environment:      # å¿…å¡«ï¼šç®¡ç†å‘˜è´¦å·      - USERNAME=admin@example.com      - PASSWORD=your_password      # å¿…å¡«ï¼šå­˜å‚¨é…ç½® (ä½¿ç”¨ kvrocks)      - NEXT_PUBLIC_STORAGE_TYPE=kvrocks      - KVROCKS_URL=redis://moontv-kvrocks:6666      # å¯é€‰ï¼šç«™ç‚¹é…ç½®      - SITE_BASE=https://moontv.131495.xyz      - NEXT_PUBLIC_SITE_NAME=Luna Home      - ANNOUNCEMENT=ğŸ‘‹ æ¬¢è¿å›å®¶ï¼è¿™é‡Œæ˜¯ Luna Home ä¸ªäººåª’ä½“åº“ï¼Œç¥æ‚¨ä»Šæ™šè§‚å½±æ„‰å¿«ï¼ğŸ¿      # å¯é€‰ï¼šè±†ç“£ä»£ç†é…ç½®ï¼ˆæ¨èï¼‰      - NEXT_PUBLIC_DOUBAN_PROXY_TYPE=cmliussss-cdn-tencent      - NEXT_PUBLIC_DOUBAN_IMAGE_PROXY_TYPE=cmliussss-cdn-tencent    networks:      - moontv-network    depends_on:      - moontv-kvrocks    moontv-kvrocks:    image: apache/kvrocks    container_name: moontv-kvrocks    restart: unless-stopped    volumes:      - kvrocks-data:/var/lib/kvrocks    networks:      - moontv-networknetworks:  moontv-network:    driver: bridgevolumes:  kvrocks-data:\n\nå¯åŠ¨æœåŠ¡\ndocker compose up -d\n\n\næ ¸å¿ƒå˜é‡è¯´æ˜ï¼š\n\n\n\n\nå˜é‡å\nç¤ºä¾‹å€¼\nè¯´æ˜\n\n\n\n\nUSERNAME\nadmin@example.com\nç®¡ç†åå°ç™»å½•è´¦å·\n\n\nPASSWORD\nyour_password\nç™»å½•å¯†ç ï¼Œå»ºè®®ä¿®æ”¹\n\n\nSITE_BASE\nhttps://moontv.131495.xyz\nä½ çš„å¤–éƒ¨è®¿é—®åŸŸå\n\n\nKVROCKS_URL\nredis://moontv-kvrocks:6666\næ•°æ®åº“è¿æ¥ä¸² (æ— éœ€ä¿®æ”¹)\n\n\n\n\n\nç¬¬äºŒæ­¥ï¼šé…ç½® Nginx åå‘ä»£ç†ä¸ºäº†é€šè¿‡ HTTPS å®‰å…¨è®¿é—®ï¼Œæˆ‘ä»¬éœ€è¦é…ç½® Nginx åä»£ã€‚\n\næ·»åŠ  DNS è§£æï¼šå°†ä½ çš„åŸŸåï¼ˆå¦‚ moontv.131495.xyzï¼‰è§£æåˆ°æœåŠ¡å™¨ IPã€‚\n\nåˆ›å»º Nginx é…ç½®ï¼š\nvi /etc/nginx/sites-available/moontv.131495.xyz\nå†™å…¥ä»¥ä¸‹é…ç½®ï¼ˆè¯·æ›¿æ¢ä¸ºä½ è‡ªå·±çš„åŸŸåå’Œæ—¥å¿—è·¯å¾„ï¼‰ï¼š\nserver &#123;    listen 80;    listen [::]:80;    server_name moontv.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;    listen [::]:443 ssl;    server_name moontv.131495.xyz;        # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;    # ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/moontv.access.log;    error_log /var/log/nginx/moontv.error.log;    # åå‘ä»£ç†è®¾ç½®    location / &#123;        proxy_pass http://127.0.0.1:20004;                # ä»£ç†å‚æ•°        proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\n\nå¯ç”¨å¹¶é‡è½½ï¼š\nln -s /etc/nginx/sites-available/moontv.131495.xyz /etc/nginx/sites-enabled/nginx -t &amp;&amp; nginx -s reload\n\n\næ­¤æ—¶ï¼Œè®¿é—® https://moontv.131495.xyz å¹¶è¾“å…¥ç¬¬ä¸€æ­¥ä¸­è®¾ç½®çš„è´¦å·å¯†ç ï¼Œå³å¯è¿›å…¥ç®¡ç†é¢æ¿ã€‚\n\nç¬¬ä¸‰æ­¥ï¼šé…ç½®è§†é¢‘è®¢é˜…æºè¿›å…¥åå°åï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥è§†é¢‘æºã€‚è¿™é‡Œæ¨èä½¿ç”¨å¼€æºé¡¹ç›® hafrey1/LunaTV-config æä¾›çš„é…ç½®ã€‚\nä½ æœ‰ä¸¤ç§æ–¹å¼å¯¼å…¥ï¼š\n\né™æ€å¯¼å…¥ï¼šç›´æ¥å¤åˆ¶é¡¹ç›®ä¸­çš„ jin18.txt æˆ– jingjian.txt å†…å®¹ï¼Œç²˜è´´åˆ°åå°çš„é…ç½®æ–‡æœ¬æ¡†ä¸­ã€‚\nè®¢é˜…é“¾æ¥ (æ¨è)ï¼šä½¿ç”¨ Raw æ–‡ä»¶åœ°å€ä½œä¸ºè®¢é˜… URLï¼Œæ”¯æŒä¸€é”®æ›´æ–°ã€‚\n\n\nç¬¬å››æ­¥ï¼šè¿›é˜¶ - Cloudflare Workers è·¨åŸŸä»£ç†ä¸ºäº†è§£å†³éƒ¨åˆ†è§†é¢‘æºçš„ CORS è·¨åŸŸé—®é¢˜ï¼Œä»¥åŠé˜²æ­¢ç›´æ¥è¯·æ±‚æºç«™å¯¼è‡´çš„é™åˆ¶ï¼Œå¼ºçƒˆå»ºè®®è‡ªè¡Œéƒ¨ç½² Cloudflare Workers ä»£ç†ã€‚\n\nåˆ›å»º Workerï¼šç™»å½• Cloudflareï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ Workerã€‚\n\nå¤åˆ¶ä»£ç ï¼šå¤åˆ¶ Github é¡¹ç›®ä¸­ _worker.js çš„å…¨éƒ¨ä»£ç ã€‚\n\nå…³é”®ä¿®æ”¹ (é‡è¦)ï¼šåŸä»£ç ä¸­çš„ä¸­è½¬ä»£ç†åœ°å€å¯èƒ½ä¸å®Œæ•´ï¼ŒåŠ¡å¿…æ‰‹åŠ¨ä¿®æ”¹ JS ä»£ç  ä¸­çš„ HTML ç”Ÿæˆéƒ¨åˆ†ã€‚æ‰¾åˆ°ç”Ÿæˆé¡µé¢ HTML çš„ä»£ç æ®µï¼Œç¡®ä¿ä»£ç†çš„è®¢é˜…åœ°å€åŠ ä¸Š &amp;prefix=$&#123;currentOrigin&#125;?url=ã€‚\nä¿®æ”¹å (å‚è€ƒ)ï¼š\n&lt;div class=&quot;section&quot;&gt;    &lt;h3&gt;ğŸ“¦ ç²¾ç®€ç‰ˆï¼ˆjin18ï¼‰&lt;/h3&gt;    &lt;p&gt;ä¸­è½¬ä»£ç† JSONï¼š&lt;br&gt;&lt;code class=&quot;copyable&quot;&gt;$&#123;currentOrigin&#125;?format=1&amp;source=jin18&amp;prefix=$&#123;currentOrigin&#125;?url=&lt;/code&gt; &lt;button class=&quot;copy-btn&quot;&gt;å¤åˆ¶&lt;/button&gt;&lt;/p&gt;    &lt;p&gt;ä¸­è½¬ Base58ï¼š&lt;br&gt;&lt;code class=&quot;copyable&quot;&gt;$&#123;currentOrigin&#125;?format=3&amp;source=jin18&amp;prefix=$&#123;currentOrigin&#125;?url=&lt;/code&gt; &lt;button class=&quot;copy-btn&quot;&gt;å¤åˆ¶&lt;/button&gt;&lt;/p&gt;&lt;/div&gt;\n\nè·å–è®¢é˜…åœ°å€ï¼šéƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ä½ çš„ Worker åŸŸåï¼ˆå¦‚ https://luna-proxy.yourname.workers.devï¼‰ã€‚é¡µé¢ä¼šæ˜¾ç¤ºå¤„ç†å¥½çš„è®¢é˜…é“¾æ¥ï¼Œç›´æ¥å¤åˆ¶ ä¸­è½¬ Base58 é“¾æ¥å¡«å…¥ LunaTV åå°å³å¯ã€‚\n\n\nä½¿ç”¨æç¤ºï¼šCloudflare Workers å…è´¹ç‰ˆæ¯æ—¥è¯·æ±‚é™åˆ¶ä¸º 10ä¸‡æ¬¡ã€‚æ­¤å¤–ï¼Œè¯·å‹¿æ»¥ç”¨ä»£ç†ä¸‹è½½å¤§æ–‡ä»¶ï¼Œä»¥å…å¯¼è‡´è´¦å·å°ç¦é£é™©ã€‚\n","categories":["åˆ›æ„å·¥åŠ","æœåŠ¡æ­å»º"],"tags":["Docker","Cloudflare","LunaTV"]},{"title":"MIND éƒ¨ç½²æŒ‡å—ï¼šåŸºäº Docker æ­å»ºå¾…åŠäº‹é¡¹é€šçŸ¥ç®¡ç†","url":"/posts/ff7a46e6.html","content":"Mind æ˜¯ä¸€ä¸ªè½»é‡çº§ã€è‡ªæ‰˜ç®¡çš„æ¶ˆæ¯å‘é€ä¸é€šçŸ¥ç®¡ç†æœåŠ¡ã€‚\nå®ƒé›†æˆäº†å¼ºå¤§çš„ Apprise åº“ï¼Œæ”¯æŒé€šè¿‡å•ä¸€çš„ API æ¥å£ï¼Œå°†æ¶ˆæ¯æ¨é€åˆ° Telegramã€Discordã€Slackã€Email ç­‰æ•°åç§æ¸ é“ã€‚å¯¹äºæ‹¥æœ‰ NAS æˆ–äº‘æœåŠ¡å™¨çš„ç©å®¶æ¥è¯´ï¼Œå®ƒæ˜¯ç»Ÿä¸€ç®¡ç†è„šæœ¬é€šçŸ¥ã€ç³»ç»ŸæŠ¥è­¦çš„ç»ä½³å·¥å…·ã€‚\næœ¬æ–‡å°†æŒ‡å¯¼ä½ å®Œæˆ MIND çš„æ­å»ºã€åå‘ä»£ç†é…ç½®åŠä¸»æµé€šçŸ¥æ¸ é“çš„æ¥å…¥ã€‚\nç¬¬ä¸€æ­¥ï¼šåŸºäº Docker éƒ¨ç½²æˆ‘ä»¬å°†ä½¿ç”¨ Docker Compose å¿«é€Ÿæ‹‰èµ·æœåŠ¡ã€‚\n\nåˆ›å»ºç›®å½•ï¼š\n mkdir -p /app/mindcd /app/mind\n\nç¼–å†™é…ç½®æ–‡ä»¶ï¼š\nåˆ›å»º docker-compose.yml æ–‡ä»¶ã€‚\n vi docker-compose.yml\n å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š\n services:  mind:    container_name: mind    image: mrcas/mind:latest    restart: always    volumes:      - ./mind-db:/app/db    environment:      - TZ=Europe/Amsterdam    ports:      - 20005:8080\n\nå¯åŠ¨æœåŠ¡ï¼š\n docker compose up -d\n\n\n\nç¬¬äºŒæ­¥ï¼šé…ç½® Nginx åå‘ä»£ç†ä¸ºäº†é€šè¿‡ HTTPS å®‰å…¨è®¿é—®ï¼Œæˆ‘ä»¬éœ€è¦é…ç½® Nginx åä»£ã€‚\n\næ·»åŠ  DNS è§£æï¼š\nå°†åŸŸåï¼ˆå¦‚ mind.131495.xyzï¼‰è§£æåˆ°æœåŠ¡å™¨ IPã€‚\n\nåˆ›å»º Nginx é…ç½®ï¼š\n vi /etc/nginx/sites-available/mind.131495.xyz\n æ³¨æ„ï¼šä»¥ä¸‹é…ç½®åŒ…å«è‡ªåŠ¨ HTTPS è·³è½¬åŠå®Œæ•´çš„ SSL è·¯å¾„è®¾ç½®ã€‚\n server &#123;    listen 80;    listen [::]:80;    server_name mind.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;    listen [::]:443 ssl;    # TODO: ä¿®æ”¹ä¸ºå¯¹åº”çš„å­åŸŸå    server_name mind.131495.xyz;    # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;    # TODO: ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/mind.access.log proxy_json;    error_log /var/log/nginx/mind.error.log;    # åå‘ä»£ç†è®¾ç½®    location / &#123;        # TODO: ä¿®æ”¹ä¸ºå®é™…çš„æœåŠ¡åœ°å€        proxy_pass http://127.0.0.1:20005;        # ä»£ç†å‚æ•°        proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\n\nå¯ç”¨å¹¶é‡è½½ï¼š\n ln -s /etc/nginx/sites-available/mind.131495.xyz /etc/nginx/sites-enabled/nginx -t &amp;&amp; nginx -s reload\n\n\n\nç¬¬ä¸‰æ­¥ï¼šç³»ç»Ÿåˆå§‹åŒ–ä¸å®‰å…¨è®¾ç½®è®¿é—® https://mind.131495.xyz è¿›å…¥ç®¡ç†é¢æ¿ã€‚\n\nåˆå§‹ç™»å½•ï¼š\nä½¿ç”¨é»˜è®¤è´¦å· adminï¼Œå¯†ç  admin ç™»å½•ã€‚\n\nå®‰å…¨åŠ å›º (å…³é”®)ï¼š\n\nè¿›å…¥ Authentication èœå•ï¼Œå…³é—­ Allow New Accounts é€‰é¡¹ï¼Œç¦æ­¢å¤–éƒ¨æ³¨å†Œã€‚\nè¿›å…¥ User Managementï¼Œç¼–è¾‘ admin ç”¨æˆ·ï¼Œè¾“å…¥æ–°å¯†ç å¹¶å›è½¦ç¡®è®¤ä¿®æ”¹ã€‚\n\n\nåˆ›å»ºæ—¥å¸¸è´¦å·ï¼š\nä¸ºäº†å®‰å…¨èµ·è§ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªæ™®é€šæƒé™çš„ç”¨æˆ·ï¼ˆUser Roleï¼‰ï¼Œåç»­å‡ä½¿ç”¨è¯¥è´¦å·è¿›è¡Œæ“ä½œã€‚\n\nç•Œé¢æ±‰åŒ–ï¼š\nç™»å½•æ™®é€šè´¦å·ï¼Œç‚¹å‡»å·¦ä¾§å¯¼èˆªæ åº•éƒ¨çš„ Settings (è®¾ç½®) å›¾æ ‡ï¼Œå°† Locale ä¿®æ”¹ä¸º zh-CNã€‚\n\n\n\nç¬¬å››æ­¥ï¼šé…ç½®é€šçŸ¥æ¸ é“ (Apprise)MIND çš„æ ¸å¿ƒåœ¨äºå…¶å¼ºå¤§çš„é€šçŸ¥è½¬å‘èƒ½åŠ›ã€‚ç‚¹å‡»å·¦ä¾§ Notification Services å›¾æ ‡å³å¯æ·»åŠ ã€‚\n1. Telegram é€šçŸ¥æœ€å¸¸ç”¨çš„å³æ—¶é€šçŸ¥æ–¹å¼ã€‚\n\nè·å– Tokenï¼šåœ¨ Telegram æœç´¢ @BotFatherï¼Œå‘é€ /newbot åˆ›å»ºæœºå™¨äººï¼Œè·å– API Tokenã€‚\nè·å– User IDï¼šæœç´¢ @userinfobotï¼Œè·å–ä½ ä¸ªäººçš„ Chat IDã€‚\nMIND é…ç½®ï¼š\nService Title: My Telegram\nBot Token: å¡«å…¥ API Token\nTarget: å¡«å…¥ Chat ID\n\n\n\n2. QQ é‚®ç®±é€šçŸ¥ä½¿ç”¨ QQ é‚®ç®±çš„ SMTP æœåŠ¡å‘é€é€šçŸ¥ã€‚\n\nå‡†å¤‡å·¥ä½œ\nç™»å½• QQ é‚®ç®±ç½‘é¡µç‰ˆ -&gt; è®¾ç½® -&gt; è´¦å·ï¼Œå¼€å¯ SMTP æœåŠ¡å¹¶ç”Ÿæˆ æˆæƒç ã€‚\nå¯å‚è€ƒ QQ é‚®ç®± SMTP/IMAP æœåŠ¡\n\n\nMIND é…ç½®ï¼š\nSchema: mailtos\nDomain: qq.com\nUsername: å¡«å†™ QQ å·ï¼ˆæ³¨æ„ï¼šä¸è¦å¸¦ @qq.com åç¼€ï¼‰\nPassword: å¡«å†™åˆšæ‰ç”Ÿæˆçš„ æˆæƒç ï¼ˆé QQ ç™»å½•å¯†ç ï¼‰\nPortï¼š587\nTarget Email: å¡«å†™å®Œæ•´çš„æ”¶ä»¶åœ°å€ï¼ˆå¦‚ 123456@qq.comï¼‰\n\n\n\n3. Microsoft 365 (Office 365) é€šçŸ¥åˆ©ç”¨ä¼ä¸šçº§ E3 è®¢é˜…çš„é«˜æƒé‡å‘ä¿¡ã€‚\nè¯¦ç»†çš„å‰ç½®é…ç½®è¯·å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šğŸ‘‰ Microsoft 365 E3 è¿›é˜¶æŒ‡å—ï¼šç»‘å®šè‡ªå®šä¹‰åŸŸåå¹¶é…ç½®ä¼ä¸šçº§ SMTP å‘ä¿¡\næˆ‘ä»¬éœ€è¦ç”¨åˆ° Microsoft Graph API çš„å‚æ•°ï¼š\n\nMIND é…ç½®ï¼š\nTenant Domain: å¡«å…¥ Directory (tenant) ID\nAccount Email: å¡«å…¥æ‹¥æœ‰å‘é€æƒé™çš„å®Œæ•´é‚®ç®±åœ°å€ï¼ˆå¦‚ noreply@gabriel.edu.kgï¼‰\nClient ID: å¡«å…¥ Application (client) ID\nClient Secret: å¡«æ³¨å†Œç”Ÿæˆçš„ Secret Value\nTarget Email: å¡«å†™å®Œæ•´çš„æ”¶ä»¶åœ°å€ï¼ˆå¦‚ 123456@qq.comï¼‰\n\n\n\n4. ä¸ªäººå¾®ä¿¡é€šçŸ¥ (æ¨è)å›½å†…ä½¿ç”¨æœ€å¹¿æ³›çš„å¾®ä¿¡ã€‚\nè¿™éœ€è¦åˆ©ç”¨ä¼ä¸šå¾®ä¿¡çš„æ¥å£ï¼Œæˆ‘å·²ç»å•ç‹¬å†™äº†ä¸€ç¯‡è¯¦ç»†çš„æ­å»ºæ•™ç¨‹ã€‚ğŸ‘‰ è¯·å…ˆå®Œæˆæ­¤æœåŠ¡çš„æ­å»ºï¼š ä¸ªäººå¾®ä¿¡æ¥æ”¶é€šçŸ¥ï¼šåŸºäº Docker æ­å»ºä¼ä¸šå¾®ä¿¡æ¨é€æœåŠ¡\næ­å»ºå®Œæˆåï¼Œåœ¨ MIND çš„é€šçŸ¥è®¾ç½®ä¸­é€‰æ‹© Custom URLï¼Œå¡«å…¥ä»¥ä¸‹ URL å³å¯ï¼š\n\nService Name: WeChat Work\nApprise URL: jsons://api.131495.xyz:443/wecome?:key=ä½ çš„key&amp;:kind=app&amp;:from=MIND\n\n","categories":["åˆ›æ„å·¥åŠ","æœåŠ¡æ­å»º"],"tags":["Docker","MIND","Apprise","æ¶ˆæ¯æ¨é€"]},{"title":"RustDesk è‡ªå»ºè¿œç¨‹æ¡Œé¢æœåŠ¡ï¼šå‘Šåˆ« TeamViewerï¼Œæ‹¥æŠ±å¼€æºä¸é€Ÿåº¦","url":"/posts/aed46d6a.html","content":"RustDesk æ˜¯ä¸€æ¬¾å¼€æºçš„è¿œç¨‹æ¡Œé¢è½¯ä»¶ï¼Œæ—¨åœ¨æˆä¸º TeamViewer å’Œ AnyDesk çš„æ›¿ä»£å“ã€‚\nå®ƒæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºæ”¯æŒè‡ªå»ºæœåŠ¡å™¨ã€‚é€šè¿‡è‡ªå»ºæœåŠ¡å™¨ï¼Œä½ å¯ä»¥æ‹¥æœ‰å®Œå…¨çš„æ•°æ®æŒæ§æƒï¼Œäº«å—å±€åŸŸç½‘èˆ¬çš„ä½å»¶è¿Ÿä½“éªŒï¼Œä¸”æ— éœ€æ”¯ä»˜æ˜‚è´µçš„å•†ä¸šæˆæƒè´¹ç”¨ã€‚\næ ¸å¿ƒç»„ä»¶è§£æåœ¨éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ RustDesk æœåŠ¡ç«¯çš„ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š\n\nhbbs (RustDesk ID/Rendezvous Server)\n\nå¿ƒè·³ä¸ä¿¡ä»¤æœåŠ¡å™¨ã€‚\nä¸»è¦è´Ÿè´£è®¾å¤‡çš„å¿ƒè·³ä¿æ´»ã€P2P è¿æ¥çš„æ‰“æ´ï¼ˆNAT ç©¿é€ï¼‰ã€ä»¥åŠè®¾å¤‡ ID çš„æ³¨å†Œä¸å‘ç°ã€‚\nå®¢æˆ·ç«¯é€šè¿‡å®ƒæ¥â€œæ‰¾åˆ°â€å¯¹æ–¹ã€‚\n\n\nhbbr (RustDesk Relay Server)\n\nä¸­ç»§æœåŠ¡å™¨ã€‚\nå½“ä¸¤ä¸ªå®¢æˆ·ç«¯æ— æ³•å»ºç«‹ç›´æ¥çš„ P2P è¿æ¥ï¼ˆä¾‹å¦‚éƒ½åœ¨ä¸¥æ ¼çš„ NAT åï¼‰æ—¶ï¼Œæ•°æ®å°†é€šè¿‡æ­¤æœåŠ¡å™¨è¿›è¡Œè½¬å‘ã€‚\nè¿™æ˜¯ä¿è¯è¿æ¥æˆåŠŸç‡çš„å…œåº•æ–¹æ¡ˆã€‚\n\n\n\néƒ¨ç½²æµç¨‹æœ¬æ•™ç¨‹åŸºäº Docker Compose éƒ¨ç½²ï¼Œå¯å‚è€ƒï¼šUbuntu ç³»ç»Ÿ Docker å®‰è£…å…¨æŒ‡å—ï¼šå®˜æ–¹æºä¸å›½å†…é•œåƒåŠ é€Ÿã€‚ä½¿ç”¨ network_mode: &quot;host&quot; æ¨¡å¼ï¼Œè¿™æ˜¯å®˜æ–¹æ¨èçš„æœ€ç®€é…ç½®ï¼Œæ— éœ€ç¹ççš„ç«¯å£æ˜ å°„ã€‚\n1. åˆ›å»ºå·¥ä½œç›®å½•mkdir -p /app/rustdeskcd /app/rustdesktouch docker-compose.yml\n2. ç¼–å†™é…ç½®æ–‡ä»¶ç¼–è¾‘ docker-compose.ymlï¼š\ndocker-compose.ymlservices:  hbbs:    image: rustdesk/rustdesk-server:latest    command: hbbs    volumes:      - ./data:/root    network_mode: &quot;host&quot;    depends_on:      - hbbr    restart: unless-stopped  hbbr:    image: rustdesk/rustdesk-server:latest    command: hbbr    volumes:      - ./data:/root    network_mode: &quot;host&quot;    restart: unless-stopped\n3. å¯åŠ¨æœåŠ¡docker compose up -d\né˜²ç«å¢™é…ç½®ï¼ˆå…³é”®ï¼‰RustDesk æ¶‰åŠçš„ç«¯å£è¾ƒå¤šï¼Œé˜²ç«å¢™é…ç½®é”™è¯¯æ˜¯å¯¼è‡´æ— æ³•è¿æ¥çš„æœ€å¸¸è§åŸå› ã€‚\nè¯·åœ¨äº‘æœåŠ¡å™¨çš„å®‰å…¨ç»„æˆ–é˜²ç«å¢™ï¼ˆUFW/IPTablesï¼‰ä¸­æ”¾è¡Œä»¥ä¸‹ç«¯å£ï¼š\n\n\n\n\nç«¯å£\nåè®®\nç”¨é€”\nè¯´æ˜\n\n\n\n\n21115\nTCP\nHBBS\nNAT ç±»å‹æµ‹è¯•\n\n\n21116\nTCP\nHBBS\nID æ³¨å†Œä¸å¿ƒè·³æœåŠ¡\n\n\n21116\nUDP\nHBBS\né‡è¦ï¼š ID æ³¨å†Œä¸å¿ƒè·³ï¼ˆå¿…é¡»æ”¾è¡Œï¼‰\n\n\n21117\nTCP\nHBBR\nä¸­ç»§æœåŠ¡ï¼ˆæ•°æ®è½¬å‘ï¼‰\n\n\n\n\nè¡¥å……è¯´æ˜ï¼š\n\n21114ï¼šä»… Pro ç‰ˆæœ¬ï¼ˆä»˜è´¹ç‰ˆï¼‰çš„ API ç«¯å£ï¼Œå¼€æºç‰ˆæ— éœ€æ”¾è¡Œã€‚\n21118 - 21119ï¼šç”¨äºæ”¯æŒç½‘é¡µç‰ˆå®¢æˆ·ç«¯ï¼ˆWeb Clientï¼‰ï¼Œå¦‚æœä¸éœ€è¦ç½‘é¡µç‰ˆå¯ä¸æ”¾è¡Œã€‚\n\n\nè·å–è¿æ¥å¯†é’¥ (Key)ä¸ºäº†é˜²æ­¢æœªç»æˆæƒçš„äººä½¿ç”¨ä½ çš„ä¸­ç»§æœåŠ¡å™¨æ¶ˆè€—æµé‡ï¼Œæˆ‘ä»¬éœ€è¦è·å–æœåŠ¡å™¨è‡ªåŠ¨ç”Ÿæˆçš„å…¬é’¥ã€‚\næœåŠ¡å¯åŠ¨åï¼Œå¯†é’¥æ–‡ä»¶ä½äºæŒ‚è½½çš„ ./data ç›®å½•ä¸­ã€‚\n# æŸ¥çœ‹å…¬é’¥ï¼ˆæ³¨æ„æ˜¯ .pub ç»“å°¾çš„æ–‡ä»¶ï¼‰cat /app/rustdesk/data/id_ed25519.pub\nè¾“å‡ºçš„å­—ç¬¦ä¸²ï¼ˆå¦‚ 8B/x+...=ï¼‰å³ä¸º Keyï¼Œå¤åˆ¶ä¿å­˜ã€‚\nå®¢æˆ·ç«¯é…ç½®ä¸‹è½½ RustDesk å®¢æˆ·ç«¯ï¼ˆæ”¯æŒ Windows, Mac, Linux, Android, iOSï¼‰ã€‚\n\næ‰“å¼€å®¢æˆ·ç«¯ï¼Œç‚¹å‡» è®¾ç½®ï¼ˆå³ä¸Šè§’ä¸‰æ¡æ¨ªçº¿å›¾æ ‡ï¼‰ -> ç½‘ç»œã€‚\næ‰¾åˆ°é¡¶éƒ¨ ID / ä¸­ç»§æœåŠ¡å™¨ é€‰é¡¹ã€‚\nå¡«å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š\nID æœåŠ¡å™¨ï¼šå¡«å…¥ä½ çš„æœåŠ¡å™¨ IPï¼ˆæˆ–åŸŸåï¼‰ã€‚\nä¸­ç»§æœåŠ¡å™¨ï¼šå¡«å…¥ä½ çš„æœåŠ¡å™¨ IPï¼ˆæˆ–åŸŸåï¼‰ã€‚\nAPI æœåŠ¡å™¨ï¼šç•™ç©ºï¼ˆé™¤éä½¿ç”¨ Pro ç‰ˆï¼‰ã€‚\nKeyï¼šå¡«å…¥ä¸Šä¸€æ­¥è·å–çš„å…¬é’¥å­—ç¬¦ä¸²ã€‚\n\n\n\nç‚¹å‡» åº”ç”¨ã€‚\nå›åˆ°ä¸»ç•Œé¢ï¼Œå¦‚æœåº•éƒ¨çŠ¶æ€æ æ˜¾ç¤º â€œå°±ç»ªâ€ï¼Œä¸”æ²¡æœ‰æŠ¥é”™æç¤ºï¼Œè¯´æ˜è¿æ¥è‡ªå»ºæœåŠ¡å™¨æˆåŠŸã€‚ç°åœ¨ä½ å¯ä»¥äº«å—é«˜æ¸…ã€æµç•…çš„è¿œç¨‹æ§åˆ¶ä½“éªŒäº†ï¼\n","categories":["åˆ›æ„å·¥åŠ","æœåŠ¡æ­å»º"],"tags":["è¿ç»´","Docker","RustDesk","è¿œç¨‹æ¡Œé¢"]},{"title":"ä¸ªäººå¾®ä¿¡æ¥æ”¶é€šçŸ¥ï¼šåŸºäº Docker æ­å»ºä¼ä¸šå¾®ä¿¡æ¨é€æœåŠ¡","url":"/posts/d8044207.html","content":"åœ¨ä¼—å¤šé€šçŸ¥æ¸ é“ä¸­ï¼Œå¾®ä¿¡æ— ç–‘æ˜¯å›½å†…ç”¨æˆ·è§¦è¾¾ç‡æœ€é«˜çš„ã€‚ ä½†æ™®é€šå¾®ä¿¡ä¸å¼€æ”¾ APIï¼Œè€Œå…¬ä¼—å·æ¨é€åˆå—é™äºæ¨¡æ¿æ¶ˆæ¯ã€‚\nç›®å‰æœ€ä½³çš„è§£å†³æ–¹æ¡ˆæ˜¯åˆ©ç”¨ ä¼ä¸šå¾®ä¿¡ (WeCom)ã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ä¼ä¸šï¼ˆä¸ªäººå…è´¹ï¼‰ï¼Œå¹¶å¼€å¯â€œå¾®ä¿¡æ’ä»¶â€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸ªäººå¾®ä¿¡ä¸­æ— ç¼æ¥æ”¶æ¥è‡ªâ€œä¼ä¸šâ€åº”ç”¨çš„æ¶ˆæ¯æ¨é€ã€‚\nä¸ºäº†ç®€åŒ–é‰´æƒæµç¨‹ï¼ˆå¤æ‚çš„ Token è·å–ä¸ç¼“å­˜ï¼‰ï¼Œæˆ‘ä»¬å°†éƒ¨ç½²ä¸€ä¸ªè½»é‡çº§çš„ä¸­é—´ä»¶ lijiabao9/wecome-pusherï¼Œå°†å…¶è½¬åŒ–ä¸ºç®€å•çš„ Webhook è°ƒç”¨ã€‚\nç¬¬ä¸€æ­¥ï¼šä¼ä¸šå¾®ä¿¡ç«¯é…ç½®ä¸€åˆ‡çš„å‰ææ˜¯æ‹¥æœ‰ä¸€ä¸ªä¼ä¸šå¾®ä¿¡è´¦å·ã€‚\n\næ³¨å†Œä¼ä¸šï¼šè®¿é—® ä¼ä¸šå¾®ä¿¡å®˜ç½‘ æ³¨å†Œä¸€ä¸ªç»„ç»‡ï¼ˆåç§°éšæ„ï¼Œå¦‚ æˆ‘çš„å®¶åº­æ•°æ®ä¸­å¿ƒï¼‰ã€‚\nè·å–ä¼ä¸š ID (CorpID)ï¼šç™»å½•åå°ï¼Œç‚¹å‡» æˆ‘çš„ä¼ä¸š -&gt; ä¼ä¸šä¿¡æ¯ï¼Œåœ¨æœ€åº•éƒ¨æ‰¾åˆ° ä¼ä¸š IDã€‚\nåˆ›å»ºåº”ç”¨ï¼š\nç‚¹å‡» åº”ç”¨ç®¡ç† -&gt; åº”ç”¨ -&gt; è‡ªå»º -&gt; åˆ›å»ºåº”ç”¨ã€‚\nåº”ç”¨åç§°ï¼šéšæ„ï¼ˆå¦‚ ServerBotï¼‰ï¼Œå¯è§èŒƒå›´ï¼šé€‰æ‹©ä½ è‡ªå·±æˆ–ä¼ä¸šã€‚\nåˆ›å»ºå®Œæˆåï¼Œè¿›å…¥åº”ç”¨è¯¦æƒ…é¡µï¼Œè·å– AgentId (åº”ç”¨ ID) å’Œ Secret (åº”ç”¨å¯†é’¥)ã€‚\næ³¨æ„ï¼šSecret éœ€è¦åœ¨æ‰‹æœºç«¯ä¼ä¸šå¾®ä¿¡ç¡®è®¤åæŸ¥çœ‹ã€‚\n\n\né…ç½®å¯ä¿¡ IP (å…³é”®)ï¼š\nåœ¨åº”ç”¨è¯¦æƒ…é¡µ -&gt; å¼€å‘è€…æ¥å£ -&gt; ä¼ä¸šå¯ä¿¡ IPã€‚\nç‚¹å‡»é…ç½®ï¼Œå¡«å…¥ä½ å³å°†éƒ¨ç½² Docker æœåŠ¡çš„æœåŠ¡å™¨ å…¬ç½‘ IPã€‚\næ³¨æ„ï¼šä¼ä¸šå¾®ä¿¡å¯¹æ­¤æ ¡éªŒä¸¥æ ¼ã€‚é…ç½® IP å‰å¯èƒ½è¦æ±‚è¿›è¡ŒåŸŸåå½’å±æƒéªŒè¯ï¼ˆéœ€å°†æŒ‡å®š txt æ–‡ä»¶æ”¾ç½®åœ¨ä½ çš„åŸŸåæ ¹ç›®å½•ä¸‹ï¼‰ã€‚\n\n\n\nåˆ›å»ºæœºå™¨äººï¼š\næ‰‹æœºç«¯è¿›å…¥ä¼ä¸šå¾®ä¿¡ï¼Œé€‰æ‹©ä¸€ä¸ªç¾¤èŠã€‚\nè®¾ç½®é‡Œï¼Œæ¶ˆæ¯æ¨é€ï¼Œæ–°å»ºæœºå™¨äººï¼Œå¾—åˆ°å›è°ƒåœ°å€ WebHookã€‚\n\n\nå¼€å¯å¾®ä¿¡æ’ä»¶ï¼š\nç‚¹å‡»å·¦ä¾§èœå• æˆ‘çš„ä¼ä¸š -&gt; å¾®ä¿¡æ’ä»¶ã€‚\næ‰¾åˆ°â€œé‚€è¯·å…³æ³¨â€ï¼Œä½¿ç”¨ä½ çš„ä¸ªäººå¾®ä¿¡æ‰«æå¤§å°ºå¯¸äºŒç»´ç ã€‚\nå…³æ³¨åï¼Œè¯¥ä¼ä¸šåº”ç”¨çš„æ¶ˆæ¯å°†ç›´æ¥å‡ºç°åœ¨ä½ ä¸ªäººå¾®ä¿¡çš„èŠå¤©åˆ—è¡¨ä¸­ã€‚\n\n\n\n\nç¬¬äºŒæ­¥ï¼šDocker éƒ¨ç½²ä¸­é—´ä»¶æˆ‘ä»¬å°†ä½¿ç”¨ Docker Compose éƒ¨ç½² API æœåŠ¡ã€‚\n\nåˆ›å»ºç›®å½•ï¼š\n mkdir -p /app/wecome-pushercd /app/wecome-pusher\n\né…ç½®æ–‡ä»¶ï¼š\nåˆ›å»º docker-compose.ymlï¼š\n vi docker-compose.yml\n å¡«å…¥é…ç½®ï¼šæ›¿æ¢ç¬¬ä¸€æ­¥å¾—åˆ°çš„ CorpIDã€AgentIdã€Secretã€WebHookï¼Œå¹¶ä¿®æ”¹ KEYï¼Œç”¨äºåç»­è°ƒç”¨çš„éªŒè¯ã€‚\n services:  core:    image: ghcr.io/lijiabao9/wecome-pusher:main    container_name: wecome-pusher-core    restart: unless-stopped    ports:      - &quot;8080:8080&quot;    environment:      # Webhook é€šç”¨é…ç½®      KEY: &quot;ä½ çš„key&quot;      KIND_DEFAULT: &quot;app&quot;      TIMEZONE: &quot;Asia/Shanghai&quot;      # ä¼ä¸šå¾®ä¿¡åº”ç”¨æ¶ˆæ¯      WECOM_CID: &quot;ä¼ä¸šID&quot;      WECOM_SECRET: &quot;åº”ç”¨Secret&quot;      WECOM_AID: &quot;åº”ç”¨ID&quot;      WECOM_TOUID: &quot;@all&quot;      APP_ENABLE_DUPLICATE_CHECK: 0      APP_DUPLICATE_CHECK_INTERVAL: 1800      # ä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äºº      ROBOT_WEBHOOK: &quot;https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=ä½ çš„æœºå™¨äººkey&quot;      # Redis é…ç½®      REDIS_ON: 1      REDIS_HOST: redis      REDIS_PORT: 6379      REDIS_EXPIRED: 7000      REDIS_KEY: wecom_access_token    depends_on:      - redis  redis:    image: redis:7-alpine    container_name: wecome-pusher-redis    restart: unless-stopped\n\nå¯åŠ¨æœåŠ¡ï¼š\n docker compose up -d\n\n\n\nç¬¬ä¸‰æ­¥ï¼šNginx åå‘ä»£ç†ä¸ºäº†é€šè¿‡ HTTPS å®‰å…¨è°ƒç”¨ Webhookï¼Œæˆ‘ä»¬éœ€è¦é…ç½®åä»£ã€‚\n\nåˆ›å»ºé…ç½®ï¼š\n å‡è®¾åŸŸåä¸º api.131495.xyzã€‚\n vi /etc/nginx/sites-available/api.131495.xyz\n server &#123;    listen 80;    listen [::]:80;    server_name api.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;    listen [::]:443 ssl;    # TODO: ä¿®æ”¹ä¸ºå¯¹åº”çš„å­åŸŸå    server_name api.131495.xyz;    # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;    # TODO: ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/api.access.log proxy_json;    error_log /var/log/nginx/api.error.log;    # åå‘ä»£ç†è®¾ç½®    location /wecome &#123;        # è½¬å‘è‡³æœ¬åœ° 8080 ç«¯å£        proxy_pass http://127.0.0.1:8080;        # ä»£ç†å‚æ•°        proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\n\né‡è½½ Nginxï¼š\n ln -s /etc/nginx/sites-available/api.131495.xyz /etc/nginx/sites-enabled/nginx -t &amp;&amp; nginx -s reload\n\n\n\nç¬¬å››æ­¥ï¼šè°ƒç”¨æµ‹è¯•æœåŠ¡å¯åŠ¨åï¼Œæ¥å£åœ°å€æ ¼å¼å¦‚ä¸‹ï¼šhttps://api.131495.xyz/wecome\nä½ å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨è®¿é—®è¯¥ URLï¼Œæˆ–è€…ä½¿ç”¨ curl æµ‹è¯•ï¼š\ncurl &quot;https://api.131495.xyz/wecome?key=ä½ çš„key&amp;kind=app&amp;msg=Hello_WeChat&quot;\nå¦‚æœä½ çš„ä¸ªäººå¾®ä¿¡æ”¶åˆ°äº†æ¥è‡ª â€œä¼ä¸šå¾®ä¿¡â€ åº”ç”¨çš„æ¶ˆæ¯ï¼Œå³ä»£è¡¨æœåŠ¡æ­å»ºæˆåŠŸï¼\n\nè¿™ä¸ªæ¥å£ç°åœ¨å¯ä»¥é›†æˆåˆ° Uptime Kumaã€Apprise æˆ–ä»»ä½•æ”¯æŒ Webhook çš„æœåŠ¡ä¸­ä½¿ç”¨äº†ã€‚\n","categories":["åˆ›æ„å·¥åŠ","æœåŠ¡æ­å»º"],"tags":["Docker","æ¶ˆæ¯æ¨é€","ä¼ä¸šå¾®ä¿¡","Webhook"]},{"title":"3X-UI é¢æ¿æ­å»ºæŒ‡å—ï¼šå¯è§†åŒ–ç®¡ç† VLESS / Reality / Trojan èŠ‚ç‚¹","url":"/posts/e8898327.html","content":"3X-UI æ˜¯ X-UI çš„ä¸€ä¸ªä¼˜ç§€åˆ†æ”¯ï¼Œæ”¯æŒ Xray å†…æ ¸çš„ç»å¤§å¤šæ•°æ–°ç‰¹æ€§ï¼ˆå¦‚ Realityã€Vision æµæ§ç­‰ï¼‰ï¼Œå¹¶æä¾›äº†ç¾è§‚çš„æ•°æ®ç»Ÿè®¡é¢æ¿ã€‚\næœ¬æ–‡å°†å¸¦ä½ æ­å»ºä¸€å¥—æ—¢æ–¹ä¾¿ç®¡ç†ï¼Œåˆå…·å¤‡æé«˜éšè”½æ€§çš„ä»£ç†ç³»ç»Ÿã€‚\nä¸€ã€ä¸€é”®å®‰è£…é¢æ¿ä½¿ç”¨å®˜æ–¹æä¾›çš„ä¸€é”®è„šæœ¬è¿›è¡Œå®‰è£…ï¼š\napt update -y &amp;&amp; apt install git -ybash &lt; (curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh))\nå®‰è£…å®Œæˆåï¼Œç»ˆç«¯ä¼šè¾“å‡ºåˆå§‹çš„ç™»å½•ä¿¡æ¯ï¼š\n\nUsername: UtgyyYgtJw  (éšæœºç”Ÿæˆ)Password: JgaAcZYsVQ  (éšæœºç”Ÿæˆ)Port:     18857       (éšæœºç”Ÿæˆ)Access URL: http://ä½ çš„IP:18857/éšæœºè·¯å¾„\n\næ¨èçš„åˆå§‹åŒ–è®¾ç½®åœ¨ç»ˆç«¯è¾“å…¥ x-ui è¿›å…¥ç®¡ç†èœå•ï¼š\n\nè¾“å…¥ 23ï¼šå®‰è£… BBR æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼ˆæ¨è BBR+FQï¼‰ï¼Œæ˜¾è‘—æå‡é€Ÿåº¦ã€‚\nè¾“å…¥ 6ï¼šä¿®æ”¹ç®¡ç†å‘˜è´¦å·å’Œå¯†ç ï¼ˆå»ºè®®æ”¹ä¸ªå¥½è®°çš„ï¼Œä½†ä¸è¦å¤ªç®€å•ï¼‰ã€‚\n\n\näºŒã€é¢æ¿å®‰å…¨é…ç½® (Nginx åä»£)ä¸ºäº†å®‰å…¨ï¼Œæˆ‘ä»¬ä¸åº”ç›´æ¥å°†é¢æ¿ç«¯å£æš´éœ²åœ¨å…¬ç½‘ï¼Œè€Œæ˜¯å°†å…¶éšè—åœ¨ Nginx çš„ 443 ç«¯å£ä¸‹ï¼Œé€šè¿‡ç‰¹å®šè·¯å¾„è®¿é—®ã€‚\n1. ä¿®æ”¹é¢æ¿ç›‘å¬é…ç½®ç™»å½•é¢æ¿ï¼ˆä½¿ç”¨å®‰è£…æ—¶æä¾›çš„ IP:ç«¯å£ï¼‰ï¼Œè¿›å…¥ é¢æ¿è®¾ç½® -> å¸¸è§„é…ç½®ï¼š\n\né¢æ¿ç›‘å¬ IPï¼šæ”¹ä¸º 127.0.0.1 (åªå…è®¸æœ¬æœºè®¿é—®)\né¢æ¿ URL æ ¹è·¯å¾„ï¼šæ”¹ä¸º /xui/ (æˆ–è€…ä½ å–œæ¬¢çš„å…¶ä»–è·¯å¾„ï¼Œæ³¨æ„å‰åéƒ½è¦æœ‰æ–œæ )\nä¿å­˜å¹¶é‡å¯é¢æ¿ã€‚\n\næ³¨æ„ï¼šé‡å¯åï¼Œä½ å°†æ— æ³•ç›´æ¥é€šè¿‡ IP:ç«¯å£ è®¿é—®é¢æ¿ï¼Œå¿…é¡»è¿›è¡Œä¸‹ä¸€æ­¥ Nginx é…ç½®ã€‚\n2. é…ç½® Nginx åå‘ä»£ç†ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼švi /etc/nginx/sites-available/gfw.131495.xyz\næˆ‘ä»¬å°†é¢æ¿ç®¡ç†å’ŒèŠ‚ç‚¹ä»£ç†éƒ½æ•´åˆåœ¨è¿™ä¸ªé…ç½®ä¸­ï¼š\nserver &#123;    listen 80;    listen [::]:80;    server_name gfw.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;    listen [::]:443 ssl;        server_name gfw.131495.xyz;    # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;    # æ—¥å¿—    access_log /var/log/nginx/gfw.access.log;    error_log /var/log/nginx/gfw.error.log;    # 1. é»˜è®¤ä¼ªè£… (Bing é•œåƒ)    location / &#123;        proxy_pass https://www.bing.com;        proxy_ssl_server_name on;        proxy_set_header Host www.bing.com;    &#125;        # 2. é¢æ¿ç®¡ç†å…¥å£ (è®¿é—® https://åŸŸå/xui/ è¿›å…¥é¢æ¿)    location /xui/ &#123;        # æ³¨æ„ï¼šç«¯å£è¦å’Œé¢æ¿è®¾ç½®çš„ä¸€è‡´        proxy_pass http://127.0.0.1:18857/xui/;                 proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;    # 3. èŠ‚ç‚¹æµé‡è½¬å‘ (VLESS+WS)    location /ray &#123;        proxy_pass http://127.0.0.1:21001;                # WebSocket å…³é”®å¤´        proxy_http_version 1.1;        proxy_set_header Upgrade $http_upgrade;        proxy_set_header Connection &quot;upgrade&quot;;                proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\né‡è½½ Nginxï¼šnginx -t &amp;&amp; systemctl reload nginxç°åœ¨ï¼Œè®¿é—® https://gfw.131495.xyz/xui/ å³å¯å®‰å…¨ç®¡ç†é¢æ¿ã€‚\n\nä¸‰ã€åˆ›å»ºèŠ‚ç‚¹ï¼šCDN éšåŒ¿æ¨¡å¼ (VLess+WS+TLS)è¿™ç§æ¨¡å¼é€‚åˆéœ€è¦éšè— IP æˆ–æ­é… Cloudflare CDN ä½¿ç”¨çš„åœºæ™¯ã€‚\n1. é¢æ¿ç«¯è®¾ç½®åœ¨ å…¥ç«™åˆ—è¡¨ ç‚¹å‡» æ·»åŠ å…¥ç«™ï¼š\n\nå¤‡æ³¨ï¼šVLess-WS-TLS\nåè®®ï¼švless\nç›‘å¬ IPï¼š127.0.0.1 (ä»…å…è®¸ Nginx è½¬å‘)\nç«¯å£ï¼š21001 (éœ€ä¸ Nginx é…ç½®ä¸€è‡´)\nä¼ è¾“é…ç½®ï¼š\nä¼ è¾“åè®®ï¼šws\nè·¯å¾„ï¼š/ray (éœ€ä¸ Nginx é…ç½®ä¸€è‡´)\nHostï¼šç•™ç©ºæˆ–å¡«å†™åŸŸå\n\n\nTLSï¼šå…³é—­ (TLS ç”± Nginx å¤„ç†)\n\n2. å®¢æˆ·ç«¯é…ç½®æ³¨æ„ç”±äºç»è¿‡äº† Nginx è½¬å‘ï¼Œå®¢æˆ·ç«¯æ— æ³•è‡ªåŠ¨è¯†åˆ«è¿™ç§å¤æ‚çš„æ‹“æ‰‘ï¼Œé€šå¸¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹å¯¼å…¥åçš„é…ç½®ï¼š\n\nåœ°å€ï¼šä½ çš„åŸŸå\nç«¯å£ï¼š443\nä¼ è¾“å±‚å®‰å…¨ (TLS)ï¼šå¼€å¯\n\n\nå››ã€åˆ›å»ºèŠ‚ç‚¹ï¼šç›´è¿æ€§èƒ½æ¨¡å¼ (VLess+Reality)è¿™ç§æ¨¡å¼ä¸éœ€è¦åŸŸåè¯ä¹¦ï¼Œä¸éœ€è¦ Nginxï¼Œé€Ÿåº¦æœ€å¿«ï¼Œæ˜¯ç›®å‰å¯¹æŠ— GFW çš„ä¸»æµæ–¹æ¡ˆã€‚\n1. é¢æ¿ç«¯è®¾ç½®åœ¨ å…¥ç«™åˆ—è¡¨ ç‚¹å‡» æ·»åŠ å…¥ç«™ï¼š\n\nå¤‡æ³¨ï¼šVLess-Reality\nåè®®ï¼švless\nç›‘å¬ IPï¼š0.0.0.0 (å¿…é¡»æš´éœ²ç»™å…¬ç½‘)\nç«¯å£ï¼š20443 (æˆ–è€…å…¶ä»–æœªè¢«å ç”¨çš„ç«¯å£ï¼Œæ³¨æ„ Nginx å·²ç»å ç”¨äº† 443)\nç”¨æˆ·è®¾ç½®ï¼š\nFlowï¼šxtls-rprx-vision (å…³é”®ï¼å¯ç”¨æµæ§)\n\n\nä¼ è¾“é…ç½®ï¼š\nä¼ è¾“åè®®ï¼štcp\n\n\nReality è®¾ç½®ï¼š\nRealityï¼šå¼€å¯\nuTLSï¼šchrome\nDest (ç›®æ ‡)ï¼štesla.com:443\nSNIï¼štesla.com (éœ€ä¸ Dest å¯¹åº”)\nç‚¹å‡» Get New Cert ç”Ÿæˆå¯†é’¥å¯¹ã€‚\n\n\n\n2. è¿æ¥æµ‹è¯•\nåœ¨äº‘æœåŠ¡å™¨é˜²ç«å¢™æ”¾è¡Œç«¯å£ï¼ˆå¦‚ 20443ï¼‰ã€‚\nå¦‚æœæœ¬åœ° Ping ä¸é€šåŸŸåï¼Œå®¢æˆ·ç«¯åœ°å€æ å¯ç›´æ¥å¡«å†™ æœåŠ¡å™¨ IPã€‚\nSNI å¿…é¡»å¡«å†™æ­£ç¡®ï¼Œè¿™æ˜¯ Reality ä¼ªè£…çš„å…³é”®ã€‚\n\n\näº”ã€æ€»ç»“æ€»ç»“ï¼š\n\næ—¥å¸¸æµè§ˆ/å¤‡ç”¨ï¼šä½¿ç”¨ VLESS+WS+TLS (èµ° Nginx)ï¼Œéšè”½æ€§å¥½ï¼Œå¯å¥— CDNã€‚\nçœ‹è§†é¢‘/å¤§æµé‡ï¼šä½¿ç”¨ VLESS+Reality (èµ°ç‹¬ç«‹ç«¯å£)ï¼Œé€Ÿåº¦æœ€å¿«ï¼Œå»¶è¿Ÿæœ€ä½ã€‚\n\n\n","categories":["åˆ›æ„å·¥åŠ","ç½‘ç»œä»£ç†"],"tags":["Nginx","3X-UI","Xray"]},{"title":"Shadowsocks-libev éƒ¨ç½²å…¨æŒ‡å—ï¼šä»è£¸å¥”åˆ° Nginx + TLS + WebSocket å®Œç¾ä¼ªè£…","url":"/posts/ba9f85ec.html","content":"Shadowsocks (SS) æ˜¯ä¸€ç§åŸºäºè½»é‡çº§å¯¹ç§°åŠ å¯†çš„ä»£ç†åè®®ã€‚\n\nä¼˜ç‚¹ï¼šèµ„æºå ç”¨æä½ï¼Œé…ç½®ç®€å•ï¼Œé€‚åˆä½æ€§èƒ½æœºå™¨ã€‚\nç¼ºç‚¹ï¼šåœ¨æ²¡æœ‰ä»»ä½•ä¼ªè£…çš„æƒ…å†µä¸‹ï¼Œå…¶æµé‡ç‰¹å¾éå¸¸æ˜æ˜¾ï¼Œææ˜“è¢«é˜²ç«å¢™ï¼ˆGFWï¼‰è¯†åˆ«å¹¶é˜»æ–­ã€‚\n\næœ¬æ–‡å°†ç”±æµ…å…¥æ·±ï¼Œä»‹ç»å¦‚ä½•éƒ¨ç½² SSï¼Œå¹¶ä¸€æ­¥æ­¥ä¸ºå…¶ç©¿ä¸Šâ€œéšèº«è¡£â€ã€‚\nç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€éƒ¨ç½² (è£¸å¥”æ¨¡å¼)æ­¤æ¨¡å¼ä»…å…·å¤‡åŠ å¯†ä¼ è¾“åŠŸèƒ½ï¼Œæ— ä¼ªè£…ï¼Œå®¹æ˜“è¢«å¢™ï¼Œä»…å»ºè®®ç”¨äºä¸­è½¬æˆ–å†…ç½‘ç¯å¢ƒã€‚\n1. å®‰è£…æœåŠ¡Ubuntu å®˜æ–¹ä»“åº“å·²æ”¶å½• libev ç‰ˆæœ¬ï¼Œç›´æ¥å®‰è£…å³å¯ï¼š\napt updateapt install shadowsocks-libev\n2. ç”Ÿæˆé«˜å¼ºåº¦å¯†é’¥SS çš„æ–°åŠ å¯†ç®—æ³•ï¼ˆå¦‚ chacha20-ietf-poly1305ï¼‰éœ€è¦ base64 ç¼–ç çš„ 32 å­—èŠ‚å¯†é’¥ã€‚ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²å¯†ç ä¼šæŠ¥é”™ã€‚\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆå¯†é’¥ï¼Œå¹¶å¤åˆ¶è¾“å‡ºç»“æœï¼š\nopenssl rand -base64 32 | tr &#x27;+/&#x27; &#x27;-_&#x27; | tr -d &#x27;=&#x27;\n3. ä¿®æ”¹é…ç½®ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼švi /etc/shadowsocks-libev/config.json\n&#123;    &quot;server&quot;: &quot;0.0.0.0&quot;,    &quot;mode&quot;: &quot;tcp_and_udp&quot;,    &quot;server_port&quot;: 8388,    &quot;local_port&quot;: 1080,    &quot;password&quot;: &quot;æ­¤å¤„å¡«å†™ä¸Šé¢ç”Ÿæˆçš„Base64å¯†é’¥&quot;,    &quot;timeout&quot;: 86400,    &quot;method&quot;: &quot;chacha20-ietf-poly1305&quot;&#125;\n4. å¯åŠ¨æœåŠ¡systemctl restart shadowsocks-libev\n\nç¬¬äºŒé˜¶æ®µï¼šæµé‡ä¼ªè£… (v2ray-plugin)ä¸ºäº†å¯¹æŠ—æµé‡è¯†åˆ«ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥æ’ä»¶ï¼Œå°† SS æµé‡ä¼ªè£…æˆæ™®é€šçš„ HTTP æˆ– HTTPS æµé‡ã€‚è¿™é‡Œä½¿ç”¨å®˜æ–¹æ¨èçš„ v2ray-pluginã€‚\n1. å®‰è£…æ’ä»¶apt install shadowsocks-v2ray-plugin\næ³¨ï¼šå®‰è£…åæ’ä»¶äºŒè¿›åˆ¶æ–‡ä»¶é€šå¸¸ä½äº /usr/bin/ss-v2ray-pluginã€‚\n2. Windows å®¢æˆ·ç«¯å‡†å¤‡ (å…³é”®)åœ¨ç”µè„‘ç«¯ä½¿ç”¨æ’ä»¶æ¨¡å¼ï¼Œéœ€è¦æ‰‹åŠ¨ä¸‹è½½æ’ä»¶ç¨‹åºã€‚\n\nä¸‹è½½ v2ray-plugin-windows-amd64ã€‚\nè§£å‹å¹¶å°†æ–‡ä»¶åä¿®æ”¹ä¸º v2ray-plugin.exeã€‚\nå°†è¯¥æ–‡ä»¶æ”¾å…¥ Shadowsocks å®¢æˆ·ç«¯ï¼ˆShadowsocks.exeï¼‰çš„åŒçº§ç›®å½•ä¸‹ã€‚\n\næ¨¡å¼ Aï¼šHTTP ä¼ªè£… (ç®€å•)ä»…è¿›è¡Œ HTTP æ··æ·†ï¼Œæ²¡æœ‰ TLS åŠ å¯†ï¼Œä¾ç„¶å¯èƒ½è¢«æ¢æµ‹ã€‚\næœåŠ¡ç«¯é…ç½®ï¼š\n/etc/shadowsocks-libev/config.json&#123;    &quot;server&quot;: &quot;0.0.0.0&quot;,    &quot;server_port&quot;: 8388,    &quot;password&quot;: &quot;ä½ çš„å¯†é’¥&quot;,    &quot;method&quot;: &quot;chacha20-ietf-poly1305&quot;,    &quot;plugin&quot;: &quot;ss-v2ray-plugin&quot;,    &quot;plugin_opts&quot;: &quot;server&quot;&#125;\nå®¢æˆ·ç«¯é…ç½®ï¼š\n\næ’ä»¶ç¨‹åºï¼šv2ray-plugin.exe\næ’ä»¶é€‰é¡¹ï¼šç•™ç©º\n\næ¨¡å¼ Bï¼šHTTPS/TLS ä¼ªè£… (ç›´è¿)ç”± SS æœåŠ¡ç›´æ¥åŠ è½½è¯ä¹¦ï¼Œå¤„ç† TLSã€‚\n\nåŸŸåå’Œè¯ä¹¦çš„è·å–ï¼Œå¯å‚è€ƒæˆ‘çš„æ–‡ç«  ä»é›¶å¼€å§‹ï¼šåŸŸåè´­ä¹°ã€Cloudflare æ‰˜ç®¡ä¸ Nginx è‡ªåŠ¨åŒ– HTTPS é…ç½®å…¨æŒ‡å—\n\næœåŠ¡ç«¯é…ç½®ï¼š\n/etc/shadowsocks-libev/config.json&#123;    &quot;server&quot;: &quot;0.0.0.0&quot;,    &quot;server_port&quot;: 8388,    &quot;password&quot;: &quot;ä½ çš„å¯†é’¥&quot;,    &quot;method&quot;: &quot;chacha20-ietf-poly1305&quot;,    &quot;plugin&quot;: &quot;ss-v2ray-plugin&quot;,    &quot;plugin_opts&quot;: &quot;server;tls;host=gfw.131495.xyz;cert=/cert/acme_131495.xyz/cert.pem;key=/cert/acme_131495.xyz/key.pem&quot;&#125;\næƒé™é™·é˜±ï¼šSS é»˜è®¤ä»¥ shadowsocks ç”¨æˆ·è¿è¡Œï¼Œè€Œè¯ä¹¦æ–‡ä»¶ï¼ˆå°¤å…¶æ˜¯ acme.sh ç”Ÿæˆçš„ keyï¼‰é€šå¸¸åªæœ‰ root æˆ–ç‰¹å®šç»„æœ‰æƒé™è¯»å–ï¼Œå¯¼è‡´å¯åŠ¨å¤±è´¥ permission deniedã€‚\nè§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹æœåŠ¡ä»¥ root èº«ä»½è¿è¡Œã€‚\nsystemctl edit shadowsocks-libev\nåœ¨ç¼–è¾‘å™¨ä¸­å¡«å…¥ï¼š\n[Service]DynamicUser=falseUser=rootGroup=root\nä¿å­˜åé‡å¯æœåŠ¡ã€‚(Ctrl + o ä¿å­˜ï¼ŒEnter ç¡®è®¤ä¿å­˜ï¼ŒCtrl + x é€€å‡º)\n\n\nç¬¬ä¸‰é˜¶æ®µï¼šç»ˆææ–¹æ¡ˆ (Nginx åä»£ + WebSocket + TLS)è¿™æ˜¯ç›®å‰æœ€ç¨³å¥çš„æ–¹æ¡ˆã€‚\n\néšè”½æ€§é«˜ï¼šSS èº²åœ¨ Nginx åé¢ï¼Œå¯¹å¤–åªæš´éœ² 443 ç«¯å£ï¼Œçœ‹èµ·æ¥å°±åƒä¸€ä¸ªæ­£å¸¸çš„ç½‘ç«™ã€‚\nCDN å…¼å®¹ï¼šæ”¯æŒå¥— Cloudflare CDNã€‚\nå®‰å…¨æ€§å¥½ï¼šSS ç›‘å¬æœ¬åœ°å›ç¯åœ°å€ï¼Œä¸ç›´æ¥æš´éœ²åœ¨å…¬ç½‘ã€‚\n\n1. ä¿®æ”¹ SS é…ç½®æ³¨æ„ï¼šå°† server æ”¹ä¸º 127.0.0.1ï¼Œä»…å…è®¸æœ¬æœºè®¿é—®ã€‚\nvi /etc/shadowsocks-libev/config.json\n/etc/shadowsocks-libev/config.json&#123;    &quot;server&quot;: &quot;127.0.0.1&quot;,    &quot;mode&quot;: &quot;tcp_and_udp&quot;,    &quot;server_port&quot;: 8388,    &quot;password&quot;: &quot;ä½ çš„å¯†é’¥&quot;,    &quot;method&quot;: &quot;chacha20-ietf-poly1305&quot;,    &quot;plugin&quot;: &quot;ss-v2ray-plugin&quot;,    &quot;plugin_opts&quot;: &quot;server;host=gfw.131495.xyz;path=/ray&quot;&#125;\né…ç½®è§£é‡Šï¼šSS ç›‘å¬æœ¬æœºçš„ 8388 ç«¯å£ï¼Œç­‰å¾… Nginx è½¬å‘è¿‡æ¥çš„ /ray è·¯å¾„çš„æµé‡ã€‚\né‡å¯ SS æœåŠ¡ï¼š(è®°å¾—å…ˆè¿˜åŸä¹‹å‰çš„ systemctl edit ä¿®æ”¹ï¼Œæ¨èç”¨æ™®é€šç”¨æˆ·è¿è¡Œ)\nsystemctl revert shadowsocks-libevsystemctl restart shadowsocks-libev\n2. é…ç½® Nginx åå‘ä»£ç†åˆ›å»º Nginx é…ç½®æ–‡ä»¶ï¼švi /etc/nginx/sites-available/gfw.131495.xyz\nserver &#123;    listen 80;    listen [::]:80;    server_name gfw.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;    listen [::]:443 ssl;        # TODO: ä¿®æ”¹ä¸ºå¯¹åº”çš„å­åŸŸå    server_name gfw.131495.xyz;    # TODO: ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/gfw.access.log proxy_json;    error_log /var/log/nginx/gfw.error.log;        # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;        # é»˜è®¤ä»£ç†ï¼ˆé˜²æ­¢æ¢æµ‹ï¼‰    location / &#123;        proxy_pass https://www.bing.com;        proxy_ssl_server_name on;        proxy_set_header Host www.bing.com;        proxy_ssl_protocols TLSv1.2 TLSv1.3;    &#125;    # åå‘ä»£ç†è®¾ç½®    location /ray &#123;        # TODO: ä¿®æ”¹ä¸ºå®é™…çš„æœåŠ¡åœ°å€        proxy_pass http://127.0.0.1:8388;                # Websocket ä»£ç†å‚æ•°        proxy_http_version 1.1;        proxy_set_header Upgrade $http_upgrade;        proxy_set_header Connection &quot;upgrade&quot;;                proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\n3. ç”Ÿæ•ˆä¸éªŒè¯ln -s /etc/nginx/sites-available/gfw.131495.xyz /etc/nginx/sites-enabled/nginx -tsystemctl reload nginx\n4. å®¢æˆ·ç«¯é…ç½® (ç»ˆæç‰ˆ)åœ¨ Windows/Android/iOS å®¢æˆ·ç«¯ä¸­ï¼š\n\næœåŠ¡å™¨åœ°å€ï¼šgfw.131495.xyz (ä½ çš„åŸŸå)\nç«¯å£ï¼š443 (Nginx çš„ç«¯å£)\nå¯†ç ï¼šä½ çš„å¯†é’¥\nåŠ å¯†ï¼šchacha20-ietf-poly1305\næ’ä»¶ç¨‹åºï¼šv2ray-plugin\næ’ä»¶é€‰é¡¹ï¼štls;host=gfw.131495.xyz;path=/ray\n\n\nç°åœ¨ï¼Œä½ çš„æµé‡çœ‹èµ·æ¥å°±åƒæ˜¯åœ¨è®¿é—®ä¸€ä¸ªæ™®é€šçš„ HTTPS ç½‘ç«™ï¼Œæä¸ºéšè”½ã€‚\n","categories":["åˆ›æ„å·¥åŠ","ç½‘ç»œä»£ç†"],"tags":["Nginx","Shadowsocks","V2Ray-Plugin","ç§‘å­¦ä¸Šç½‘"]},{"title":"Trojan-Go è½»é‡éƒ¨ç½²æŒ‡å—ï¼šé«˜æ•ˆéšåŒ¿çš„ TLS ä»£ç†æœåŠ¡","url":"/posts/1e76d4d4.html","content":"Trojan-Go æ˜¯ Trojan åè®®çš„ä¸€ä¸ª Go è¯­è¨€å®ç°ç‰ˆæœ¬ï¼Œæ€§èƒ½å¼ºåŠ²ä¸”æ”¯æŒå¤šè·¯å¤ç”¨ã€‚å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šçœ‹èµ·æ¥å°±åƒä¸€ä¸ªæ­£å¸¸çš„ HTTPS ç½‘ç«™ã€‚\n\nå¦‚æœæ˜¯æ­£å¸¸çš„ HTTPS è¯·æ±‚ï¼ˆæ— å¯†ç ï¼‰ï¼Œå®ƒä¼šè½¬å‘åˆ°ä¼ªè£…ç½‘ç«™ï¼ˆå¦‚ Bingï¼‰ã€‚\nå¦‚æœæ˜¯åˆæ³•çš„ Trojan è¯·æ±‚ï¼ˆæœ‰å¯†ç ï¼‰ï¼Œå®ƒä¼šè¿›è¡Œä»£ç†è½¬å‘ã€‚\n\n\nä¸€ã€ä¸‹è½½ä¸å®‰è£…1. ç¡®è®¤ CPU æ¶æ„åœ¨ä¸‹è½½å‰ï¼Œè¯·å…ˆç¡®è®¤æœåŠ¡å™¨çš„æ¶æ„ï¼Œå¦åˆ™ä¼šæŠ¥é”™ Exec format errorã€‚\nuname -m\n\nå¦‚æœè¾“å‡º x86_64ï¼šè¯·ä¸‹è½½ linux-amd64.zip\nå¦‚æœè¾“å‡º aarch64ï¼šè¯·ä¸‹è½½ linux-armv8.zip (Oracle ARM æœºå™¨é€‰è¿™ä¸ª)\n\n2. ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ä»¥ä¸‹ä»¥ ARM æ¶æ„ ä¸ºä¾‹ï¼ˆGitHub æœ€æ–°ç‰ˆï¼‰ï¼š\n# åˆ›å»ºç›®å½•mkdir -p /app/trojan-gocd /app/trojan-go/# ä¸‹è½½ (è¯·æ ¹æ®ä¸Šä¸€æ­¥ç»“æœæ›¿æ¢é“¾æ¥ä¸­çš„ linux-armv8 æˆ– linux-amd64)wget https://github.com/p4gefau1t/trojan-go/releases/download/v0.10.6/trojan-go-linux-armv8.zip# è§£å‹apt install unzip -yunzip trojan-go-linux-armv8.zip# æ¸…ç†å‹ç¼©åŒ…rm -f trojan-go-linux-armv8.zip\n\näºŒã€é…ç½®æœåŠ¡1. ç”Ÿæˆå¼ºå¯†ç Trojan åè®®ä¾èµ–å¯†ç è¿›è¡Œè®¤è¯ï¼Œå»ºè®®ç”Ÿæˆä¸€ä¸ªå¤æ‚çš„ Base64 å­—ç¬¦ä¸²ã€‚\nopenssl rand -base64 32 | tr &#x27;+/&#x27; &#x27;-_&#x27; | tr -d &#x27;=&#x27;\nå¤åˆ¶è¾“å‡ºçš„å­—ç¬¦ä¸²å¤‡ç”¨ã€‚\n2. ç¼–å†™é…ç½®æ–‡ä»¶\nåŸŸåå’Œè¯ä¹¦çš„è·å–ï¼Œå¯å‚è€ƒæˆ‘çš„æ–‡ç«  ä»é›¶å¼€å§‹ï¼šåŸŸåè´­ä¹°ã€Cloudflare æ‰˜ç®¡ä¸ Nginx è‡ªåŠ¨åŒ– HTTPS é…ç½®å…¨æŒ‡å—\n\nåˆ›å»ºæˆ–ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼švi /app/trojan-go/config.json\nconfig.json&#123;    &quot;run_type&quot;: &quot;server&quot;,    &quot;local_addr&quot;: &quot;0.0.0.0&quot;,    &quot;local_port&quot;: 2443,    &quot;remote_addr&quot;: &quot;127.0.0.1&quot;,    &quot;remote_port&quot;: 80,    &quot;password&quot;: [        &quot;æ­¤å¤„å¡«å…¥ä¸Šé¢ç”Ÿæˆçš„å¯†ç &quot;    ],    &quot;ssl&quot;: &#123;        &quot;cert&quot;: &quot;/cert/acme_131495.xyz/cert.pem&quot;,        &quot;key&quot;: &quot;/cert/acme_131495.xyz/key.pem&quot;,        &quot;sni&quot;: &quot;gfw.131495.xyz&quot;,        &quot;fallback_port&quot;: 443    &#125;&#125;\né…ç½®è¯¦è§£ï¼š\n\nlocal_port: 2443ã€‚Trojan-Go ç›‘å¬çš„ç«¯å£ï¼Œå®¢æˆ·ç«¯è¿æ¥è¿™ä¸ªç«¯å£ã€‚\nremote_addr: å›è½åœ°å€ã€‚å½“æœ‰äººæ¢æµ‹ä½ çš„ç«¯å£æˆ–ç›´æ¥æµè§ˆå™¨è®¿é—®æ—¶ï¼ŒTrojan ä¼šå°†æµé‡è½¬å‘åˆ°æ­¤ï¼Œä¼ªè£…æˆä½ åœ¨åå‘ä»£ç†ã€‚\nssl: å¿…é¡»æŒ‡å®šæœ‰æ•ˆçš„è¯ä¹¦è·¯å¾„ã€‚\nsni: ä½ çš„åŸŸåã€‚\n\n\nä¸‰ã€Systemd æœåŠ¡åŒ–ç®¡ç†æ‰‹åŠ¨è¿è¡Œ ./trojan-go ä¼šå ç”¨ç»ˆç«¯ï¼Œä¸”æ— æ³•å¼€æœºè‡ªå¯ã€‚æˆ‘ä»¬éœ€è¦å°†å…¶æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡ã€‚\n1. åˆ›å»º Service æ–‡ä»¶æ–°å»ºæ–‡ä»¶ï¼švi /etc/systemd/system/trojan-go.service\n[Unit]Description=Trojan-Go - An unidentifiable mechanism that helps you bypass GFWDocumentation=https://p4gefau1t.github.io/trojan-goAfter=network.target nss-lookup.target[Service]User=root# å¯åŠ¨å‘½ä»¤ExecStart=/app/trojan-go/trojan-go -config /app/trojan-go/config.jsonRestart=on-failureRestartSec=10sLimitNOFILE=infinity[Install]WantedBy=multi-user.target\n2. å¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯# é‡è½½ç³»ç»ŸæœåŠ¡é…ç½®systemctl daemon-reload# å¯åŠ¨æœåŠ¡systemctl start trojan-go# è®¾ç½®å¼€æœºè‡ªå¯systemctl enable trojan-go# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€systemctl status trojan-go\nå¦‚æœçŠ¶æ€æ˜¾ç¤º Active: active (running)ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸã€‚\n\nå››ã€å®¢æˆ·ç«¯è¿æ¥é…ç½®å®¢æˆ·ç«¯ï¼ˆv2rayN, Clash ç­‰ï¼‰æ—¶ï¼Œå¡«å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š\n\nç±»å‹ (Type): Trojan\nåœ°å€ (Address): gfw.131495.xyz (ä½ çš„åŸŸå)\nç«¯å£ (Port): 2443 (é…ç½®ä¸­çš„ local_port)\nå¯†ç  (Password): ä½ ç”Ÿæˆçš„å¯†ç \nä¼ è¾“å±‚åè®®: tcp\nä¼ è¾“å±‚å®‰å…¨: tls\n\né˜²ç«å¢™æé†’ï¼šåˆ«å¿˜äº†åœ¨äº‘æœåŠ¡å™¨çš„å®‰å…¨ç»„æˆ– UFW ä¸­æ”¾è¡Œ 2443 ç«¯å£ï¼ufw allow 2443/tcp\n","categories":["åˆ›æ„å·¥åŠ","ç½‘ç»œä»£ç†"],"tags":["Trojan-Go","SSL/TLS"]},{"title":"æç®€ä¸»ä¹‰ç»Ÿè®¡ï¼šUmami ç§æœ‰åŒ–éƒ¨ç½²ä¸ Hexo åšå®¢é›†æˆæŒ‡å—","url":"/posts/fdad30aa.html","content":"Umami æ˜¯ä¸€ä¸ªç®€å•ã€æ˜“ç”¨ä¸”æ³¨é‡éšç§çš„å¼€æºç½‘ç«™åˆ†ææ›¿ä»£æ–¹æ¡ˆã€‚ç›¸æ¯” Google Analyticsï¼Œå®ƒæ›´è½»é‡ï¼Œä¸”å®Œå…¨ç”±ä½ è‡ªå·±æŒæ¡æ•°æ®ã€‚\næœ¬æ–‡å°†å¸¦ä½ é€šè¿‡ Docker Compose å®Œæˆå…¨æµç¨‹éƒ¨ç½²ã€‚\nä¸€ã€ç¯å¢ƒå‡†å¤‡åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„æœåŠ¡å™¨å·²å°±ç»ªï¼š\n\næœåŠ¡å™¨ç¯å¢ƒï¼šå·²å®‰è£… Docker å’Œ Docker Composeã€‚\nå‚è€ƒï¼šUbuntu ç³»ç»Ÿ Docker å®‰è£…å…¨æŒ‡å—ï¼šå®˜æ–¹æºä¸å›½å†…é•œåƒåŠ é€Ÿ\n\n\nåŸŸåä¸è¯ä¹¦ï¼šæ‹¥æœ‰ä¸€ä¸ªåŸŸåå¹¶å®Œæˆäº† SSL è¯ä¹¦ç”³è¯·ã€‚\nå‚è€ƒï¼šä»é›¶å¼€å§‹ï¼šåŸŸåè´­ä¹°ã€Cloudflare æ‰˜ç®¡ä¸ Nginx è‡ªåŠ¨åŒ– HTTPS é…ç½®å…¨æŒ‡å—\n\n\n\n\näºŒã€Docker æœåŠ¡éƒ¨ç½²1. åˆ›å»ºå·¥ä½œç›®å½•ç™»å½•æœåŠ¡å™¨ï¼Œå»ºç«‹ Umami çš„æ•°æ®å­˜å‚¨ç›®å½•ï¼š\nmkdir -p /app/umamicd /app/umami\n2. ç¼–å†™é…ç½® (docker-compose.yml)åˆ›å»ºå¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š\nvim docker-compose.yml\nå†™å…¥ä»¥ä¸‹å†…å®¹ã€‚è¯·æ³¨æ„ï¼š\n\nAPP_SECRETï¼šè¿™æ˜¯åŠ å¯†ç›å€¼ï¼ŒåŠ¡å¿…ä¿®æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²ï¼ˆå¯åœ¨ç»ˆç«¯è¿è¡Œ openssl rand -hex 32 ç”Ÿæˆï¼‰ã€‚\nç«¯å£æ˜ å°„ï¼šå°†å®¿ä¸»æœºçš„ 20001 æ˜ å°„åˆ°å®¹å™¨çš„ 3000ã€‚\n\ndocker-compose.ymlservices:  umami:    image: ghcr.io/umami-software/umami:latest    ports:      - &quot;20002:3000&quot;    environment:      DATABASE_URL: postgresql://umami:umami@db:5432/umami      APP_SECRET: replace-me-with-a-random-string  # &lt;--- åŠ¡å¿…ä¿®æ”¹è¿™é‡Œ    depends_on:      db:        condition: service_healthy    init: true    restart: always    healthcheck:      test: [&quot;CMD-SHELL&quot;, &quot;curl http://localhost:3000/api/heartbeat&quot;]      interval: 5s      timeout: 5s      retries: 5  db:    image: postgres:15-alpine    environment:      POSTGRES_DB: umami      POSTGRES_USER: umami      POSTGRES_PASSWORD: umami    volumes:      - ./umami-db-data:/var/lib/postgresql/data # æ•°æ®æŒä¹…åŒ–æŒ‚è½½    restart: always    healthcheck:      test: [&quot;CMD-SHELL&quot;, &quot;pg_isready -U $$&#123;POSTGRES_USER&#125; -d $$&#123;POSTGRES_DB&#125;&quot;]      interval: 5s      timeout: 5s      retries: 5\n3. å¯åŠ¨æœåŠ¡docker compose up -d\næ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡ http://æœåŠ¡å™¨IP:20002 è®¿é—®åå°ã€‚ä½†ä¸ºäº†å®‰å…¨ï¼Œæˆ‘ä»¬æ¥ä¸‹é…ç½® Nginx åå‘ä»£ç†ã€‚\n\nä¸‰ã€Nginx åå‘ä»£ç†ä¸ HTTPSä¸ºäº†é€šè¿‡åŸŸåå®‰å…¨è®¿é—®ï¼Œæˆ‘ä»¬éœ€è¦é…ç½® Nginx åå‘ä»£ç†ã€‚\n1. ç¼–å†™ Nginx é…ç½®åˆ›å»ºé…ç½®æ–‡ä»¶ vi /etc/nginx/sites-available/umami.131495.xyzï¼š\nserver &#123;    listen 80;    listen [::]:80;    server_name umami.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;    listen [::]:443 ssl;        # TODO: ä¿®æ”¹ä¸ºå¯¹åº”çš„å­åŸŸå    server_name umami.131495.xyz;        # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;        # TODO: ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/umami.access.log proxy_json;    error_log /var/log/nginx/umami.error.log;    # åå‘ä»£ç†è®¾ç½®    location / &#123;        # TODO: ä¿®æ”¹ä¸ºå®é™…çš„æœåŠ¡åœ°å€        proxy_pass http://127.0.0.1:20002;                # ä»£ç†å‚æ•°        proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\n2. å¯ç”¨å¹¶é‡è½½# åˆ›å»ºè½¯é“¾æ¥ln -s /etc/nginx/sites-available/umami.131495.xyz /etc/nginx/sites-enabled/# æµ‹è¯•å¹¶é‡å¯nginx -t &amp;&amp; systemctl reload nginx\n3. åŸŸåDNSè®°å½•ç»™åŸŸåæ·»åŠ å¯¹åº”çš„ A è®°å½•ï¼Œå°† umami.131495.xyz è§£æåˆ°æœåŠ¡å™¨çš„ IP åœ°å€ã€‚\nç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡ https://umami.131495.xyz è®¿é—®äº†ã€‚\n\nå››ã€åˆå§‹åŒ–é…ç½®1. ä¿®æ”¹é»˜è®¤å¯†ç è®¿é—® https://umami.131495.xyzã€‚\n\né»˜è®¤è´¦å·ï¼šadmin\né»˜è®¤å¯†ç ï¼šumami\n\né‡è¦ï¼šç™»å½•åï¼Œç«‹å³ç‚¹å‡»å·¦ä¸Šè§’å¤´åƒ -> Settings -> Profile -> Change password ä¿®æ”¹å¯†ç ã€‚\n2. æ·»åŠ ç½‘ç«™åœ¨ Websites é¡µé¢ç‚¹å‡» Add websiteï¼Œå¡«å…¥ä½ çš„ ç½‘ç«™åç§° å’Œ ç½‘ç«™ç½‘å€ã€‚\nä¿å­˜åï¼Œç‚¹å‡»åˆ—è¡¨ä¸­çš„ Edit æŒ‰é’®ï¼Œè·å– Website IDï¼ˆä¸€ä¸² UUIDï¼‰ã€‚\n\näº”ã€é›†æˆåˆ° Hexo (Butterfly ä¸»é¢˜)Butterfly ä¸»é¢˜åŸç”Ÿæ”¯æŒ Umami ç»Ÿè®¡ï¼Œé…ç½®éå¸¸ç®€å•ã€‚\n1. ä¿®æ”¹ä¸»é¢˜é…ç½®ç¼–è¾‘ _config.butterfly.ymlï¼š\n_config.butterfly.yml# å…³é—­ä¸è’œå­ (å¯é€‰ï¼Œé¿å…åŠŸèƒ½é‡å¤)busuanzi:  site_uv: false  site_pv: false  page_pv: false# å¯ç”¨ Umamiumami_analytics:  enable: true  serverURL: https://umami.131495.xyz  # ä½ çš„ Umami åŸŸå  website_id: xxxxx-xxxx-xxxx-xxxx-xxxxxxx # åˆšåˆšè·å–çš„ UUID  script_name: script.js  option:  # å¼€å¯ PV/UV å±•ç¤º (éœ€è¦ Token)  UV_PV:    site_uv: true    site_pv: true    page_pv: true    token: å¡«å†™è®¿é—®ä»¤ç‰Œ # ä¸‹æ–‡è¯´æ˜å¦‚ä½•è·å–\n2. è·å– Access Token (ç¡¬æ ¸æ–¹æ³•)Butterfly ä¸»é¢˜é€šè¿‡è°ƒç”¨ Umami API æ¥å±•ç¤ºé¡µé¢è®¿é—®é‡ï¼Œè¿™éœ€è¦é€šè¿‡ Token è¿›è¡Œé‰´æƒã€‚\nç›®å‰æœ€å¿«æ·çš„è·å–æ–¹æ³•ï¼ˆé’ˆå¯¹è‡ªæ‰˜ç®¡ç‰ˆï¼‰ï¼š\n\nç”¨ Chrome æµè§ˆå™¨ç™»å½•ä½ çš„ Umami åå°ã€‚\næŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ° Network (ç½‘ç»œ) æ ‡ç­¾ã€‚\nåˆ·æ–°é¡µé¢ï¼Œéšä¾¿ç‚¹å‡»ä¸€ä¸ª API è¯·æ±‚ï¼ˆå¦‚ stats æˆ– websitesï¼‰ã€‚\nåœ¨ Request Headers (è¯·æ±‚å¤´) ä¸­æ‰¾åˆ° Authorization å­—æ®µã€‚\nå¤åˆ¶ Bearer åé¢çš„ä¸€é•¿ä¸²å­—ç¬¦ï¼Œè¿™å°±æ˜¯ä½ çš„ Tokenã€‚\n\næˆ–è€…é€šè¿‡è°ƒç”¨ç™»å½• API è·å–ï¼šå‚è€ƒ å®˜æ–¹æ–‡æ¡£ã€‚\n3. éƒ¨ç½²åšå®¢é‡æ–°éƒ¨ç½²åšå®¢åï¼Œæ­¤æ—¶çš„è®¿é—®é‡æ•°æ®å°†ç”± Umami æ¥ç®¡ã€‚\n","categories":["åˆ›æ„å·¥åŠ","æœåŠ¡æ­å»º"],"tags":["Docker","Nginx","Hexo","Umami"]},{"title":"Hexo åšå®¢è¿›é˜¶ï¼šButterfly ä¸»é¢˜æ·±åº¦ç¾åŒ–ä¸æºç çº§é­”æ”¹","url":"/posts/2a3bd2c2.html","content":"æœ¬æ–‡ä¸ä»…åŒ…å« Butterfly ä¸»é¢˜çš„åŸºç¡€é…ç½®ä¸æ’ä»¶å®‰è£…ï¼Œæ›´è®°å½•äº† å¯¼èˆªæ å½©è‰²å›¾æ ‡ ã€ ç”Ÿè‚–æ—¶é—´è½´ ç­‰æ·±åº¦çš„æºç çº§é­”æ”¹æ–¹æ¡ˆã€‚\n\nButterfly æ˜¯ Hexo ç”Ÿæ€ä¸­å¹¿å—æ¬¢è¿çš„é«˜é¢œå€¼ä¸»é¢˜ï¼Œä»¥å…¶å¼ºå¤§çš„åŠŸèƒ½å’Œæé«˜çš„å¯å®šåˆ¶æ€§è‘—ç§°ã€‚æœ¬æ–‡å°†ç³»ç»Ÿè®°å½•æˆ‘å¦‚ä½•å°† Butterfly ä¸»é¢˜åº”ç”¨åˆ°æè‡´ï¼Œæ‰“é€ ä¸€ä¸ªé›†ç¾è§‚ä¸äº¤äº’äºä¸€ä½“çš„ä¸ªäººåšå®¢ã€‚\n\nç›¸å…³èµ„æº\n\nå®˜æ–¹æ–‡æ¡£ï¼šButterfly æ–‡æ¡£\nä¸»é¢˜ä»“åº“ï¼šhexo-theme-butterfly\n\n\n1. ä¸»é¢˜å®‰è£…ä¸ç¯å¢ƒå‡†å¤‡1.1 è·å–ä¸»é¢˜åœ¨åšå®¢é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ‹‰å–ä¸»é¢˜ï¼ˆæ¨èä½¿ç”¨ç¨³å®šåˆ†æ”¯ï¼‰ï¼š\ngit clone -b dev git@github.com:jerryc127/hexo-theme-butterfly.git themes/butterfly\né‡è¦æç¤ºï¼šä¸‹è½½å®Œæˆåï¼Œè¯·åŠ¡å¿…åˆ é™¤ /themes/butterfly/.git/ æ–‡ä»¶å¤¹ã€‚å¦åˆ™ä¸»é¢˜ç›®å½•ä¼šè¢«è¯†åˆ«ä¸º Git å­æ¨¡å—ï¼ˆSubmoduleï¼‰ï¼Œå¯¼è‡´ä¸»é¡¹ç›®çš„ Git ä»“åº“æ— æ³•è¿½è¸ªä¸»é¢˜æ–‡ä»¶çš„å˜æ›´ï¼Œéƒ¨ç½²æ—¶ä¼šæŠ¥é”™ã€‚\n\nå®‰è£…å¿…è¦çš„æ¸²æŸ“æ’ä»¶ï¼š\nnpm install hexo-renderer-pug hexo-renderer-stylus --save\n1.2 é…ç½®æŠ½ç¦»ç­–ç•¥ (æœ€ä½³å®è·µ)ä¸ºäº†é˜²æ­¢åç»­é…ç½®æ··ä¹±ï¼Œå»ºè®®å°†ä¸»é¢˜é…ç½®ä¸ç«™ç‚¹é…ç½®åˆ†ç¦»ï¼š\n\nå°† /themes/butterfly/_config.yml å¤åˆ¶åˆ°åšå®¢æ ¹ç›®å½•ï¼Œé‡å‘½åä¸º _config.butterfly.ymlã€‚\nä»¥åæ‰€æœ‰é’ˆå¯¹ä¸»é¢˜çš„é…ç½®ï¼Œå‡åœ¨æ­¤æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚\nä¿®æ”¹æ ¹ç›®å½•çš„ _config.yml å¯ç”¨ä¸»é¢˜ï¼š_config.ymltheme: butterfly\n\n\nå¯åŠ¨åšå®¢ï¼Œè®¿é—® http://localhost:4000ï¼Œå³å¯çœ‹åˆ°ä¸»é¢˜æ•ˆæœã€‚\n2. é¡µé¢æ„å»ºä¸åŸºç¡€ç¾åŒ–2.1 åˆ›å»ºæ ‡å‡†é¡µé¢Butterfly ä¾èµ–ç‰¹å®šçš„ Front-matterã€‚è¯·å‚è€ƒ å®˜æ–¹æ–‡æ¡£ã€‚\nä½¿ç”¨ hexo new page &quot;é¡µé¢å&quot; åˆ›å»ºä»¥ä¸‹æ ¸å¿ƒé¡µé¢ï¼Œå¹¶ä¿®æ”¹å¯¹åº”çš„ Markdown æ–‡ä»¶ï¼š\n\næ ‡ç­¾ (tags): type: &quot;tags&quot;\nåˆ†ç±» (categories): type: &quot;categories&quot;\nå‹æƒ…é“¾æ¥ (link): type: &quot;link&quot; (éœ€é…åˆæ•°æ®æ–‡ä»¶ source/_data/link.yml)\nè¯´è¯´ (shuoshuo): type: &#39;shuoshuo&#39; (éœ€é…åˆæ•°æ®æ–‡ä»¶ source/_data/shuoshuo.yml)\n404é¡µé¢: åœ¨é…ç½®ä¸­å¼€å¯ error_404: true\n\n2.2 ä¸ªæ€§åŒ– CSS å®šåˆ¶åˆ›å»ºè‡ªå®šä¹‰ CSS æ–‡ä»¶ /source/assets/css/custom.cssï¼š\ncustom.css/* ä¸€å›¾æµé…ç½®ï¼šéšè— banner å’Œ footer çš„èƒŒæ™¯å›¾ï¼Œä½¿èƒŒæ™¯åŠ¨å›¾å…¨å±é€è§† */#page-header &#123;    background: transparent !important;&#125;#footer &#123;    background: transparent !important;&#125;/* å¯¼èˆªæ ï¼šå®šä¹‰å½©è‰²å›¾æ ‡çš„å¤§å°ä¸å¯¹é½ */svg.icon &#123;    width: 1.2em;    height: 1.2em;    vertical-align: -0.15em;    fill: currentColor;    overflow: hidden;&#125;\næœ€ååœ¨ _config.butterfly.yml å¼•å…¥æ ·å¼ï¼š\n_config.butterfly.ymlinject:  head:    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/css/custom.css&quot;&gt;\n3. åŠŸèƒ½å¢å¼ºæ’ä»¶3.1 åŸºç¡€åŠŸèƒ½ç±»\n\n\n\nåŠŸèƒ½\næ’ä»¶/å‘½ä»¤\nè¯´æ˜\n\n\n\n\nå­—æ•°ç»Ÿè®¡\nnpm install hexo-wordcount --save\næ˜¾ç¤ºæ–‡ç« å­—æ•°å’Œé˜…è¯»æ—¶é•¿\n\n\næ•°å­¦å…¬å¼\nnpm uninstall hexo-renderer-markednpm install hexo-renderer-kramed\nå¿…é¡»æ›¿æ¢é»˜è®¤æ¸²æŸ“å™¨ä»¥æ”¯æŒ MathJax\n\n\næœ¬åœ°æœç´¢\nnpm install hexo-generator-searchdb\nç”Ÿæˆ search.json ä¾›æœ¬åœ°æœç´¢è°ƒç”¨\n\n\néŸ³ä¹æ’­æ”¾å™¨\nnpm install hexo-tag-aplayer\nå…¨å±€å¸åº•éŸ³ä¹æ’­æ”¾å™¨\n\n\n\n\næ ¹ç›®å½• _config.yml é…ç½®ï¼š\n_config.yml# kramed æ¸²æŸ“å™¨é…ç½® (è§£å†³æ•°å­¦å…¬å¼å†²çª)kramed:  gfm: true  pedantic: false  sanitize: false  tables: true  breaks: true  smartLists: true  smartypants: true# æœ¬åœ°æœç´¢search:  path: search.json  field: post  content: true  format: striptags# APlayer æ’­æ”¾å™¨ (å…³é—­è‡ªåŠ¨æ³¨å…¥ï¼Œæ”¹ä¸ºæ‰‹åŠ¨æ§åˆ¶)aplayer:  meting: true  asset_inject: false\nä¸»é¢˜é…ç½® _config.butterfly.yml å¯ç”¨ï¼š\n_config.butterfly.ymlwordcount:  enable: truemath:  use: mathjaxsearch:  use: local_search# APlayer æ³¨å…¥é…ç½®aplayerInject:  enable: true  per_page: trueinject:  bottom:    # data-id: æ­Œå•ID, data-server: netease(ç½‘æ˜“äº‘)    - &lt;div class=&quot;aplayer no-destroy&quot; data-id=&quot;2761236917&quot; data-server=&quot;netease&quot; data-type=&quot;playlist&quot; data-fixed=&quot;true&quot; data-autoplay=&quot;false&quot;&gt;&lt;/div&gt;\n3.2 è§†è§‰ç‰¹æ•ˆç±»ğŸ’Œ è–‡å°”è‰ç‰¹ä¿¡å° (ç•™è¨€æ¿)æ’ä»¶ï¼šhexo-butterfly-envelope\nnpm install hexo-butterfly-envelope --save\nä¸»é¢˜é…ç½® _config.butterfly.yml å¯ç”¨ï¼š\n_config.butterfly.ymlenvelope_comment:  enable: true  custom_pic:    cover: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/envelope-violet.webp       # ä¿¡ç¬ºå¤´éƒ¨å›¾ç‰‡    line: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/envelope-line.webp          # ä¿¡ç¬ºåº•éƒ¨å›¾ç‰‡    beforeimg: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/envelope-before.webp   # ä¿¡å°å‰åŠéƒ¨åˆ†    afterimg: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/envelope-after.webp     # ä¿¡å°ååŠéƒ¨åˆ†  message: # ä¿¡ç¬ºæ­£æ–‡    - ã€Œçº¸çŸ­æƒ…é•¿ï¼Œå¢¨é¦™ç•™ç—•â€”â€”ä½ æƒ³è¯‰è¯´ä»€ä¹ˆæ•…äº‹ï¼Ÿã€    - ã€Œæ™¨éœ²ä¸æ˜Ÿè¾‰ä¹‹é—´ï¼Œæˆ‘åœ¨æ­¤å€¾å¬ä½ çš„æ¯ä¸€å£°è½»è¯­ã€‚ã€    - ã€Œå­—å¥å¦‚è¶ï¼Œæ –äºæ­¤å¤„ã€‚æ˜¯æ€è€ƒï¼Œæ˜¯å€¾è¯‰ï¼Œæˆ–åªæ˜¯ç‰‡åˆ»å¿ƒæƒ…ï¼Ÿã€    - ã€Œè¿™é‡Œç››æ”¾æœªå®Œæˆçš„è¯—ã€åŠæˆªçµæ„Ÿï¼Œå’Œæ‰€æœ‰æ¬²è¨€åˆæ­¢çš„é»„æ˜ã€‚ã€  bottom: ã€Œæ­¤å¤„æ°¸è¿œæœ‰æœˆå…‰é“ºå°±çš„çº¸ç¬ºï¼ã€    # ä»…æ”¯æŒå•è¡Œæ–‡æœ¬  height: # 1050pxï¼Œä¿¡å°åˆ’å‡ºçš„é«˜åº¦  path:   #é»˜è®¤ä¸º comments  front_matter:    title: ç•™è¨€æ¿    comments: true# å¯¼èˆªæ ï¼Œèœå•å°±å¯ä½¿ç”¨ /comments è·¯å¾„äº†menu:  ç•™è¨€æ¿: /comments/ || fas fa-envelope\nğŸ·ï¸ å¤–æŒ‚æ ‡ç­¾ Plus (Tag Plugins)æ’ä»¶ï¼šhexo-butterfly-tag-plugins-plus\nå®˜æ–¹æ•ˆæœé¢„è§ˆï¼šTag Plugins Plus | Akilarã®ç³–æœå±‹\næ­¤æ’ä»¶æå¤§åœ°å¢å¼ºäº† Markdown çš„è¡¨ç°åŠ›ï¼Œæ”¯æŒ Tipã€Timelineã€Icon ç­‰æ ‡ç­¾ã€‚éœ€åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ FontAwesome å’Œé˜¿é‡Œ Iconfont ä¾èµ–ï¼š\næ³¨å†Œç™»é™† IconFont åï¼ŒæŒ‘é€‰ç›¸åº”ç´ æï¼Œä¸‹è½½ Symbol å›¾æ ‡ä»£ç ï¼Œæ‹·è´åˆ° /source/assets/js/ali/iconfont.js ä¸­ã€‚\n\nnpm install hexo-butterfly-tag-plugins-plus --save\n_config.butterfly.ymltag_plugins:  enable: true  priority: 5  link:  # link_card æ ‡ç­¾é»˜è®¤çš„å›¾æ ‡å›¾ç‰‡    placeholder: https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/link-card.webp  CDN:    # åŠ¨ç”»æ ‡ç­¾ anima çš„ä¾èµ–    anima: https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css    tag_plugins_css: https://cdn.cbd.int/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css    # icon æ ‡ç­¾æ”¯æŒçš„å›¾æ ‡åº“ä¾èµ–ï¼š    iconfont: /assets/js/ali/iconfont.jsinject:  head:    # tag-plugins çš„ tip æ ‡ç­¾çš„è‡ªå®šä¹‰å›¾æ ‡æ‰€éœ€ä¾èµ–    - &lt;link rel=&quot;stylesheet&quot; href=&quot;https://npm.elemecdn.com/@fortawesome/fontawesome-free@latest/css/all.min.css&quot;&quot;&gt;\n4. æºç çº§é­”æ”¹é«˜é£é™©æ“ä½œæç¤ºï¼šä»¥ä¸‹ä¿®æ”¹æ¶‰åŠç›´æ¥ç¼–è¾‘ /themes/butterfly ä¸‹çš„æºç æ–‡ä»¶ï¼ˆPug æ¨¡æ¿å’Œ JS è„šæœ¬ï¼‰ã€‚è¿™ä¼šå¯¼è‡´ä¸»é¢˜åç»­æ— æ³•ç›´æ¥å‡çº§ï¼ˆè¦†ç›–å®‰è£…ä¼šä¸¢å¤±ä¿®æ”¹ï¼‰ã€‚å»ºè®®ï¼š\n\nä¿®æ”¹å‰å¤‡ä»½ç›¸å…³æ–‡ä»¶ã€‚\næˆ–è€…ç†Ÿç»ƒæŒæ¡ Git åˆ†æ”¯åˆå¹¶ï¼Œä»¥ä¾¿åœ¨å‡çº§ä¸»é¢˜æ—¶ä¿ç•™ä¿®æ”¹ã€‚\n\n\n4.1 å½’æ¡£é¡µï¼šåäºŒç”Ÿè‚–æ—¶é—´è½´æ•ˆæœï¼šåœ¨å½’æ¡£é¡µé¢çš„å¹´ä»½æ—ï¼ˆå¦‚ 2025ï¼‰ï¼Œè‡ªåŠ¨è®¡ç®—å¹¶æ˜¾ç¤ºå¯¹åº”çš„ç”Ÿè‚–å›¾æ ‡ï¼ˆå¦‚ ğŸï¼‰ã€‚\nç¬¬ä¸€æ­¥ï¼šç¼–å†™ Helper è„šæœ¬æ–°å»ºæ–‡ä»¶ /scripts/helper-timeline-year.js (Hexo ä¼šè‡ªåŠ¨åŠ è½½ scripts ç›®å½•ä¸‹çš„è„šæœ¬)ï¼š\nhelper-timeline-year.js// æ³¨å†Œ helper å‡½æ•°ï¼šè¾“å…¥å¹´ä»½ï¼Œè¿”å› [ç”Ÿè‚–æ–‡å­—, å›¾æ ‡Class]hexo.extend.helper.register(&quot;getShengxiaoIcon&quot;, function (year) &#123;    let symbol = cal_shengxiao(year);    let icon = iconMap[symbol];    return [symbol, icon];&#125;);const sxTable = [&#x27;é¼ &#x27;, &#x27;ç‰›&#x27;, &#x27;è™&#x27;, &#x27;å…”&#x27;, &#x27;é¾™&#x27;, &#x27;è›‡&#x27;, &#x27;é©¬&#x27;, &#x27;ç¾Š&#x27;, &#x27;çŒ´&#x27;, &#x27;é¸¡&#x27;, &#x27;ç‹—&#x27;, &#x27;çŒª&#x27;];function cal_shengxiao(year) &#123;    let index = (parseInt(year) - 4) % 12;    return sxTable[index];&#125;// æ˜ å°„è¡¨ï¼šå¯¹åº”é˜¿é‡Œ Iconfont çš„å›¾æ ‡ Classconst iconMap = &#123;    &#x27;é¼ &#x27;: &#x27;icon-rat&#x27;, &#x27;ç‰›&#x27;: &#x27;icon-ox&#x27;, &#x27;è™&#x27;: &#x27;icon-tiger&#x27;, &#x27;å…”&#x27;: &#x27;icon-rabbit&#x27;,    &#x27;é¾™&#x27;: &#x27;icon-dragon&#x27;, &#x27;è›‡&#x27;: &#x27;icon-snake&#x27;, &#x27;é©¬&#x27;: &#x27;icon-horse&#x27;, &#x27;ç¾Š&#x27;: &#x27;icon-goat&#x27;,    &#x27;çŒ´&#x27;: &#x27;icon-monkey&#x27;, &#x27;é¸¡&#x27;: &#x27;icon-rooster&#x27;, &#x27;ç‹—&#x27;: &#x27;icon-dog&#x27;, &#x27;çŒª&#x27;: &#x27;icon-boar&#x27;&#125;\nç¬¬äºŒæ­¥ï¼šä¿®æ”¹ Pug æ¨¡æ¿ç¼–è¾‘ä¸»é¢˜æ–‡ä»¶ /themes/butterfly/layout/includes/mixins/article-sort.pugï¼š\narticle-sort.pug//- ä¿®æ”¹å¹´ä»½æ˜¾ç¤ºéƒ¨åˆ†ï¼Œå¢åŠ  SVG å›¾æ ‡è°ƒç”¨if tempYear !== year  - year = tempYear  .article-sort-item.year    span= year    svg.icon(aria-hidden=&#x27;true&#x27;)      //- è°ƒç”¨åˆšæ‰æ³¨å†Œçš„ Helper å‡½æ•°      use(xlink:href=&#x27;#&#x27; + getShengxiaoIcon(tempYear)[1])\n4.2 å¯¼èˆªæ ï¼šæ”¯æŒ Iconfont å½©è‰²å›¾æ ‡Butterfly é»˜è®¤ä»…æ”¯æŒ FontAwesomeï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹èœå•æ¸²æŸ“é€»è¾‘ï¼Œä½¿å…¶å…¼å®¹é˜¿é‡Œ Iconfontï¼ˆSVG Symbol æ¨¡å¼ï¼‰ã€‚\nä¿®æ”¹æ–‡ä»¶ï¼š/themes/butterfly/layout/includes/header/menu_item.pug\nmenu_item.pugif theme.menu  .menus_items    // é»˜è®¤å›¾æ ‡åŠ¨ç”»æ•ˆæœ    - const default_animation = &#x27;faa-tada&#x27;    each value, label in theme.menu      if typeof value !== &#x27;object&#x27;        .menus_item          // å¢åŠ å¯é…ç½®å‚æ•°åŠ¨ç”»æ•ˆæœï¼Œåˆå¹¶æœ€ç»ˆæ•ˆæœ          - const [link, icon, animation] = value.split(&#x27;||&#x27;).map(part =&gt; trim(part))          - const final_animation = animation || default_animation          // ç»™ a æ·»åŠ çˆ¶å…ƒç´ åŠ¨ç”»æ•ˆæœ .faa-parent.animated-hover          a.site-page.faa-parent.animated-hover(href=url_for(link))            //- é­”æ”¹é€»è¾‘ï¼šæ£€æµ‹å›¾æ ‡æ˜¯å¦ä»¥ &#x27;icon&#x27; å¼€å¤´            if icon.substring(0,2)===&#x27;fa&#x27;              i.fa-fw(class=icon + &#x27; &#x27; + final_animation)            else if icon.substring(0, 4) === &#x27;icon&#x27;              //- å¦‚æœæ˜¯ icon å¼€å¤´ï¼Œæ¸²æŸ“ SVG              svg.icon(aria-hidden=&quot;true&quot; class=final_animation)                use(xlink:href=`#`+ icon)            span= &#x27; &#x27; + label      else        //- (çœç•¥ submenu éƒ¨åˆ†ï¼Œé€»è¾‘åŒä¸Šï¼Œéœ€åŒæ ·ä¿®æ”¹ groupIcon å’Œ childIcon çš„æ¸²æŸ“é€»è¾‘)        // ... è¯·ç¡®ä¿å¯¹å­èœå•ä¹Ÿåº”ç”¨ç›¸åŒçš„ SVG åˆ¤æ–­é€»è¾‘ ...\né…ç½®åº”ç”¨åœ¨ _config.butterfly.yaml ä¸­é…ç½®èœå•ï¼ˆæ³¨æ„å›¾æ ‡åç§°éœ€ä¸ Iconfont é¡¹ç›®ä¸­çš„ symbol åç§°ä¸€è‡´ï¼‰ï¼š\n_config.butterfly.yamlmenu:  é¦–é¡µ: / || icon-home  æ–‡ç«  || icon-article:    æ—¶é—´è½´: /archives/ || icon-timeline    æ ‡ç­¾: /tags/ || icon-tag  æ”¶è— || icon-favorite:    æ¨è: /link/ || icon-recommend  ç•™è¨€æ¿: /comments/ || icon-email\n\né€šè¿‡ä»¥ä¸Šçš„ä¸€ç³»åˆ—é…ç½®ä¸é­”æ”¹ï¼Œæˆ‘ä»¬æˆåŠŸå°† Hexo åšå®¢æ‰“é€ æˆäº†ä¸€ä¸ªé›†ç¾è§‚ã€äº¤äº’ä¸æŠ€æœ¯å±•ç¤ºäºä¸€ä½“çš„ä¸ªæ€§åŒ–ç«™ç‚¹ã€‚å¸Œæœ›è¿™äº›è®°å½•èƒ½ä¸ºä½ çš„åšå®¢æŠ˜è…¾ä¹‹è·¯æä¾›çµæ„Ÿï¼\n","categories":["åˆ›æ„å·¥åŠ","å»ºç«™æ—¥å¿—"],"tags":["Hexo","Butterfly"]},{"title":"V2Ray éƒ¨ç½²å®æˆ˜ï¼šä» VMess è£¸å¥”åˆ° Nginx+WebSocket+TLS å®Œç¾ä¼ªè£…","url":"/posts/630f476f.html","content":"VMess æ˜¯ V2Ray åŸåˆ›çš„åŠ å¯†ä¼ è¾“åè®®ã€‚è™½ç„¶ç°åœ¨æœ‰äº†æ›´å…ˆè¿›çš„ VLESSï¼Œä½† VMess å‡­å€Ÿå…¶æˆç†Ÿçš„ç”Ÿæ€ï¼Œä¾ç„¶æ˜¯ç›®å‰æœ€å¹¿æ³›ä½¿ç”¨çš„åè®®ä¹‹ä¸€ã€‚\næœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥æ­å»ºæœ€ç¨³å¥çš„ VMess + WebSocket + TLS + Nginx æ¶æ„ã€‚\nä¸€é”®å®‰è£… (V2Fly å®˜æ–¹è„šæœ¬)ä½¿ç”¨å®˜æ–¹æä¾›çš„ FHS è§„èŒƒè„šæœ¬è¿›è¡Œå®‰è£…ï¼Œæ–‡ä»¶è·¯å¾„æ ‡å‡†ï¼Œä¾¿äºç®¡ç†ã€‚\n# 1. å®‰è£…/æ›´æ–° V2Raybash &lt;(curl -L https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh)# 2. è®¾ç½®å¼€æœºè‡ªå¯ï¼Œå¹¶å¯åŠ¨æœåŠ¡systemctl enable v2raysystemctl start v2ray# 3. ç”Ÿæˆä¸€ä¸ªç”¨æˆ· UUID (å¤åˆ¶å¤‡ç”¨)uuidgen\nå¸¸ç”¨å‘½ä»¤å¤‡å¿˜ï¼š\n\nä»…æ›´æ–° .dat è·¯ç”±åº“ï¼šbash &lt;(curl -L .../install-dat-release.sh)\nå¸è½½ï¼šbash &lt;(curl -L .../install-release.sh) --remove\n\n\nç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€éƒ¨ç½² (TCPç›´è¿)æ­¤æ¨¡å¼ä»…ç”¨äºæµ‹è¯•è¿é€šæ€§ï¼Œææ˜“è¢«å¢™ï¼Œä¸¥ç¦é•¿æœŸä½¿ç”¨ã€‚\n1. ä¿®æ”¹ V2Ray é…ç½®ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼švi /usr/local/etc/v2ray/config.json\nconfig.json&#123;  &quot;inbounds&quot;: [    &#123;      &quot;port&quot;: 2443,      &quot;protocol&quot;: &quot;vmess&quot;,      &quot;settings&quot;: &#123;        &quot;clients&quot;: [          &#123; &quot;id&quot;: &quot;ä½ çš„UUID&quot;, &quot;alterId&quot;: 0 &#125;        ]      &#125;    &#125;  ],  &quot;outbounds&quot;: [ &#123; &quot;protocol&quot;: &quot;freedom&quot;, &quot;settings&quot;: &#123;&#125; &#125; ]&#125;\nå…³äº alterIdï¼šæ–°ç‰ˆ V2Ray é»˜è®¤å¯ç”¨äº† AEAD aead éªŒè¯æœºåˆ¶ï¼ŒalterId åªéœ€è®¾ç½®ä¸º 0 å³å¯ã€‚è¿™å¤§å¤§é™ä½äº†æœåŠ¡å™¨è´Ÿè½½å¹¶æé«˜äº†å®‰å…¨æ€§ã€‚\n\nå¯åŠ¨æœåŠ¡ï¼šsystemctl restart v2ray\n2. å®¢æˆ·ç«¯é…ç½®åœ¨ v2rayN / Shadowrocket / Clash ç­‰å®¢æˆ·ç«¯ä¸­å¡«å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š\n\nåœ°å€ (Address): ä½ çš„åŸŸåæˆ–è€… IP åœ°å€\nç«¯å£ (Port): port\nç”¨æˆ· ID (UUID): ä½ çš„UUID\né¢å¤– ID (AlterId): 0\nåŠ å¯†æ–¹å¼ (Security): auto\nä¼ è¾“åè®® (Network): tcp\n\n\nç¬¬äºŒé˜¶æ®µï¼šè¿›é˜¶ä¼ªè£… (VMess + WS + TLS)ä¸ºäº†æŠµæŠ—æµé‡è¯†åˆ«ï¼Œæˆ‘ä»¬å¼•å…¥ WebSocket (WS) æ¥æ¨¡æ‹Ÿç½‘é¡µæµè§ˆæµé‡ï¼Œå¹¶å¥—ä¸Š TLS åŠ å¯†ã€‚\n1. å‡†å¤‡è¯ä¹¦è¯·ç¡®ä¿ä½ å·²ç»ç”³è¯·äº†è¯ä¹¦ï¼ˆå‚è€ƒ ä»é›¶å¼€å§‹ï¼šåŸŸåè´­ä¹°ã€Cloudflare æ‰˜ç®¡ä¸ Nginx è‡ªåŠ¨åŒ– HTTPS é…ç½®å…¨æŒ‡å—ï¼‰ã€‚å‡è®¾è¯ä¹¦è·¯å¾„ä¸ºï¼š/cert/acme_131495.xyz/cert.pem å’Œ /cert/acme_131495.xyz/key.pemã€‚\n2. ä¿®æ”¹ V2Ray é…ç½®ä¿®æ”¹ config.jsonï¼Œåœ¨ inbounds ä¸­å¢åŠ  streamSettingsï¼š\n&#123;  &quot;inbounds&quot;: [    &#123;      &quot;port&quot;: 2443,      &quot;protocol&quot;: &quot;vmess&quot;,      &quot;settings&quot;: &#123;        &quot;clients&quot;: [          &#123; &quot;id&quot;: &quot;ä½ çš„UUID&quot;, &quot;alterId&quot;: 0 &#125;        ]      &#125;,      &quot;streamSettings&quot;: &#123;        &quot;network&quot;: &quot;ws&quot;,        &quot;security&quot;: &quot;tls&quot;,        &quot;tlsSettings&quot;: &#123;          &quot;certificates&quot;: [            &#123;              &quot;certificateFile&quot;: &quot;/cert/acme_131495.xyz/cert.pem&quot;,              &quot;keyFile&quot;: &quot;/cert/acme_131495.xyz/key.pem&quot;            &#125;          ]        &#125;      &#125;    &#125;  ],  &quot;outbounds&quot;: [ &#123; &quot;protocol&quot;: &quot;freedom&quot;, &quot;settings&quot;: &#123;&#125; &#125; ]&#125;\næƒé™é™·é˜± (Permission Denied)ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒV2Ray ä»¥ nobody ç”¨æˆ·è¿è¡Œï¼Œæ— æ³•è¯»å– /root/ æˆ– /cert/ ç›®å½•ä¸‹çš„è¯ä¹¦æ–‡ä»¶ã€‚\nè§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹æœåŠ¡è¿è¡Œç”¨æˆ·ä¸º rootã€‚æ‰§è¡Œ systemctl edit v2rayï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š\n[Service]User=rootGroup=root\nCtrl + Oï¼ŒEnterï¼ŒCtrl + X ä¿å­˜é€€å‡ºåï¼Œæ‰§è¡Œ systemctl restart v2rayã€‚\n\n3. å®¢æˆ·ç«¯é…ç½®åœ¨ v2rayN / Shadowrocket / Clash ç­‰å®¢æˆ·ç«¯ä¸­å¡«å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š\n\nåœ°å€ (Address): ä½ çš„åŸŸåæˆ–è€… IP åœ°å€\nç«¯å£ (Port): port\nç”¨æˆ· ID (UUID): ä½ çš„UUID\né¢å¤– ID (AlterId): 0\nåŠ å¯†æ–¹å¼ (Security): zeroï¼ˆæ³¨æ„ï¼šå¯ç”¨äº† tls åŠ å¯†ï¼Œæ— éœ€å†åŠ å¯†ï¼‰\nä¼ è¾“åè®® (Network): wsï¼ˆæ³¨æ„ï¼Œæ”¹ä¸ºäº† wsï¼‰\nä¼ è¾“å±‚å®‰å…¨ (TLS): tls (å¼€å¯)\nSNI: å¦‚æœ åœ°å€ å¡«å†™çš„æ˜¯åŸŸåï¼Œåˆ™æ­¤å¤„ä¸ç”¨å¡«å†™\n\n\nç¬¬ä¸‰é˜¶æ®µï¼šç»ˆææ–¹æ¡ˆ (Nginx åä»£)è¿™æ˜¯ç”Ÿäº§ç¯å¢ƒçš„æœ€ä½³å®è·µã€‚\n\nåˆ†æµï¼šNginx å¤„ç† 443 ç«¯å£æµé‡ï¼Œæ­£å¸¸çš„è®¿é—®è¿”å›ä¼ªè£…ç½‘é¡µï¼Œ/vmess è·¯å¾„çš„æµé‡è½¬å‘ç»™ V2Rayã€‚\nè§£è€¦ï¼šTLS åŠ å¯†è§£å¯†äº¤ç»™ä¸“ä¸šçš„ Nginxï¼ŒV2Ray åªè´Ÿè´£å¤„ç†æ˜æ–‡ WS æµé‡ã€‚\n\n1. ä¿®æ”¹ V2Ray é…ç½®æ³¨æ„ï¼š\n\nå»æ‰ TLS é…ç½®ï¼ˆäº¤ç»™ Nginx äº†ï¼‰ã€‚\nç›‘å¬ 127.0.0.1ï¼ˆä¸æš´éœ²åœ¨å…¬ç½‘ï¼Œæ›´å®‰å…¨ï¼‰ã€‚\nå¢åŠ  path è·¯å¾„éªŒè¯ã€‚\n\n&#123;  &quot;inbounds&quot;: [    &#123;      &quot;listen&quot;: &quot;127.0.0.1&quot;,       &quot;port&quot;: 2443,      &quot;protocol&quot;: &quot;vmess&quot;,      &quot;settings&quot;: &#123;        &quot;clients&quot;: [          &#123; &quot;id&quot;: &quot;ä½ çš„UUID&quot;, &quot;alterId&quot;: 0 &#125;        ]      &#125;,      &quot;streamSettings&quot;: &#123;        &quot;network&quot;: &quot;ws&quot;,        &quot;wsSettings&quot;: &#123;          &quot;path&quot;: &quot;/ray&quot;        &#125;      &#125;    &#125;  ],  &quot;outbounds&quot;: [ &#123; &quot;protocol&quot;: &quot;freedom&quot;, &quot;settings&quot;: &#123;&#125; &#125; ]&#125;\n2. é…ç½® Nginx åå‘ä»£ç†åˆ›å»º Nginx é…ç½®æ–‡ä»¶ï¼švi /etc/nginx/sites-available/gfw.131495.xyz\n/etc/nginx/sites-available/gfw.131495.xyzserver &#123;    listen 80;    listen [::]:80;    server_name gfw.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;    listen [::]:443 ssl;        # TODO: ä¿®æ”¹ä¸ºå¯¹åº”çš„å­åŸŸå    server_name gfw.131495.xyz;    # TODO: ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/gfw.access.log proxy_json;    error_log /var/log/nginx/gfw.error.log;     # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;           # é»˜è®¤ä»£ç†ï¼ˆé˜²æ­¢æ¢æµ‹ï¼‰    location / &#123;        proxy_pass https://www.bing.com;        proxy_ssl_server_name on;        proxy_set_header Host www.bing.com;        proxy_ssl_protocols TLSv1.2 TLSv1.3;    &#125;    # åå‘ä»£ç†è®¾ç½®    location /ray &#123;        # TODO: ä¿®æ”¹ä¸ºå®é™…çš„æœåŠ¡åœ°å€        proxy_pass http://127.0.0.1:2443;                # Websocket ä»£ç†å‚æ•°        proxy_http_version 1.1;        proxy_set_header Upgrade $http_upgrade;        proxy_set_header Connection &quot;upgrade&quot;;                proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\né‡å¯ Nginx å’Œ V2Rayï¼š\n# è¿˜åŸä¹‹å‰çš„ systemctl edit ä¿®æ”¹ï¼Œæ¨èç”¨æ™®é€šç”¨æˆ·è¿è¡Œsystemctl revert v2raysystemctl restart v2raysystemctl reload nginx\n3. å®¢æˆ·ç«¯é…ç½®åœ¨ v2rayN / Shadowrocket / Clash ç­‰å®¢æˆ·ç«¯ä¸­å¡«å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š\n\nåœ°å€ (Address): ä½ çš„åŸŸåæˆ–è€… IP åœ°å€\nç«¯å£ (Port): 443ï¼ˆæ³¨æ„ï¼šæ”¹æˆäº† 443ï¼‰\nç”¨æˆ· ID (UUID): ä½ çš„UUID\né¢å¤– ID (AlterId): 0\nåŠ å¯†æ–¹å¼ (Security): zero\nä¼ è¾“åè®® (Network): ws\nä¼ªè£…è·¯å¾„ (Path): /rayï¼ˆæ³¨æ„ï¼šå¢åŠ è·¯å¾„ï¼‰\nä¼ è¾“å±‚å®‰å…¨ (TLS): tls\nSNI: å¦‚æœ åœ°å€ å¡«å†™çš„æ˜¯åŸŸåï¼Œåˆ™æ­¤å¤„ä¸ç”¨å¡«å†™\n\n\nè‡³æ­¤ï¼Œä½ çš„æµé‡çœ‹èµ·æ¥å°±åƒæ˜¯åœ¨è®¿é—®ä¸€ä¸ªæ™®é€šçš„ HTTPS ç½‘ç«™ï¼Œéšè”½æ€§æé«˜ã€‚\n","categories":["åˆ›æ„å·¥åŠ","ç½‘ç»œä»£ç†"],"tags":["Nginx","V2Ray","VMess","WebSocket"]},{"title":"Xray éƒ¨ç½²å®æˆ˜ï¼šVLESS åè®®ä» XTLS-Vision ç›´è¿åˆ° Nginx + WebSocket éšåŒ¿æ¨¡å¼","url":"/posts/64f6dbdf.html","content":"VLESS æ˜¯ Xray å†…æ ¸çš„ä¸“å±åè®®ï¼Œå®ƒæ˜¯ä¸€ç§æ— çŠ¶æ€çš„è½»é‡çº§ä¼ è¾“åè®®ã€‚ä¸ VMess ä¸åŒï¼ŒVLESS ä¸å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼ˆå› ä¸ºå®ƒä¾èµ–å¤–å±‚ TLS åŠ å¯†ï¼‰ï¼Œå› æ­¤åè®®å¤´æå…¶ç²¾ç®€ï¼Œæ€§èƒ½æ›´é«˜ã€‚\næœ¬æ–‡å°†ä»‹ç»ä¸¤ç§ä¸»æµæ¶æ„ï¼š\n\næ€§èƒ½ä¹‹é€‰ï¼šVLESS + TCP + TLS + XTLS-Visionï¼ˆç›´è¿æŠ—å°é”æœ€å¼ºï¼‰ã€‚\néšåŒ¿ä¹‹é€‰ï¼šVLESS + WS + Nginx + TLSï¼ˆæ”¯æŒ CDNï¼‰ã€‚\n\nå®‰è£… Xrayæ¨èä½¿ç”¨å®˜æ–¹è„šæœ¬å®‰è£…ï¼Œæ–¹ä¾¿ç®¡ç†å’Œæ›´æ–°ã€‚\n# 1. å®‰è£…/æ›´æ–° Xraybash -c &quot;$(curl -L https://github.com/XTLS/Xray-install/raw/main/install-release.sh)&quot; @ install# 2. ç”Ÿæˆ UUID (å¤åˆ¶å¤‡ç”¨)xray uuid\nå¸¸ç”¨å‘½ä»¤ï¼š\n\næ›´æ–° GeoIP åº“ï¼šbash -c &quot;$(curl -L .../install-release.sh)&quot; @ install-geodata\nå¸è½½ï¼šbash -c &quot;$(curl -L .../install-release.sh)&quot; @ remove\n\n\nåœºæ™¯ä¸€ï¼šXTLS-Vision ç›´è¿æ¨¡å¼ (æ¨è)è¿™æ˜¯ç›®å‰ Xray æœ€å¼ºå¤§çš„æ¨¡å¼ï¼Œåˆ©ç”¨ XTLS-Vision æµæ§æŠ€æœ¯ï¼Œåœ¨æå‡é€Ÿåº¦çš„åŒæ—¶ï¼Œèƒ½ææœ‰æ•ˆåœ°å¯¹æŠ— GFW çš„ä¸»åŠ¨æ¢æµ‹å’Œé‡æ”¾æ”»å‡»ã€‚\n1. ä¿®æ”¹é…ç½®ç¼–è¾‘ /usr/local/etc/xray/config.jsonï¼š\n&#123;    &quot;log&quot;: &#123; &quot;loglevel&quot;: &quot;warning&quot; &#125;,    &quot;inbounds&quot;: [        &#123;            &quot;port&quot;: 2443,            &quot;protocol&quot;: &quot;vless&quot;,            &quot;settings&quot;: &#123;                &quot;clients&quot;: [                    &#123;                        &quot;id&quot;: &quot;ä½ çš„UUID&quot;,                        &quot;flow&quot;: &quot;xtls-rprx-vision&quot;                    &#125;                ],                &quot;decryption&quot;: &quot;none&quot;,                &quot;fallbacks&quot;: [                    &#123;                        &quot;dest&quot;: 80                     &#125;                ]            &#125;,            &quot;streamSettings&quot;: &#123;                &quot;network&quot;: &quot;tcp&quot;,                &quot;security&quot;: &quot;tls&quot;,                &quot;tlsSettings&quot;: &#123;                    &quot;certificates&quot;: [                        &#123;                            &quot;certificateFile&quot;: &quot;/cert/acme_131495.xyz/cert.pem&quot;,                            &quot;keyFile&quot;: &quot;/cert/acme_131495.xyz/key.pem&quot;                        &#125;                    ]                &#125;            &#125;        &#125;    ],    &quot;outbounds&quot;: [ &#123; &quot;protocol&quot;: &quot;freedom&quot; &#125; ]&#125;\nå…³äº Fallback (å›è½)ï¼šé…ç½®ä¸­çš„ dest: 80 æ„å‘³ç€ï¼Œå¦‚æœæœ‰äººè®¿é—®ä½ çš„ 2443 ç«¯å£ä½†ä¸æ˜¯ VLESS åè®®ï¼ˆæ¯”å¦‚æµè§ˆå™¨ç›´æ¥è®¿é—®ï¼‰ï¼ŒXray ä¼šæŠŠæµé‡è½¬å‘åˆ°æœ¬æœºçš„ 80 ç«¯å£ã€‚å»ºè®®æœ¬æœºå®‰è£…ä¸€ä¸ª Nginx ç›‘å¬ 80 ç«¯å£å¹¶å±•ç¤ºä¸€ä¸ªé™æ€ç½‘é¡µï¼Œä»¥é˜²æ¢æµ‹ã€‚\n\n2. è§£å†³æƒé™é—®é¢˜ (å…³é”®)Xray é»˜è®¤ä½¿ç”¨ nobody ç”¨æˆ·ï¼Œæ— æ³•è¯»å–ä½äº /root/ æˆ– /cert/ ç­‰ç›®å½•ä¸‹çš„è¯ä¹¦æ–‡ä»¶ï¼Œå¯¼è‡´å¯åŠ¨å¤±è´¥ã€‚\nsystemctl edit xray\nåœ¨ç¼–è¾‘å™¨ä¸­å¡«å…¥ï¼š\n[Service]User=rootGroup=root\nCtrl + O, Enter, Ctrl + X ä¿å­˜é€€å‡ºåï¼Œé‡å¯æœåŠ¡ï¼š\nsystemctl restart xraysystemctl status xray\n\nåœºæ™¯äºŒï¼šNginx åä»£ + WebSocket æ¨¡å¼å¦‚æœä½ éœ€è¦ä½¿ç”¨ Cloudflare CDNï¼Œæˆ–è€…å¸Œæœ›å°†ä»£ç†æœåŠ¡éšè—åœ¨æ­£å¸¸çš„ Nginx ç½‘ç«™åé¢ï¼Œè¯·é€‰æ‹©æ­¤æ¨¡å¼ã€‚\n1. ä¿®æ”¹ Xray é…ç½®æ³¨æ„ï¼š\n\nç›‘å¬æœ¬åœ°ï¼šlisten æ”¹ä¸º 127.0.0.1ã€‚\nç§»é™¤æµæ§ï¼šflow å¿…é¡»ç•™ç©ºï¼ˆWS ä¸æ”¯æŒ Visionï¼‰ã€‚\nç§»é™¤ TLSï¼šTLS äº¤ç»™ Nginx å¤„ç†ï¼ŒXray å†…éƒ¨å¤„ç†æ˜æ–‡ã€‚\nWebSocket é…ç½®ï¼šnetwork æ”¹ä¸º wsï¼Œpath å¡«å†™ /rayã€‚\n\nç¼–è¾‘ /usr/local/etc/xray/config.jsonï¼š\n&#123;    &quot;log&quot;: &#123; &quot;loglevel&quot;: &quot;warning&quot; &#125;,    &quot;inbounds&quot;: [        &#123;            &quot;listen&quot;: &quot;127.0.0.1&quot;,            &quot;port&quot;: 2443,            &quot;protocol&quot;: &quot;vless&quot;,            &quot;settings&quot;: &#123;                &quot;clients&quot;: [                    &#123;                        &quot;id&quot;: &quot;ä½ çš„UUID&quot;,                        &quot;flow&quot;: &quot;&quot;                     &#125;                ],                &quot;decryption&quot;: &quot;none&quot;            &#125;,            &quot;streamSettings&quot;: &#123;                &quot;network&quot;: &quot;ws&quot;,                &quot;wsSettings&quot;: &#123;                    &quot;path&quot;: &quot;/ray&quot;                &#125;            &#125;        &#125;    ],    &quot;outbounds&quot;: [ &#123; &quot;protocol&quot;: &quot;freedom&quot; &#125; ]&#125;\né‡å¯ Xrayï¼šsystemctl restart xray\n2. é…ç½® Nginx åå‘ä»£ç†ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ vi /etc/nginx/sites-available/gfw.131495.xyzï¼š\nserver &#123;    listen 80;    listen [::]:80;    server_name gfw.131495.xyz;    return 301 https://$host$request_uri;&#125;server &#123;    listen 443 ssl;     listen [::]:443 ssl;        # TODO: ä¿®æ”¹ä¸ºå¯¹åº”çš„å­åŸŸå    server_name gfw.131495.xyz;    # TODO: ç‹¬ç«‹çš„æ—¥å¿—é…ç½®    access_log /var/log/nginx/gfw.access.log proxy_json;    error_log /var/log/nginx/gfw.error.log;    # è¯ä¹¦é…ç½®    ssl_certificate /cert/acme_131495.xyz/cert.pem;    ssl_certificate_key /cert/acme_131495.xyz/key.pem;    ssl_ciphers HIGH:!aNULL:!MD5;        # é»˜è®¤ä»£ç†ï¼ˆé˜²æ­¢æ¢æµ‹ï¼‰    location / &#123;        proxy_pass https://www.bing.com;        proxy_ssl_server_name on;        proxy_set_header Host www.bing.com;        proxy_ssl_protocols TLSv1.2 TLSv1.3;    &#125;           location /ray &#123;        # TODO: ä¿®æ”¹ä¸ºå®é™…çš„æœåŠ¡åœ°å€        proxy_pass http://127.0.0.1:2443;        # Websocket ä»£ç†å‚æ•°        proxy_http_version 1.1;        proxy_set_header Upgrade $http_upgrade;        proxy_set_header Connection &quot;upgrade&quot;;                proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;\nåº”ç”¨é…ç½®ï¼š\nln -s /etc/nginx/sites-available/gfw.131495.xyz /etc/nginx/sites-enabled/nginx -t &amp;&amp; systemctl reload nginx\n\nå®¢æˆ·ç«¯é…ç½®å¯¹æ¯”æ ¹æ®ä½ é€‰æ‹©çš„åœºæ™¯ï¼Œå®¢æˆ·ç«¯ï¼ˆv2rayN / Shadowrocket / Nekorayï¼‰çš„é…ç½®æœ‰æ‰€ä¸åŒï¼š\n\n\n\n\né…ç½®é¡¹\nåœºæ™¯ä¸€ (Vision)\nåœºæ™¯äºŒ (Nginx+WS)\n\n\n\n\nåœ°å€ (Address)\nä½ çš„åŸŸå\nä½ çš„åŸŸå\n\n\nç«¯å£ (Port)\n2443 (Xray ç«¯å£)\n443 (Nginx ç«¯å£)\n\n\nç”¨æˆ· ID (UUID)\nä½ çš„ UUID\nä½ çš„ UUID\n\n\næµæ§ (Flow)\nxtls-rprx-vision\nç©º\n\n\nä¼ è¾“åè®® (Network)\ntcp\nws\n\n\nä¼ªè£…è·¯å¾„ (Path)\nç©º\n/ray\n\n\nTLS\nå¼€å¯ (tls)\nå¼€å¯ (tls)\n\n\nuTLS (æŒ‡çº¹)\nchrome (æ¨è)\nchrome\n\n\n\n\næ€»ç»“ï¼š\n\nè¿½æ±‚æè‡´é€Ÿåº¦å’Œç›´è¿ç¨³å®šæ€§ -> é€‰ åœºæ™¯ä¸€ã€‚\néœ€è¦éšè— IPã€ä½¿ç”¨ CDN æˆ–é…åˆå»ºç«™ -> é€‰ åœºæ™¯äºŒã€‚\n\n\n","categories":["åˆ›æ„å·¥åŠ","ç½‘ç»œä»£ç†"],"tags":["Nginx","Xray","VLESS","XTLS"]},{"title":"Docker æ ¸å¿ƒè¯­æ³•é€ŸæŸ¥ï¼šä»å®¹å™¨ç®¡ç†åˆ°ç¼–æ’å®æˆ˜","url":"/posts/bdbe2a9.html","content":"Docker æ˜¯ç°ä»£å¼€å‘å¿…ä¸å¯å°‘çš„å·¥å…·ã€‚æœ¬æ–‡æ•´ç†äº†é«˜é¢‘ä½¿ç”¨çš„æ ¸å¿ƒè¯­æ³•ä¸å®æˆ˜æ¡ˆä¾‹ï¼ŒåŠ©ä½ å¿«é€ŸæŸ¥é˜…ã€‚\nå¿«é€Ÿä¸Šæ‰‹ï¼šå¯åŠ¨ MySQL å®¹å™¨è¿™æ˜¯æœ€ç»å…¸çš„å…¥é—¨æ¡ˆä¾‹ï¼Œæ¶µç›–äº†ç«¯å£æ˜ å°„ã€ç¯å¢ƒå˜é‡å’Œåå°è¿è¡Œç­‰æ ¸å¿ƒå‚æ•°ã€‚\ndocker run -d \\  --name mysql \\  --restart always \\  -p 3306:3306 \\  -v /root/mysql/data:/var/lib/mysql \\  --network my-net \\  -e TZ=Asia/Shanghai \\  -e MYSQL_ROOT_PASSWORD=123456 \\  mysql:8.0\nå‚æ•°è¯¦è§£ï¼š\n\n\n\n\nå‚æ•°\nå«ä¹‰\nè¯´æ˜\n\n\n\n\n-d\nDetached\nåå°é™é»˜è¿è¡Œå®¹å™¨\n\n\n--name\nName\næŒ‡å®šå®¹å™¨åç§°ï¼Œåç»­å¯é€šè¿‡åç§°æ“ä½œå®¹å™¨\n\n\n--restart\nRestart\nalways è¡¨ç¤ºå¼€æœºè‡ªå¯æˆ–å´©æºƒåè‡ªåŠ¨é‡å¯\n\n\n-p\nPublish\nç«¯å£æ˜ å°„ï¼Œæ ¼å¼ï¼šå®¿ä¸»æœºç«¯å£:å®¹å™¨å†…ç«¯å£\n\n\n-v\nVolumes\næ•°æ®å·æŒ‚è½½ï¼Œæ ¼å¼ï¼šå®¿ä¸»æœºè·¯å¾„:å®¹å™¨å†…è·¯å¾„\n\n\n--network\nNetwork\næŒ‡å®šå®¹å™¨åŠ å…¥çš„ç½‘ç»œ\n\n\n-e\nEnvironment\nè®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚æ—¶åŒºã€å¯†ç ï¼‰ï¼Œå…·ä½“å˜é‡éœ€æŸ¥é˜…é•œåƒæ–‡æ¡£\n\n\nmysql:8.0\nImage\næŒ‡å®šé•œåƒåç§°ä¸ Tagï¼ˆç‰ˆæœ¬ï¼‰ï¼Œä¸å†™ Tag é»˜è®¤ä¸º latest\n\n\n\n\nå®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†\n å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨ \n              \n              æ“ä½œå‘½ä»¤ç¤ºä¾‹è¯´æ˜æ‹‰å–é•œåƒdocker pull mysqlä»ä»“åº“æ‹‰å–é•œåƒæŸ¥çœ‹é•œåƒdocker images  docker rmi mysqlåˆ—å‡ºæ‰€æœ‰é•œåƒã€åˆ é™¤æŒ‡å®šé•œåƒæœ¬åœ°ç®¡ç†docker save -o mysql.tar mysql  docker load -i mysql.tarå¯¼å‡ºé•œåƒåˆ° tar æ–‡ä»¶ã€å¯¼å…¥é•œåƒæŸ¥çœ‹å®¹å™¨docker ps  docker ps -a  docker rm -f mysqlæŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ã€åˆ é™¤å®¹å™¨ç®¡ç†å®¹å™¨docker stop mysql  docker start mysql  docker restart mysqlä¼˜é›…åœæ­¢ã€å¯åŠ¨ã€é‡å¯å®¹å™¨æŸ¥çœ‹æ—¥å¿—docker logs -f -n 100 mysqlå®æ—¶æŸ¥çœ‹æœ€å100è¡Œæ—¥å¿—è¿›å…¥å®¹å™¨docker exec -it mysql bashè¿›å…¥å®¹å™¨å†…éƒ¨ç»ˆç«¯\n              \n            \næ•°æ®æŒä¹…åŒ– (æŒ‚è½½)å®¹å™¨åˆ é™¤åï¼Œå…¶å†…éƒ¨äº§ç”Ÿçš„æ•°æ®ä¼šé»˜è®¤ä¸¢å¤±ã€‚ä¸ºäº†ä¿å­˜æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡ŒæŒ‚è½½ã€‚\næ–¹å¼ä¸€ï¼šæ•°æ®å· (Volumes)ç”± Docker è‡ªåŠ¨ç®¡ç†ï¼Œå­˜å‚¨åœ¨å®¿ä¸»æœºçš„ç‰¹å®šç›®å½•ä¸‹ï¼ˆé€šå¸¸æ˜¯ /var/lib/docker/volumes/ï¼‰ï¼Œè·¯å¾„è¾ƒæ·±ï¼Œä¸ä¾¿ç›´æ¥ä¿®æ”¹ã€‚\n# åˆ›å»ºå¹¶æŒ‚è½½docker run -d --name nginx -p 80:80 -v html_vol:/usr/share/nginx/html nginx\nå¸¸ç”¨å‘½ä»¤ï¼š\n\ndocker volume create vol_nameï¼šåˆ›å»ºæ•°æ®å·\ndocker volume lsï¼šåˆ—å‡ºæ‰€æœ‰æ•°æ®å·\ndocker volume pruneï¼šæ¸…ç†æ— ä¸»çš„æ•°æ®å·\ndocker volume inspect vol_nameï¼šæŸ¥çœ‹æŒ‡å®šæ•°æ®å·çš„ä¿¡æ¯\ndocker volume rm vol_nameï¼šåˆ é™¤æŒ‡å®šçš„æ•°æ®å·\n\næ–¹å¼äºŒï¼šç›®å½•æŒ‚è½½ (Bind Mounts) ã€æ¨èã€‘ç›´æ¥å°†å®¿ä¸»æœºçš„ æŒ‡å®šè·¯å¾„ æ˜ å°„åˆ°å®¹å™¨å†…ï¼Œä¿®æ”¹å®¿ä¸»æœºæ–‡ä»¶å³å¯å®æ—¶å½±å“å®¹å™¨ï¼Œéå¸¸é€‚åˆå¼€å‘è°ƒè¯•å’Œé…ç½®æ–‡ä»¶ç®¡ç†ã€‚\nä»¥ MySQL ä¸ºä¾‹ï¼ŒæŒ‚è½½æ•°æ®ã€é…ç½®å’Œåˆå§‹åŒ–è„šæœ¬ï¼š\ndocker run -d \\  --name mysql \\  -p 3306:3306 \\  -e TZ=Asia/Shanghai \\  -e MYSQL_ROOT_PASSWORD=123 \\  -v /root/mysql/data:/var/lib/mysql \\  -v /root/mysql/conf:/etc/mysql/conf.d \\  -v /root/mysql/init:/docker-entrypoint-initdb.d \\  mysql\n\næ³¨æ„ï¼šç›®å½•æŒ‚è½½å¿…é¡»ä½¿ç”¨ ç»å¯¹è·¯å¾„ æˆ–ä»¥ ./ å¼€å¤´çš„ç›¸å¯¹è·¯å¾„ã€‚\n\nå®¹å™¨ç½‘ç»œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨ä½¿ç”¨ bridge æ¨¡å¼ï¼ŒIP æ˜¯åŠ¨æ€åˆ†é…çš„ã€‚\nä¸ºäº†æ–¹ä¾¿å®¹å™¨é—´é€šä¿¡ï¼ˆä¾‹å¦‚åç«¯è¿æ¥æ•°æ®åº“ï¼‰ï¼Œæ¨èè‡ªå®šä¹‰ç½‘ç»œã€‚åŠ å…¥åŒä¸€è‡ªå®šä¹‰ç½‘ç»œçš„å®¹å™¨ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡å®¹å™¨åäº’ç›¸è®¿é—®ï¼Œæ— éœ€å…³å¿ƒ IP å˜åŒ–ã€‚\nå¸¸ç”¨å‘½ä»¤ï¼š\n\ndocker network create my-netï¼šåˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ\ndocker network connect my-net mysqlï¼šå°†å®¹å™¨åŠ å…¥ç½‘ç»œ\ndocker network disconnect my-net mysqlï¼šå°†å®¹å™¨ä»ç½‘ç»œä¸­ç§»é™¤\ndocker network lsï¼šåˆ—å‡ºæ‰€æœ‰ç½‘ç»œ\ndocker network pruneï¼šæ¸…ç†æ— ç”¨çš„ç½‘ç»œ\ndocker network inspect my-netï¼šæŸ¥çœ‹æŒ‡å®šç½‘ç»œçš„ä¿¡æ¯\ndocker network rm my-netï¼šåˆ é™¤æŒ‡å®šçš„ç½‘ç»œ\n\nå®æˆ˜ç”¨æ³•ï¼š\n# åˆ›å»ºå®¹å™¨æ—¶ï¼Œé€šè¿‡ --network å‚æ•°åŠ å…¥è‡ªå®šä¹‰ç½‘ç»œï¼Œç½‘ç»œä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºdocker run -d --name mysql --network my-net mysqldocker run -d --name nginx --network my-net nginx# æ­¤æ—¶ nginx å†…éƒ¨å¯ä»¥ç›´æ¥ ping mysql\né•œåƒæ„å»º (Dockerfile)é•œåƒæ˜¯åº”ç”¨ç¨‹åºåŠå…¶è¿è¡Œç¯å¢ƒçš„åªè¯»æ¨¡æ¿ã€‚æ„å»ºé•œåƒå°±æ˜¯å°†ä»£ç ã€è¿è¡Œæ—¶ã€åº“å’Œé…ç½®æ‰“åŒ…åœ¨ä¸€èµ·çš„è¿‡ç¨‹ã€‚\nDocker é•œåƒé‡‡ç”¨åˆ†å±‚å­˜å‚¨ç»“æ„ï¼š\nå¸¸ç”¨ Dockerfile æŒ‡ä»¤ï¼š\næ„å»ºç¤ºä¾‹ï¼šJava åº”ç”¨\n\nç¼–å†™ Dockerfile æ–‡ä»¶ï¼š\n Dockerfile# 1. åŸºç¡€é•œåƒFROM openjdk:11.0-jre-buster# 2. è®¾å®šæ—¶åŒºENV TZ=Asia/ShanghaiRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone# 3. æ‹·è´ jar åŒ…COPY docker-demo.jar /app.jar# 4. å¯åŠ¨å‘½ä»¤ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\næ³¨æ„ï¼šå½“å‰ç›®å½•ä¸‹ï¼Œæ­¤æ—¶åº”å½“åŒ…æ‹¬ docker-demo.jar å’Œ Dockerfile æ–‡ä»¶ã€‚\n\næ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š\n # -t æŒ‡å®šåç§°å’Œæ ‡ç­¾ï¼Œ. è¡¨ç¤ºä¸Šä¸‹æ–‡è·¯å¾„ä¸ºå½“å‰ç›®å½•docker build -t docker-demo:1.0 .\n\n\nå®¹å™¨ç¼–æ’ (Docker Compose)å¯¹äºåŒ…å«å¤šä¸ªæœåŠ¡ï¼ˆå¦‚ Nginx + Java + MySQLï¼‰çš„å¤æ‚åº”ç”¨ï¼Œä½¿ç”¨ docker run é€ä¸ªå¯åŠ¨éå¸¸ç¹çä¸”éš¾ä»¥ç®¡ç†ä¾èµ–ã€‚\nDocker Compose é€šè¿‡ docker-compose.yml æ–‡ä»¶å®šä¹‰æœåŠ¡é›†ç¾¤ï¼Œå®ç°ä¸€é”®å¯åœã€‚\nç¤ºä¾‹é…ç½® (docker-compose.yml)ï¼š\ndocker-compose.ymlservices:  mysql:    image: mysql:8.0    container_name: mysql    ports:      - &quot;3306:3306&quot;    environment:      TZ: Asia/Shanghai      MYSQL_ROOT_PASSWORD: 123456    volumes:      - &quot;./mysql/conf:/etc/mysql/conf.d&quot;      - &quot;./mysql/data:/var/lib/mysql&quot;    networks:      - hm-net  hmall:    build:      context: .      dockerfile: Dockerfile    container_name: hmall    ports:      - &quot;8080:8080&quot;    networks:      - hm-net    depends_on:      - mysql  # ç­‰å¾… mysql å¯åŠ¨åå†å¯åŠ¨  nginx:    image: nginx    container_name: nginx    ports:      - &quot;18080:18080&quot;      - &quot;18081:18081&quot;    volumes:      - &quot;./nginx/nginx.conf:/etc/nginx/nginx.conf&quot;      - &quot;./nginx/html:/usr/share/nginx/html&quot;    depends_on:      - hmall    networks:      - hm-netnetworks:  hm-net:    name: hmall\nå¸¸ç”¨ç¼–æ’å‘½ä»¤ï¼š\n\nä¸€é”®éƒ¨ç½²(åå°è¿è¡Œ)ï¼šdocker compose up -d\næŸ¥çœ‹é›†ç¾¤çŠ¶æ€ï¼šdocker compose ps\næŸ¥çœ‹é›†ç¾¤æ—¥å¿—ï¼šdocker compose logs -f\nä¸€é”®é”€æ¯ï¼šdocker compose down (ä¼šç§»é™¤å®¹å™¨å’Œç½‘ç»œ)\n\n","categories":["ç¼–ç¨‹è¯­è¨€","DevOps"],"tags":["Docker","è¯­æ³•æ‰‹å†Œ"]},{"title":"SpringBoot æ•´åˆ Knife4jï¼šä»å…¥é—¨åˆ°ç²¾é€š Swagger æ¥å£æ–‡æ¡£","url":"/posts/7687e76b.html","content":"åœ¨å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ä¸­ï¼Œä¸€ä»½å®æ—¶æ›´æ–°ã€å¯è°ƒè¯•çš„æ¥å£æ–‡æ¡£è‡³å…³é‡è¦ã€‚\nKnife4j æ˜¯åŸºäº Swagger/OpenAPI æ„å»ºçš„å¢å¼ºå‹æ¥å£æ–‡æ¡£å·¥å…·ï¼Œå®ƒæä¾›äº†æ›´ç¬¦åˆå›½äººä¹ æƒ¯çš„ UI ç•Œé¢å’Œå¼ºå¤§çš„è°ƒè¯•åŠŸèƒ½ã€‚\n\nè®¿é—®åœ°å€ï¼šé…ç½®å®Œæˆåï¼Œæµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080/doc.htmlæ³¨ï¼šæŸäº›ç½‘ç»œç¯å¢ƒä¸‹ï¼Œç›´æ¥ä½¿ç”¨ IP (127.0.0.1) å¯èƒ½ä¼šå¯¼è‡´è·¨åŸŸæˆ–é™æ€èµ„æºåŠ è½½é—®é¢˜ï¼Œæ¨èä¼˜å…ˆä½¿ç”¨ localhostã€‚\n\n\nåœºæ™¯ä¸€ï¼šSpring Boot 2 (OpenAPI 2)é€‚ç”¨äºè€é¡¹ç›®æˆ– JDK 1.8 ç¯å¢ƒï¼Œåº•å±‚åŸºäº Swagger 2 (OpenAPI 2) è§„èŒƒã€‚\n1. å¼•å…¥ä¾èµ–åœ¨ pom.xml ä¸­æ·»åŠ  Knife4j çš„ starter ä¾èµ–ï¼š\npom.xml&lt;dependency&gt;    &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;    &lt;artifactId&gt;knife4j-openapi2-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;4.5.0&lt;/version&gt;&lt;/dependency&gt;\n2. é…ç½®æ–‡ä»¶ (YAML)æ— éœ€ç¼–å†™ Java é…ç½®ç±»ï¼Œç›´æ¥åœ¨ application.yml ä¸­å¼€å¯å¢å¼ºæ¨¡å¼ï¼š\napplication.ymlknife4j:  enable: true  openapi:    title: &quot;é¡¹ç›®æ¥å£æ–‡æ¡£&quot;    description: &quot;åŸºäº Knife4j çš„åç«¯æ¥å£æœåŠ¡&quot;    email: &quot;contact@example.com&quot;    concat: &quot;å¼€å‘è€…åç§°&quot;    version: v1.0.0    group:      default:        group-name: é»˜è®¤åˆ†ç»„        api-rule: package        # âš ï¸ æ³¨æ„ï¼šæ­¤å¤„éœ€ä¿®æ”¹ä¸ºä½ é¡¹ç›®çš„ Controller åŒ…è·¯å¾„        api-rule-resources:          - com.example.demo.web\n3. å¸¸ç”¨æ³¨è§£ (Swagger 2)\n\n\n\nä½œç”¨ç›®æ ‡\næ³¨è§£\nè¯´æ˜\n\n\n\n\nç±» (Controller)\n@Api(tags = &quot;ç”¨æˆ·æ¨¡å—&quot;)\næ ‡è®°æ§åˆ¶å™¨ç±»çš„åŠŸèƒ½è¯´æ˜\n\n\næ–¹æ³• (Method)\n@ApiOperation(&quot;æ–°å¢ç”¨æˆ·&quot;)\næ ‡è®°å…·ä½“æ¥å£çš„åŠŸèƒ½è¯´æ˜\n\n\nå‚æ•° (Param)\n@ApiParam(&quot;ç”¨æˆ·ID&quot;)\næ ‡è®°æ¥å£å‚æ•°çš„å«ä¹‰\n\n\nå®ä½“ç±» (DTO)\n@ApiModel(description = &quot;ç”¨æˆ·ä¿¡æ¯&quot;)\næ ‡è®°æ•°æ®æ¨¡å‹ç±»\n\n\nå­—æ®µ (Field)\n@ApiModelProperty(&quot;ç”¨æˆ·å&quot;)\næ ‡è®°æ¨¡å‹ä¸­çš„å­—æ®µå«ä¹‰\n\n\n\n\n\nåœºæ™¯äºŒï¼šSpring Boot 3 (OpenAPI 3)é€‚ç”¨äºæ–°é¡¹ç›®ï¼Œè¦æ±‚ JDK >= 17ï¼Œåº•å±‚åŸºäº SpringDoc (OpenAPI 3) è§„èŒƒã€‚\n1. å¼•å…¥ä¾èµ–æ³¨æ„ï¼šSpring Boot 3 ä½¿ç”¨ Jakarta EE è§„èŒƒï¼Œå¿…é¡»å¼•å…¥ jakarta ç‰ˆæœ¬çš„ starterã€‚\npom.xml&lt;dependency&gt;    &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;    &lt;artifactId&gt;knife4j-openapi3-jakarta-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;4.5.0&lt;/version&gt;&lt;/dependency&gt;\n2. é…ç½®æ–‡ä»¶ (YAML)Spring Boot 3 ä¸­ï¼Œé…ç½®ä¸»è¦å›´ç»• springdoc è¿›è¡Œï¼Œknife4j ä»…ä½œä¸º UI å¢å¼ºé…ç½®ã€‚\napplication.yml# 1. SpringDoc åŸºç¡€é…ç½®springdoc:  swagger-ui:    path: /swagger-ui.html    tags-sorter: alpha      # æ¥å£åˆ†ç»„æ’åºè§„åˆ™    operations-sorter: alpha # æ¥å£æ–¹æ³•æ’åºè§„åˆ™  api-docs:    path: /v3/api-docs      # OpenAPI æè¿°æ–‡ä»¶è·¯å¾„  group-configs:    - group: &#x27;default&#x27;      paths-to-match: &#x27;/**&#x27;      # âš ï¸ æ³¨æ„ï¼šæ­¤å¤„éœ€ä¿®æ”¹ä¸ºä½ é¡¹ç›®çš„ Controller åŒ…è·¯å¾„      packages-to-scan: com.example.demo.web# 2. Knife4j å¢å¼ºé…ç½®knife4j:  enable: true  setting:    language: zh_cn         # é»˜è®¤ä¸­æ–‡\n3. å¸¸ç”¨æ³¨è§£ (OpenAPI 3)OpenAPI 3 çš„æ³¨è§£æ›´åŠ è¯­ä¹‰åŒ–ï¼Œä¸ Swagger 2 æœ‰è¾ƒå¤§åŒºåˆ«ï¼š\n\n\n\n\nä½œç”¨ç›®æ ‡\næ³¨è§£\nè¯´æ˜\n\n\n\n\nç±» (Controller)\n@Tag(name = &quot;ç”¨æˆ·æ¨¡å—&quot;)\nå¯¹åº” Swagger2 çš„ @Api\n\n\næ–¹æ³• (Method)\n@Operation(summary = &quot;æ–°å¢ç”¨æˆ·&quot;)\nå¯¹åº” Swagger2 çš„ @ApiOperation\n\n\nå‚æ•° (Param)\n@Parameter(description = &quot;ç”¨æˆ·ID&quot;)\nå¯¹åº” Swagger2 çš„ @ApiParam\n\n\nå®ä½“ç±» (DTO)\n@Schema(description = &quot;ç”¨æˆ·ä¿¡æ¯&quot;)\nå¯¹åº” Swagger2 çš„ @ApiModel\n\n\nå­—æ®µ (Field)\n@Schema(description = &quot;ç”¨æˆ·å&quot;)\nå¯¹åº” Swagger2 çš„ @ApiModelProperty\n\n\n\n\n\né™„å½•ï¼šæ³¨è§£è¿ç§»å¯¹ç…§è¡¨å¦‚æœä½ æ­£åœ¨å°†è€é¡¹ç›®ä» Spring Boot 2 å‡çº§åˆ° 3ï¼Œå¯ä»¥å‚è€ƒä¸‹å›¾è¿›è¡Œæ³¨è§£æ›¿æ¢ï¼š\næ€»ç»“ï¼š\n\nSB2 ä½¿ç”¨ io.swagger.annotations.* åŒ…ã€‚\nSB3 ä½¿ç”¨ io.swagger.v3.oas.annotations.* åŒ…ã€‚\nå¤§ä½“åŸåˆ™æ˜¯ï¼šApi å˜æˆäº† Tag æˆ– Operationï¼ŒModel å˜æˆäº† Schemaã€‚\n\n","categories":["ç¼–ç¨‹è¯­è¨€","Java"],"tags":["SpringBoot","Swagger","Knife4j"]},{"title":"SpringBoot æ•´åˆ MyBatis-Plus å…¨è§£ï¼šä»å…¥é—¨åˆ°ä»£ç ç”Ÿæˆå™¨","url":"/posts/b4f7cadb.html","content":"MyBatis-Plus (MP) æ˜¯ä¸€ä¸ª MyBatis çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚\nä¸€ã€å¿«é€Ÿèµ·æ­¥1. å¼•å…¥ä¾èµ–å»ºè®®ä½¿ç”¨ BOM ç®¡ç†ç‰ˆæœ¬ï¼Œé¿å…ä¾èµ–å†²çªã€‚ä»¥ä¸‹åŸºäº Spring Boot 3 + JDK 17 ç¯å¢ƒï¼š\npom.xml&lt;dependencyManagement&gt;    &lt;dependencies&gt;        &lt;dependency&gt;            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;            &lt;artifactId&gt;mybatis-plus-bom&lt;/artifactId&gt;            &lt;version&gt;3.5.15&lt;/version&gt;            &lt;type&gt;pom&lt;/type&gt;            &lt;scope&gt;import&lt;/scope&gt;        &lt;/dependency&gt;    &lt;/dependencies&gt;&lt;/dependencyManagement&gt;&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;com.baomidou&lt;/groupId&gt;        &lt;artifactId&gt;mybatis-plus-spring-boot3-starter&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;com.baomidou&lt;/groupId&gt;        &lt;artifactId&gt;mybatis-plus-jsqlparser&lt;/artifactId&gt;    &lt;/dependency&gt;&lt;/dependencies&gt;\n2. å¯é€‰ï¼šå…¨å±€é…ç½® (YAML)MP çš„é…ç½®é¡¹éå¸¸ä¸°å¯Œï¼Œä»¥ä¸‹æ˜¯æ¨èçš„ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼š\napplication.ymlmybatis-plus:  mapper-locations: classpath*:mapper/**/*.xml  # Mapper XML æ‰«æè·¯å¾„  type-aliases-package: com.example.demo.entity # å®ä½“ç±»åˆ«åæ‰«æåŒ…  configuration:    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl # å¼€å¯ SQL æ—¥å¿—æ‰“å° (ç”Ÿäº§ç¯å¢ƒå»ºè®®å…³é—­)    map-underscore-to-camel-case: true # å¼€å¯ä¸‹åˆ’çº¿è½¬é©¼å³°    default-enum-type-handler: com.baomidou.mybatisplus.core.handlers.MybatisEnumTypeHandler # æšä¸¾è‡ªåŠ¨æ˜ å°„  global-config:    db-config:      id-type: AUTO # ä¸»é”®ç­–ç•¥ï¼šæ•°æ®åº“è‡ªå¢      logic-delete-field: deleted # å…¨å±€é€»è¾‘åˆ é™¤å­—æ®µ      logic-delete-value: 1 # å·²åˆ é™¤å€¼      logic-not-delete-value: 0 # æœªåˆ é™¤å€¼\n3. è¯´æ˜ï¼šå®ä½“ç±»è§„çº¦MP é»˜è®¤éµå®ˆ â€œçº¦å®šä¼˜äºé…ç½®â€ çš„åŸåˆ™ï¼š\n\nç±»å -> è¡¨å (é©¼å³°è½¬ä¸‹åˆ’çº¿)\nå±æ€§å -> å­—æ®µå (é©¼å³°è½¬ä¸‹åˆ’çº¿)\nid -> ä¸»é”®\n\nè‹¥éœ€è‡ªå®šä¹‰ï¼Œå¯ä½¿ç”¨æ³¨è§£ï¼š\n@TableName(&quot;t_user&quot;) // æŒ‡å®šè¡¨åpublic class User &#123;    @TableId(type = IdType.AUTO) // æŒ‡å®šä¸»é”®ç­–ç•¥    private Long id;        @TableField(&quot;username&quot;) // æŒ‡å®šå­—æ®µå    private String name;        @TableField(exist = false) // æ ‡è®°éæ•°æ®åº“å­—æ®µ    private String ignoreField;&#125;\n4. Mapper æ¥å£ç»§æ‰¿ BaseMapper å³å¯è·å¾—é€šç”¨çš„ CRUD èƒ½åŠ›ã€‚\n@Mapperpublic interface UserMapper extends BaseMapper&lt;User&gt; &#123;    // å¯ä»¥åœ¨è¿™é‡Œç¼–å†™è‡ªå®šä¹‰ SQL æ–¹æ³•&#125;\n\näºŒã€æ ¸å¿ƒåŠŸèƒ½è¯¦è§£1. Service å±‚ CRUDç»§æ‰¿ IService å’Œ ServiceImplï¼Œä¸ä»…æ‹¥æœ‰ Mapper çš„èƒ½åŠ›ï¼Œè¿˜æ‰©å±•äº†æ‰¹é‡æ“ä½œã€‚\npublic interface IUserService extends IService&lt;User&gt; &#123;&#125;@Servicepublic class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements IUserService &#123;    // ä¸šåŠ¡é€»è¾‘ä»£ç &#125;\n2. é“¾å¼è°ƒç”¨ (Chain)MP æä¾›äº†ç±»ä¼¼ Stream æµçš„é“¾å¼æ“ä½œï¼Œä»£ç æ›´ä¼˜é›…ã€‚\n// é“¾å¼æŸ¥è¯¢ï¼šæŸ¥è¯¢ id=1 çš„ç”¨æˆ·userService.lambdaQuery().eq(User::getId, 1L).one();// é“¾å¼æ›´æ–°ï¼šå°† id=1 çš„ç”¨æˆ·å¹´é¾„æ”¹ä¸º 18userService.lambdaUpdate().eq(User::getId, 1L).set(User::getAge, 18).update();\n3. ActiveRecord æ¨¡å¼è®©å®ä½“ç±»æœ¬èº«å…·å¤‡ CRUD èƒ½åŠ›ï¼ˆéœ€ç»§æ‰¿ Modelï¼‰ã€‚\nUser user = new User();user.setName(&quot;Tom&quot;);user.insert(); // ç›´æ¥è°ƒç”¨ insert æ–¹æ³•ä¿å­˜è‡ªå·±\n4. Db Kit å·¥å…·ç±»ä¸ºäº†é¿å… service å¾ªç¯æ³¨å…¥ï¼ŒMP æä¾›äº† Db å·¥å…·ç±»ã€‚\nUser user2 = Db.getById(1L, User.class);// ç­‰æ•ˆäºåŸæœ¬çš„User user1 = userService.getById(1L);\n\nä¸‰ã€æ¡ä»¶æ„é€ å™¨ (Wrapper)Wrapper æ˜¯ MP çš„ç²¾é«“ï¼Œç”¨äºæ„å»ºå¤æ‚çš„ WHERE æ¡ä»¶ã€‚æ¨èä½¿ç”¨ LambdaWrapper ä»¥é¿å…é­”æ³•å€¼ã€‚\n1. ç±»ç»§æ‰¿å…³ç³»\n2. å®æˆ˜ç¤ºä¾‹// æ„é€ æ¡ä»¶ï¼šname åŒ…å« &quot;Jack&quot; ä¸” age &gt; 20LambdaQueryWrapper&lt;User&gt; wrapper = Wrappers.lambdaQuery();wrapper.like(User::getName, &quot;Jack&quot;)       .gt(User::getAge, 20);List&lt;User&gt; users = userMapper.selectList(wrapper);\n3. è‡ªå®šä¹‰ SQL ç»“åˆ Wrapperåœ¨å¤æ‚åœºæ™¯ä¸‹ï¼Œä½ å¯èƒ½éœ€è¦æ‰‹å†™ SQLï¼Œä½†åˆæƒ³å¤ç”¨ Wrapper çš„æ¡ä»¶ã€‚\nMapper æ¥å£ï¼š\n// ä½¿ç”¨ $&#123;ew.customSqlSegment&#125; æ‹¼æ¥ Wrapper ç”Ÿæˆçš„ SQL@Select(&quot;SELECT * FROM t_user $&#123;ew.customSqlSegment&#125;&quot;)List&lt;User&gt; selectByCustomWrapper(@Param(Constants.WRAPPER) Wrapper&lt;User&gt; wrapper);\n\nå››ã€è‡ªåŠ¨åŒ–é«˜çº§ç‰¹æ€§1. è‡ªåŠ¨å¡«å…… (Audit)è‡ªåŠ¨ç»´æŠ¤ create_time, update_time ç­‰å­—æ®µã€‚\nå®ä½“ç±»é…ç½®ï¼š\n@TableField(fill = FieldFill.INSERT)private LocalDateTime createTime;@TableField(fill = FieldFill.INSERT_UPDATE)private LocalDateTime updateTime;\nå¤„ç†å™¨å®ç°ï¼š\n@Componentpublic class MyMetaObjectHandler implements MetaObjectHandler &#123;    @Override    public void insertFill(MetaObject metaObject) &#123;        this.strictInsertFill(metaObject, &quot;createTime&quot;, LocalDateTime.class, LocalDateTime.now());        this.strictInsertFill(metaObject, &quot;updateTime&quot;, LocalDateTime.class, LocalDateTime.now());    &#125;    @Override    public void updateFill(MetaObject metaObject) &#123;        this.strictInsertFill(metaObject, &quot;updateTime&quot;, LocalDateTime.class, LocalDateTime.now());    &#125;&#125;\n2. é€»è¾‘åˆ é™¤é…ç½®åï¼ŒdeleteById ä¼šå˜æˆ UPDATE t_user SET deleted=1 WHERE id=?ã€‚\npublic class User &#123;    @TableLogic    private Integer deleted;&#125;\n\nâš ï¸ æ³¨æ„ï¼šé€»è¾‘åˆ é™¤ä¸æ•°æ®åº“å”¯ä¸€ç´¢å¼•å­˜åœ¨å†²çªé£é™©ã€‚å»ºè®®é€»è¾‘åˆ é™¤å­—æ®µä½¿ç”¨ delete_time (æ—¶é—´æˆ³) æˆ–åœ¨å”¯ä¸€ç´¢å¼•ä¸­åŒ…å«é€»è¾‘åˆ é™¤å­—æ®µã€‚\n\n3. æšä¸¾æ˜ å°„å½“å®ä½“ç±» User çš„å±æ€§ genderï¼ŒjavaType æ˜¯æšä¸¾ï¼ŒcolumnType æ˜¯ int æ—¶ã€‚\nMyBatis-Plus æä¾›äº†å…¨å±€é…ç½®çš„æšä¸¾æ˜ å°„å¤„ç†å™¨ï¼Œæ— éœ€å†å†™è½¬æ¢ä»£ç ã€‚\napplication.ymlmybatis-plus:  configuration:    default-enum-type-handler: com.baomidou.mybatisplus.core.handlers.MybatisEnumTypeHandler\nåœ¨å¯¹åº”çš„æšä¸¾ç±»ä¸­ï¼Œç»™å¯¹åº”å±æ€§æ·»åŠ æ³¨è§£ EnumValueï¼š\n@Getter@AllArgsConstructorpublic enum Gender &#123;    MALE(1, &quot;ç”·&quot;),    FEMALE(2, &quot;å¥³&quot;),    ;    @com.baomidou.mybatisplus.annotation.EnumValue    private final Integer code;        @com.fasterxml.jackson.annotation.JsonValue    private final String description;&#125;\n4. JSON å­—æ®µæ˜ å°„åˆ©ç”¨ JacksonTypeHandler è‡ªåŠ¨å®ç° JSON å­—ç¬¦ä¸²ä¸ Java å¯¹è±¡çš„äº’è½¬ã€‚\n@TableName(autoResultMap = true) // å¿…é¡»å¼€å¯public class User &#123;    @TableField(typeHandler = JacksonTypeHandler.class)    private UserInfo info; // æ•°æ®åº“å­˜ JSONï¼ŒJava ç”¨å¯¹è±¡&#125;\n\näº”ã€æ’ä»¶ä½“ç³»MP çš„æ’ä»¶é€šè¿‡æ‹¦æˆªå™¨æœºåˆ¶å®ç°ï¼Œéœ€é…ç½® MybatisPlusInterceptorã€‚\n1. æ’ä»¶é…ç½®ç±»@Configurationpublic class MybatisPlusConfig &#123;    @Bean    public MybatisPlusInterceptor mybatisPlusInterceptor() &#123;        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();        // 1. åˆ†é¡µæ’ä»¶ (å¿…é¡»æ”¾åœ¨æœ€å)        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));        return interceptor;    &#125;&#125;\n2. åˆ†é¡µæŸ¥è¯¢// IPage æ˜¯åˆ†é¡µç»“æœï¼Œcurrent æ˜¯å½“å‰é¡µï¼Œsize æ˜¯æ¯é¡µæ¡æ•°Page&lt;User&gt; page = new Page&lt;&gt;(1, 10);userService.page(page, new LambdaQueryWrapper&lt;User&gt;().gt(User::getAge, 18));System.out.println(&quot;æ€»æ¡æ•°ï¼š&quot; + page.getTotal());System.out.println(&quot;å½“å‰é¡µæ•°æ®ï¼š&quot; + page.getRecords());\n\nå…­ã€ä»£ç ç”Ÿæˆå™¨ (Generator)æ— éœ€æ‰‹å†™ç¹ççš„ Entityã€Mapperã€Service ä»£ç ï¼Œä¸€é”®ç”Ÿæˆã€‚\n1. å¼•å…¥ä¾èµ–pom.xml&lt;dependency&gt;    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;    &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;    &lt;version&gt;3.5.14&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;    &lt;version&gt;2.3.34&lt;/version&gt;&lt;/dependency&gt;\n2. é…ç½®è¿è¡Œä»£ç public class CodeGenerator &#123;    static void main() &#123;        // æ•°æ®åº“è¿æ¥ä¿¡æ¯        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;        String username = &quot;root&quot;;        String password = &quot;123456&quot;;        // åŒ…å        String packageName = &quot;com.example.demo&quot;;        // éœ€è¦ç”Ÿæˆçš„è¡¨        String[] tables = &#123;&quot;user&quot;&#125;;        String projectPath = System.getProperty(&quot;user.dir&quot;);        FastAutoGenerator                // æ•°æ®åº“è¿æ¥                .create(url, username, password)                // å…¨å±€é…ç½®                .globalConfig(builder -&gt; builder                        .author(&quot;Gabriel&quot;)  // è®¾ç½®ä½œè€…                        .enableSpringdoc()  // å¼€å¯ swagger æ¨¡å¼ï¼ˆOpenAPI2 ä½¿ç”¨ .enableSwagger()ï¼‰                        .outputDir(projectPath + &quot;/src/main/java/&quot;) // æŒ‡å®šè¾“å‡ºç›®å½•                        .disableOpenDir()   // ç¦æ­¢æ‰“å¼€è¾“å‡ºç›®å½•                )                // æ•°æ®æºé…ç½®                .dataSourceConfig(builder -&gt; builder                        .typeConvertHandler((globalConfig, typeRegistry, metaInfo) -&gt; &#123;                            int typeCode = metaInfo.getJdbcType().TYPE_CODE;                            // è‡ªå®šä¹‰ç±»å‹è½¬æ¢                            if (typeCode == Types.TINYINT || typeCode == Types.SMALLINT) &#123;                                return DbColumnType.INTEGER;                            &#125;                            return typeRegistry.getColumnType(metaInfo);                        &#125;)                )                // åŒ…é…ç½®                .packageConfig(builder -&gt; builder                        .parent(packageName)    // è®¾ç½®çˆ¶åŒ…å                        .pathInfo(Collections.singletonMap(OutputFile.xml, projectPath + &quot;/src/main/resources/mapper&quot;)) // è®¾ç½® xml æ–‡ä»¶è¾“å‡ºç›®å½•                )                // ç­–ç•¥é…ç½®                .strategyConfig(builder -&gt; builder                        .addTablePrefix(&quot;t_&quot;)       // åˆ é™¤è¡¨å‰ç¼€                        .addFieldPrefix(&quot;is_&quot;)      // åˆ é™¤å­—æ®µå‰ç¼€                        .addFieldSuffix(&quot;_flag&quot;)    // åˆ é™¤å­—æ®µåç¼€                        .addInclude(tables)         // è®¾ç½®éœ€è¦ç”Ÿæˆçš„è¡¨                        .controllerBuilder()                        .enableRestStyle()          // @Controller -&gt; @RestController                        .enableHyphenStyle()        // @RequestMapping(&quot;/managerUser&quot;) -&gt; @RequestMapping(&quot;/manager-user&quot;)                        .serviceBuilder()                        .mapperBuilder()                        .enableBaseResultMap()      // xml ç”Ÿæˆ BaseResultMap                        .enableBaseColumnList()     // xml ç”Ÿæˆ BaseColumnList                        .entityBuilder()                        .enableLombok()             // æ·»åŠ  lombok æ³¨è§£                        .enableSerialAnnotation()   // æ·»åŠ  @Serial æ³¨è§£ï¼ˆsince JDK 14ï¼‰                )                // æ¨¡æ¿é…ç½®ã€‚é»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿ã€‚éœ€è¦å¼•å…¥å¯¹åº”æ¨¡æ¿çš„ä¾èµ–                .templateEngine(new FreemarkerTemplateEngine())                // æ‰§è¡Œ                .execute();    &#125;&#125;\n","categories":["ç¼–ç¨‹è¯­è¨€","Java"],"tags":["SpringBoot","MyBatis-Plus","ORM"]},{"title":"Markdown è¯­æ³•é€ŸæŸ¥æ‰‹å†Œï¼šæ–°æ‰‹ 5 åˆ†é’Ÿå…¥é—¨","url":"/posts/b973e285.html","content":"Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œè¯­æ³•ååˆ†ç®€å•ï¼Œå¸¸ç”¨çš„æ ‡è®°ç¬¦å·ä¸è¶…è¿‡åä¸ªã€‚å®ƒèƒ½è®©ä½ ä¸“æ³¨äºå†™ä½œå†…å®¹ï¼Œè€Œéå¤æ‚çš„æ’ç‰ˆæ ¼å¼ã€‚\n1. æ ‡é¢˜è¯­æ³•è¦åˆ›å»ºæ ‡é¢˜ï¼Œåœ¨å•è¯æˆ–çŸ­è¯­å‰é¢æ·»åŠ äº•å·ï¼ˆ#ï¼‰ï¼Œå¹¶ç´§è·Ÿä¸€ä¸ªç©ºæ ¼ã€‚\n# å·çš„æ•°é‡ä»£è¡¨äº†æ ‡é¢˜çš„çº§åˆ«ï¼ŒMarkdown æ”¯æŒ 1~6 çº§æ ‡é¢˜ã€‚\n è¯­æ³•æ•ˆæœ \n              \n              Markdown è¯­æ³•æ•ˆæœé¢„è§ˆ# ä¸€çº§æ ‡é¢˜ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜äºŒçº§æ ‡é¢˜### ä¸‰çº§æ ‡é¢˜ä¸‰çº§æ ‡é¢˜#### å››çº§æ ‡é¢˜å››çº§æ ‡é¢˜##### äº”çº§æ ‡é¢˜äº”çº§æ ‡é¢˜###### å…­çº§æ ‡é¢˜å…­çº§æ ‡é¢˜\n              \n            \n2. å¼ºè°ƒè¯­æ³•Markdown ä½¿ç”¨æ˜Ÿå· * æˆ–ä¸‹åˆ’çº¿ _ æ¥æ ‡è®°éœ€è¦å¼ºè°ƒçš„æ–‡æœ¬ã€‚\n\nè¦ç”¨ æ–œä½“ æ˜¾ç¤ºæ–‡æœ¬ï¼Œåœ¨å•è¯æˆ–çŸ­è¯­å‰åæ·»åŠ ä¸€ä¸ªæ˜Ÿå· *ã€‚\nè¦ åŠ ç²— æ–‡æœ¬ï¼Œåœ¨å•è¯æˆ–çŸ­è¯­çš„å‰åå„æ·»åŠ ä¸¤ä¸ªæ˜Ÿå· **ã€‚\nè¦åŒæ—¶ç”¨ ç²—ä½“å’Œæ–œä½“ çªå‡ºæ˜¾ç¤ºæ–‡æœ¬ï¼Œåœ¨å•è¯æˆ–çŸ­è¯­çš„å‰åå„æ·»åŠ ä¸‰ä¸ªæ˜Ÿå· ***ã€‚\n\n è¯­æ³•æ•ˆæœ \n              \n              Markdonwn è¯­æ³•æ•ˆæœé¢„è§ˆItalicized text is the *catâ€™s meow*.Italicized text is the catâ€™s meow.I just love **bold text**.I just love bold text.This text is ***really important***.This text is really important.\n              \n            \n3. å¼•ç”¨è¯­æ³•è¦åˆ›å»ºå—å¼•ç”¨ï¼ˆBlockquotesï¼‰ï¼Œåœ¨æ®µè½å‰æ·»åŠ ä¸€ä¸ª &gt; ç¬¦å·ï¼Œåé¢ç´§è·Ÿä¸€ä¸ªç©ºæ ¼ã€‚å¼•ç”¨å—å¯ä»¥åµŒå¥—ï¼Œä¹Ÿå¯ä»¥åŒ…å«å…¶ä»– Markdown å…ƒç´ ã€‚\n è¯­æ³•æ•ˆæœ \n              \n              &gt; I&#x27;ve got my heart set on reaching out to the world.&gt; &gt; I&#x27;m not in the mood to go back to the beginning.æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼šIâ€™ve got my heart set on reaching out to the world.Iâ€™m not in the mood to go back to the beginning.\n              \n            \n4. åˆ—è¡¨è¯­æ³•å¯ä»¥å°†å¤šä¸ªæ¡ç›®ç»„ç»‡æˆæœ‰åºæˆ–æ— åºåˆ—è¡¨ã€‚\n\næœ‰åºåˆ—è¡¨ï¼šåœ¨æ¯ä¸ªåˆ—è¡¨é¡¹å‰æ·»åŠ æ•°å­—ï¼Œå¹¶ç´§è·Ÿä¸€ä¸ªè‹±æ–‡å¥ç‚¹ï¼Œå†ç´§è·Ÿä¸€ä¸ªç©ºæ ¼ã€‚æ•°å­—ä¸å¿…æŒ‰æ•°å­¦é¡ºåºæ’åˆ—ï¼Œä½†åˆ—è¡¨å°†ä»¥æ•°å­— 1 èµ·å§‹ã€‚\næ— åºåˆ—è¡¨ï¼šåœ¨æ¯ä¸ªåˆ—è¡¨é¡¹å‰é¢æ·»åŠ ç ´æŠ˜å· -ã€æ˜Ÿå· * æˆ–åŠ å· +ï¼Œåé¢ç´§è·Ÿä¸€ä¸ªç©ºæ ¼ã€‚\n\n æœ‰åºåˆ—è¡¨ \n              \n              1. First item2. Second item3. Third item    1. Indented item    2. Indented item4. Fourth itemæ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼šFirst itemSecond itemThird itemIndented itemIndented itemFourth item\n              \n            \n æ— åºåˆ—è¡¨ \n              \n              - First item- Second item- Third item    - Indented item    - Indented item- Fourth itemæ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼šFirst itemSecond itemThird itemIndented itemIndented itemFourth item\n              \n            \n5. ä»£ç è¯­æ³•\nè¡Œå†…ä»£ç ï¼šè¦å°†å•è¯æˆ–çŸ­è¯­è¡¨ç¤ºä¸ºä»£ç ï¼Œå°†å…¶åŒ…è£¹åœ¨åå¼•å· (`) ä¸­ã€‚\nä»£ç å—ï¼šåœ¨ä»£ç å—å‰åè¡Œä¸Šä½¿ç”¨ä¸‰ä¸ªåå¼•å·ï¼ˆ```ï¼‰ã€‚åœ¨é¦–è¡Œçš„åå¼•å·åæŒ‡å®šè¯­è¨€åç§°ï¼ˆå¦‚ json, python, javaï¼‰ï¼Œå¯å®ç°è¯­æ³•é«˜äº®ã€‚\n\næ³¨æ„ï¼šå¦‚æœ è¡Œå†…ä»£ç  åŒ…å«è¡Œå†…ä»£ç ï¼Œæœ€å¤–å±‚è¯·ä½¿ç”¨åŒåå¼•å· (``) åŒ…è£¹ï¼›å¦‚æœ ä»£ç å— ä¸­åŒ…å«ä»£ç å—ï¼Œæœ€å¤–å±‚è¯·ä½¿ç”¨å››ä¸ªåå¼•å·ï¼ˆ````ï¼‰åŒ…è£¹ã€‚\n\n è¯­æ³•æ•ˆæœ \n              \n              Markdonwn è¯­æ³•æ•ˆæœé¢„è§ˆAt the command prompt, type `nano`At the command prompt, type nano.``Use `code` in your Markdown file.``Use `code` in your Markdown file.ä»£ç å—ä¹¦å†™æºç ï¼š```json&#123;  &quot;firstName&quot;: &quot;John&quot;,  &quot;lastName&quot;: &quot;Smith&quot;,  &quot;age&quot;: 25&#125;```ä»£ç å—æ•ˆæœå¦‚ä¸‹ï¼š&#123;  &quot;firstName&quot;: &quot;John&quot;,  &quot;lastName&quot;: &quot;Smith&quot;,  &quot;age&quot;: 25&#125;\n              \n            \n6. åˆ†éš”çº¿è¯­æ³•è¦åˆ›å»ºåˆ†éš”çº¿ï¼Œåœ¨å•ç‹¬ä¸€è¡Œä¸Šä½¿ç”¨ä¸‰ä¸ªæˆ–å¤šä¸ªç ´æŠ˜å· (---)ã€æ˜Ÿå· (***) æˆ–ä¸‹åˆ’çº¿ (___) ï¼Œå¹¶ä¸”è¡Œå†…ä¸èƒ½åŒ…å«å…¶ä»–å†…å®¹ã€‚\n è¯­æ³•æ•ˆæœ \n              \n              Try to put a blank line before...---...and after a horizontal rule.æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼šTry to put a blank line beforeâ€¦â€¦and after a horizontal rule.\n              \n            \n7. é“¾æ¥è¯­æ³•é“¾æ¥æ–‡æœ¬æ”¾åœ¨ æ–¹æ‹¬å· å†…ï¼Œé“¾æ¥åœ°å€æ”¾åœ¨åé¢çš„ åœ†æ‹¬å· ä¸­ï¼Œé“¾æ¥ titleï¼ˆé¼ æ ‡æ‚¬åœæç¤ºï¼‰ä¸ºå¯é€‰å†…å®¹ã€‚\nè¯­æ³•æ ¼å¼ï¼š[content](url title)\n è¯­æ³•æ•ˆæœ \n              \n              è¿™æ˜¯ä¸€ä¸ªé“¾æ¥ [Markdown è¯­æ³•](https://markdown.com.cn &quot;æœ€å¥½çš„ markdown æ•™ç¨‹&quot;)ã€‚æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼šè¿™æ˜¯ä¸€ä¸ªé“¾æ¥ Markdown è¯­æ³•ã€‚\n              \n            \n8. å›¾ç‰‡è¯­æ³•æ·»åŠ å›¾ç‰‡çš„è¯­æ³•ä¸é“¾æ¥éå¸¸ç›¸ä¼¼ï¼Œåªéœ€åœ¨æœ€å‰é¢å¤šæ·»åŠ ä¸€ä¸ªæ„Ÿå¹å· (!)ã€‚\nè¯­æ³•æ ¼å¼ï¼š![alt](url title)\n è¯­æ³•æ•ˆæœ \n              \n              ![æˆ‘çš„å¤´åƒ](https://cdn.jsdelivr.net/gh/lijiabao9/pic.cloud@main/hexo/info/avatar.webp &quot;è¿™æ˜¯æˆ‘çš„å¤´åƒ&quot;)æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š\n              \n            \n9. è½¬ä¹‰å­—ç¬¦è¯­æ³•å¦‚æœè¦æ˜¾ç¤º Markdown è¯­æ³•ä¸­ä½¿ç”¨çš„ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ *, #, \\ ç­‰ï¼‰ï¼Œéœ€åœ¨å­—ç¬¦å‰é¢æ·»åŠ åæ–œæ  \\ è¿›è¡Œè½¬ä¹‰ã€‚\n è¯­æ³•æ•ˆæœ \n              \n              \\* Without the backslash, this would be a bullet in an unordered list.æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š* Without the backslash, this would be a bullet in an unordered list.\n              \n            \n10. è¡¨æ ¼è¯­æ³•ä½¿ç”¨ä¸‰ä¸ªæˆ–å¤šä¸ªè¿å­—ç¬¦ï¼ˆ---ï¼‰åˆ›å»ºè¡¨å¤´åˆ†éš”çº¿ï¼Œå¹¶ä½¿ç”¨ç®¡é“ç¬¦ï¼ˆ|ï¼‰åˆ†éš”æ¯ä¸€åˆ—ã€‚\nå¯¹é½æ–¹å¼ï¼š\n\n:--- å·¦å¯¹é½\n:---: å±…ä¸­å¯¹é½\n---: å³å¯¹é½\n\n è¯­æ³•æ•ˆæœ \n              \n              | å§“å  | æ€§åˆ« ||:----|:---|| æé›·  | ç”·  || éŸ©æ¢…æ¢… | å¥³  |æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼šå§“åæ€§åˆ«æé›·ç”·éŸ©æ¢…æ¢…å¥³\n              \n            \n11. åˆ é™¤çº¿è¯­æ³•è¦ç»™æ–‡æœ¬æ·»åŠ åˆ é™¤çº¿ï¼Œè¯·ä½¿ç”¨ä¸¤ä¸ªæ³¢æµªå· ~~ åŒ…è£¹æ–‡æœ¬ã€‚\n è¯­æ³•æ•ˆæœ \n              \n              ~~ä¸–ç•Œæ˜¯å¹³å¦çš„ã€‚~~ æˆ‘ä»¬ç°åœ¨çŸ¥é“ä¸–ç•Œæ˜¯åœ†çš„ã€‚æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼šä¸–ç•Œæ˜¯å¹³å¦çš„ã€‚ æˆ‘ä»¬ç°åœ¨çŸ¥é“ä¸–ç•Œæ˜¯åœ†çš„ã€‚\n              \n            ","categories":["ç¼–ç¨‹è¯­è¨€","RichText"],"tags":["è¯­æ³•æ‰‹å†Œ","Markdown"]},{"title":"ç™½å«–æŒ‡å—ï¼šå…è´¹è·å– Microsoft 365 E3 å¼€å‘è€…è®¢é˜… (å« 5TB OneDrive)","url":"/posts/93201920.html","content":"Microsoft 365 E3 è®¢é˜…é€šå¸¸æ˜¯ä¼ä¸šçº§çš„ä»˜è´¹æœåŠ¡ï¼Œä½†é€šè¿‡ç‰¹å®šçš„å¼€å‘è€…è®¡åˆ’æˆ– Symphony è¯•ç”¨é“¾æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å…è´¹è·å–ã€‚\næ ¸å¿ƒæƒç›Šï¼š\n\nOffice 365 å…¨å®¶æ¡¶ï¼šæ”¯æŒæ¿€æ´»æœ¬åœ°æ¡Œé¢ç‰ˆ Word, Excel, PPT ç­‰ã€‚\n25 ä¸ªè®¸å¯è¯ï¼šå¯ä»¥åˆ›å»º 25 ä¸ªå­è´¦å·ï¼Œåˆ†å‘ç»™äº²å‹ä½¿ç”¨ã€‚\n5TB OneDriveï¼šæ¯ä¸ªè´¦å·å‡å¯äº«å—æœ€é«˜ 5TB çš„äº‘å­˜å‚¨ç©ºé—´ã€‚\nè‡ªåŠ¨ç»­æœŸï¼šä¿æŒè´¦å·æ´»è·ƒï¼ˆå¦‚ API è°ƒç”¨ï¼‰ï¼Œå¾®è½¯é€šå¸¸ä¼šæŒ‰å¹´è‡ªåŠ¨ç»­æœŸã€‚\n\nå…è´£å£°æ˜ï¼šæœ¬æ•™ç¨‹åˆ©ç”¨çš„æ˜¯å¾®è½¯å…¬å¼€çš„è¯•ç”¨/å¼€å‘è€…é“¾æ¥ï¼ˆå¦‚ Symphony/Dev æ¸ é“ï¼‰ã€‚æ­¤ç±»è®¢é˜…å­˜åœ¨ä¸ç¡®å®šæ€§ï¼Œå¾®è½¯éšæ—¶å¯èƒ½æ”¶å›æƒç›Šæˆ–å°ç¦è´¦å·ã€‚è¯·å‹¿åœ¨ OneDrive ä¸­å­˜å‚¨æ²¡æœ‰ä»»ä½•å¤‡ä»½çš„é‡è¦æ•°æ®ï¼å»ºè®®ä»…ä½œä¸ºä»å±/å¤‡ç”¨ç½‘ç›˜æˆ–ç”¨äºæ¿€æ´» Office è½¯ä»¶ã€‚\n\n\nç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç©ºå…¨å±€ç®¡ç†å‘˜æˆ‘ä»¬éœ€è¦å…ˆæ³¨å†Œä¸€ä¸ªæ²¡æœ‰ç»‘å®šä»»ä½•è®¢é˜…çš„â€œç©ºå£³â€å¾®è½¯ä¼ä¸šè´¦å·ã€‚\n\nè®¿é—®æ³¨å†Œé“¾æ¥ï¼šç‚¹å‡»æ­¤å¤„è·³è½¬æ³¨å†Œé¡µé¢\n\néªŒè¯é‚®ç®±ï¼šè¾“å…¥ä»»æ„ç”µå­é‚®ä»¶ï¼Œç‚¹å‡» ä¸‹ä¸€æ­¥ï¼Œå¦‚æœæç¤ºè´¦å·ä¸å­˜åœ¨ï¼Œç‚¹å‡» åˆ›å»ºè´¦å·ã€‚\n\nå¡«å†™ä¿¡æ¯ï¼š\n\nåŸºæœ¬æƒ…å†µï¼šéšæ„å¡«å†™ï¼Œç‚¹å‡» ä¸‹ä¸€æ­¥ã€‚\nç™»å½•æ–¹æ³•ï¼šè®¾ç½®ä½ çš„å…¨å±€ç®¡ç†å‘˜å‰ç¼€ï¼ˆå¦‚ adminï¼‰å’Œ ä¸“ç”¨åŸŸåï¼ˆxxxx.onmicrosoft.comï¼‰ã€‚\né‡è¦ï¼šè¯·åŠ¡å¿…ç‰¢è®°æ­¤å¤„çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™æ˜¯ä½ çš„æœ€é«˜æƒé™è´¦å·ã€‚\n\n\n\nè·³è¿‡æ— å…³é¡¹ï¼š\n\nåœ°å€ï¼šéšæ„å¡«å†™ï¼ˆæç¤ºæ— æ³•è®¤è¯ä¹Ÿä¸ç”¨ç®¡ï¼‰ã€‚\nçº³ç¨äººè¯†åˆ«å·ï¼šéšæ„å¡«å†™ä¸€ä¸ªèº«ä»½è¯å·ã€‚\nå…³é”®ç‚¹ï¼šå½“æµç¨‹è¿›è¡Œåˆ° ä»˜æ¬¾ æˆ– æ·»åŠ æ”¯ä»˜æ–¹å¼ é¡µé¢æ—¶ï¼Œç›´æ¥å…³é—­ç½‘é¡µï¼Œä¸è¦å¡«å†™ã€‚\n\n\n\næ­¤æ—¶ï¼Œä½ å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªç©ºçš„å…¨å±€ç®¡ç†å‘˜è´¦å·ï¼šadmin@xxxx.onmicrosoft.comã€‚\n\nç¬¬äºŒæ­¥ï¼šæ¿€æ´» E3 è®¢é˜…åˆ©ç”¨ç‰¹å®šçš„ Promo é“¾æ¥ï¼Œå°† E3 è®¢é˜…æŒ‚è½½åˆ°åˆšæ‰åˆ›å»ºçš„è´¦å·ä¸Šã€‚\n\nè®¿é—®è´­ä¹°é“¾æ¥ï¼šç‚¹å‡»æ­¤å¤„è·³è½¬ E3 Dev è®¢é˜…ä¸‹å•é¡µ(å¦‚æœæç¤ºç™»å½•ï¼Œè¯·ä½¿ç”¨ç¬¬ä¸€æ­¥åˆ›å»ºçš„ç®¡ç†å‘˜è´¦å·ç™»å½•)\n\né…ç½®æ”¯ä»˜æ–¹å¼ï¼šåœ¨è´­ç‰©è½¦é¡µé¢ï¼Œå°†ä»˜æ¬¾æ–¹å¼åˆ‡æ¢ä¸º Alipay (æ”¯ä»˜å®)ï¼Œç‚¹å‡» Saveã€‚\næç¤ºï¼šè¿™é‡Œè™½ç„¶æ˜¾ç¤ºé‡‘é¢ä¸º 0 å…ƒï¼Œä½†ä»éœ€éªŒè¯æ”¯ä»˜æ–¹å¼ã€‚é€‰æ‹©æ”¯ä»˜å®æ˜¯ä¸ºäº†ç»•è¿‡ä¿¡ç”¨å¡éªŒè¯ï¼Œå®é™…ä¸ä¼šæ‰£è´¹ï¼Œä¹Ÿæ— éœ€æ‰«ç æ”¯ä»˜ã€‚\n\n\nå®Œæˆä¸‹å•ï¼šç‚¹å‡»å³ä¾§çš„ Place orderã€‚å½“çœ‹åˆ°å¦‚ä¸‹å›¾æç¤ºï¼Œå³è¡¨ç¤ºâ€œç™½å«–â€æˆåŠŸï¼\n\néªŒè¯è®¸å¯è¯ï¼šç™»å½• Microsoft Admin Centerï¼Œåœ¨é¦–é¡µå³å¯çœ‹åˆ° Office 365 E3 Developer è®¢é˜…å·²æ¿€æ´»ï¼ŒåŒ…å« 25 ä¸ªè®¸å¯è¯ã€‚\n\nå¡ BUG ç»­æœŸ (è½¬ä¸ºå¹´ä»˜)ï¼š\n\nè¿›å…¥ Billing (è´¦å•) -&gt; Your products (ä½ çš„äº§å“)ã€‚\nç‚¹å‡» Office 365 E3 Develop åçš„ä¸‰ä¸ªç‚¹ -&gt; Edit billing frequency (ç¼–è¾‘è´¦å•é¢‘ç‡)ã€‚\nåˆ‡æ¢ä¸º Pay yearly (æŒ‰å¹´ä»˜è´¹)ï¼Œç‚¹å‡»ä¿å­˜ã€‚\næ•ˆæœï¼šè®¢é˜…ç»“æŸæ—¶é—´é€šå¸¸ä¼šè‡ªåŠ¨å»¶é•¿è‡³ä¸€å¹´åã€‚\n\n\n\nè¿›é˜¶ç©æ³• (å¤‡ç”¨é“¾æ¥)ï¼šå¦‚æœä¸æ»¡è¶³äº 25 ä¸ªè´¦å·ï¼ŒåŒä¸€è´¦å·å¯ä»¥é‡å¤è´­ä¹°å åŠ ã€‚è¿˜å¯ä»¥å°è¯•ä»¥ä¸‹ 200 ä¸‡ä¸ªè®¸å¯è¯ çš„ Symphony è®¢é˜…ï¼ˆåŒä¸€è´¦å·äº’æ–¥ï¼Œåªèƒ½é€‰ä¸€ç§ï¼‰ï¼š\n\nE1 Symphony (åç»­å¯åœ¨äº§å“ä¸­å‡çº§ä¸º E3): ç‚¹å‡»è·³è½¬\nE3 Symphony (æ¨è): ç‚¹å‡»è·³è½¬\n\n\n\nç¬¬ä¸‰æ­¥ï¼šæ‰©å®¹ OneDrive è‡³ 5TBé»˜è®¤ç©ºé—´ä¸º 1TBï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ä¿®æ”¹å…¨å±€è®¾ç½®ä»¥è§£é” 5TB æƒé™ã€‚\n\nåœ¨ Admin Center å·¦ä¾§å¯¼èˆªæ ï¼Œç‚¹å‡» SharePoint è¿›å…¥ç‹¬ç«‹ç®¡ç†åå°ã€‚\n\nç‚¹å‡» Settings -&gt; OneDrive -&gt; Storage limitã€‚\n\nå°†é»˜è®¤å­˜å‚¨é™åˆ¶ä¿®æ”¹ä¸º 5120 (GB)ï¼Œç‚¹å‡»ä¿å­˜ã€‚\n\n\n\nç¬¬å››æ­¥ï¼šåˆ›å»ºå­ç”¨æˆ· (é™ä½é£é™©)å¼ºçƒˆå»ºè®®ä¸è¦ç›´æ¥ä½¿ç”¨å…¨å±€ç®¡ç†å‘˜è´¦å·è¿›è¡Œæ—¥å¸¸ä½¿ç”¨ï¼Œä»¥é™ä½é£æ§æ¦‚ç‡ã€‚è¯·åˆ›å»ºå­ç”¨æˆ·ç”¨äºæ¿€æ´» Office å’Œå­˜å‚¨æ•°æ®ã€‚\n\nå›åˆ° Admin Centerï¼Œç‚¹å‡» Users -&gt; Active users -&gt; Add a userã€‚\n\nå¡«å†™å§“åã€ç”¨æˆ·åï¼Œå‹¾é€‰åˆ†é… Office 365 E3 è®¸å¯è¯ï¼Œè§’è‰²ä¿æŒé»˜è®¤ï¼ˆUserï¼‰å³å¯ã€‚è®°å¾—å¤åˆ¶ä¿å­˜ç”Ÿæˆçš„å­ç”¨æˆ·å¯†ç ã€‚\n\næ£€æŸ¥ç©ºé—´ï¼šåˆ›å»ºå®Œæˆåï¼Œç‚¹å‡»è¯¥ç”¨æˆ· -&gt; OneDrive é€‰é¡¹å¡ï¼ŒæŸ¥çœ‹ â€œStorage usedâ€ã€‚\n\nå¦‚æœæ˜¾ç¤º 1024GBï¼Œç‚¹å‡» Edit æ‰‹åŠ¨æ”¹ä¸º 5120GBã€‚\nå¦‚æœæ˜¾ç¤ºâ€œæœªåˆå§‹åŒ–â€ï¼Œè¯·ä½¿ç”¨è¯¥å­è´¦å·ç™»å½•ä¸€æ¬¡ MySignins å³å¯è§¦å‘åˆå§‹åŒ–ã€‚\n\n\n\n\nç¬¬äº”æ­¥ï¼šåœ¨ Windows ä¸Šä½¿ç”¨ç°åœ¨çš„å­è´¦å·å·²ç»æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„â€œå·¥ä½œè´¦å·â€äº†ï¼Œå¯ä»¥ä¸ä½ åŸæœ¬çš„â€œä¸ªäººè´¦å·â€å®Œç¾å…±å­˜ã€‚\n1. ç³»ç»Ÿçº§æ¥å…¥æ‰“å¼€ Windows è®¾ç½® -&gt; è´¦æˆ· -&gt; ç™»å½•å·¥ä½œæˆ–å­¦æ ¡è´¦å·ã€‚ç‚¹å‡» è¿æ¥ï¼Œè¾“å…¥å­è´¦å·å’Œå¯†ç ç™»å½•ï¼Œè¿™å°†å…è®¸è¯¥è´¦å· SSO ç™»å½•ç³»ç»Ÿå†…çš„ Office åº”ç”¨ã€‚\n2. æ¿€æ´» Officeæ‰“å¼€ Word æˆ– Excelï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„ è´¦å· -&gt; åˆ‡æ¢è®¸å¯è¯ -&gt; é€‰æ‹©åˆšåˆšæ·»åŠ çš„ E3 å­è´¦å·ã€‚\n3. æŒ‚è½½ OneDriveå³é”®ä»»åŠ¡æ  OneDrive å›¾æ ‡ -&gt; è®¾ç½®ã€‚é€‰æ‹© è´¦æˆ· -&gt; æ·»åŠ è´¦æˆ·ï¼Œç™»å½•å­è´¦å·åï¼Œä½ çš„æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­ä¼šå‡ºç°ä¸€ä¸ªæ–°çš„ OneDrive - &lt;ä½ çš„ç»„ç»‡å&gt; æ–‡ä»¶å¤¹ï¼Œç‹¬äº« 5TB ç©ºé—´ã€‚\n","categories":["èµ„æºåˆ†äº«","ç¦åˆ©æ•™ç¨‹"],"tags":["Microsoft365","OneDrive","ç™½å«–æŒ‡å—"]},{"title":"Microsoft 365 E3 è¿›é˜¶æŒ‡å—ï¼šç»‘å®šè‡ªå®šä¹‰åŸŸåå¹¶é…ç½®ä¼ä¸šçº§ SMTP å‘ä¿¡","url":"/posts/57b282c7.html","content":"æ‹¥æœ‰äº† Microsoft 365 E3 è®¢é˜…åï¼Œæˆ‘ä»¬ä¸ä»…è·å¾—äº† Office å…¨å®¶æ¡¶ï¼Œè¿˜è§£é”äº†ä¼ä¸šçº§çš„ Exchange Online æœåŠ¡ã€‚\nç›¸æ¯”äºä¸ªäººç‰ˆ Outlook æˆ– Gmailï¼Œä¼ä¸šç‰ˆ Exchange å…è®¸æˆ‘ä»¬ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼ˆå¦‚ admin@yourname.comï¼‰ï¼Œå¹¶æä¾›æé«˜çš„å‘ä¿¡æƒé‡ã€‚\næœ¬æ–‡å°†æŒ‡å¯¼ä½ å°†å…¶é…ç½®ä¸ºé«˜é€è¾¾ç‡çš„ SMTP æœåŠ¡ï¼Œç”¨äºåšå®¢é€šçŸ¥ã€Alist æ¶ˆæ¯æ¨é€ç­‰åœºæ™¯ã€‚\nç¬¬ä¸€æ­¥ï¼šåŸŸåç»‘å®šï¼ˆæ¨èï¼‰1. ç»‘å®šè‡ªå®šä¹‰åŸŸåä¸ºäº†è®©å‘å‡ºçš„é‚®ä»¶çœ‹èµ·æ¥æ›´ä¸“ä¸šï¼ˆè€Œä¸æ˜¯æ˜¾ç¤º xxx.onmicrosoft.comï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ç»‘å®šè‡ªå·±çš„åŸŸåã€‚\n\nè¿›å…¥ç®¡ç†ä¸­å¿ƒï¼šè®¿é—® M365 Admin Centerï¼Œç‚¹å‡»å·¦ä¾§å¯¼èˆªæ çš„ Settings (è®¾ç½®) -&gt; Domains (åŸŸ)ã€‚\n\næ·»åŠ åŸŸåï¼šç‚¹å‡» Add domainï¼Œè¾“å…¥ä½ è´­ä¹°çš„åŸŸåï¼ˆå¦‚ gabriel.edu.kgï¼‰ã€‚\n\néªŒè¯åŸŸåï¼š\n\nè‡ªåŠ¨éªŒè¯ (æ¨è)ï¼šå¦‚æœä½ çš„åŸŸåæ‰˜ç®¡åœ¨ Cloudflareã€GoDaddy ç­‰ä¸»æµå¹³å°ï¼Œé€‰æ‹© â€œSign in toâ€¦â€ å¯è‡ªåŠ¨æ·»åŠ  DNS è®°å½•ã€‚\næ‰‹åŠ¨éªŒè¯ï¼šé€‰æ‹© â€œAdd a TXT recordâ€ï¼Œå°†ç”Ÿæˆçš„ TXT è®°å½•æ·»åŠ åˆ°ä½ çš„ DNS è§£æä¸­ã€‚\n\n\né…ç½®æœåŠ¡è®°å½•ï¼šéªŒè¯é€šè¿‡åï¼Œç³»ç»Ÿä¼šè¦æ±‚é…ç½® Exchange å’Œå…¶ä»–æœåŠ¡çš„ DNS è®°å½•ã€‚\n\nå»ºè®®å…¨é€‰ (Exchange, Skype, DKIM ç­‰)ã€‚\nï¼ˆæ‰‹åŠ¨éªŒè¯ï¼‰æŒ‰ç…§æç¤ºåœ¨ DNS æœåŠ¡å•†å¤„æ·»åŠ ç”Ÿæˆçš„ MX, CNAME, TXT è®°å½•ã€‚\nå¾…çŠ¶æ€æ˜¾ç¤ºä¸º Healthy å³ä¸ºæˆåŠŸã€‚\n\n\n\n\n2. é…ç½® DKIM é˜²æ­¢è¿›åƒåœ¾ç®± (é‡è¦)ä¸ºäº†é˜²æ­¢ Gmailã€Outlook ç­‰æ”¶ä»¶æ–¹å°†ä½ çš„é‚®ä»¶æ ‡è®°ä¸ºåƒåœ¾é‚®ä»¶ï¼Œå¿…é¡»é…ç½® DKIM (åŸŸåå¯†é’¥è¯†åˆ«é‚®ä»¶)ã€‚\n\nè®¿é—® Defender é˜²æŠ¤ä¸­å¿ƒï¼šç‚¹å‡»è·³è½¬ DKIM é…ç½®é¡µé¢\n\nå¯ç”¨ DKIMï¼š\n\nåœ¨åˆ—è¡¨ä¸­ç‚¹å‡»ä½ çš„è‡ªå®šä¹‰åŸŸåã€‚\nå°† Sign messages for this domain with DKIM signatures çš„æ»‘å—åˆ‡æ¢ä¸º Enable (å¼€å¯)ã€‚\n\n\næ·»åŠ  CNAME è®°å½•ï¼š\n\nå¦‚æœç³»ç»Ÿæç¤º â€œYou need to create CNAME recordsâ€¦â€ï¼Œè¯·æŒ‰ç…§æç¤ºåœ¨ä½ çš„ DNS æœåŠ¡å•†å¤„æ·»åŠ  2 æ¡ CNAME è®°å½•ã€‚\nè®°å½•åé€šå¸¸ä¸º selector1._domainkey æ ¼å¼ã€‚\n\n\nå†æ¬¡å¯ç”¨ï¼š\n\nDNS ç”Ÿæ•ˆåï¼ˆé€šå¸¸å‡ åˆ†é’Ÿï¼‰ï¼Œå›åˆ°æ­¤é¡µé¢å†æ¬¡ç‚¹å‡»å¼€å¯æ»‘å—ã€‚\nç›´åˆ°çŠ¶æ€æ˜¾ç¤ºä¸ºç»¿è‰²çš„ Status: Enabledã€‚\n\n\n\n\nç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸“ç”¨å‘ä¿¡è´¦æˆ·1. æ–°å»ºç”¨æˆ·ä¸ºäº†å®‰å…¨èµ·è§ï¼Œä¸è¦ç›´æ¥ä½¿ç”¨å…¨å±€ç®¡ç†å‘˜è´¦å·è¿›è¡Œ SMTP å‘ä¿¡ã€‚å»ºè®®åˆ›å»ºä¸€ä¸ªæƒé™å—é™çš„ä¸“ç”¨è´¦æˆ·ï¼ˆService Accountï¼‰ã€‚\n\nè®¿é—® M365 Admin Centerï¼Œç‚¹å‡» Users (ç”¨æˆ·) -&gt; Active users (æ´»è·ƒç”¨æˆ·)ã€‚\n\nç‚¹å‡» Add a userï¼š\n\nFirst/Last name: éšæ„ï¼ˆå¦‚ Notification Botï¼‰ã€‚\nUsername: å»ºè®®ä½¿ç”¨ noreply æˆ– mailerã€‚\nDomain: ä¸‹æ‹‰é€‰æ‹©åˆšæ‰ç»‘å®šçš„è‡ªå®šä¹‰åŸŸåã€‚\nPassword: è‡ªåŠ¨ç”Ÿæˆæˆ–æ‰‹åŠ¨è®¾ç½®ï¼ŒåŠ¡å¿…è®°ä¸‹æ­¤å¯†ç ï¼Œä¸”åç»­ä¸è¦ä¿®æ”¹ã€‚\nLicenses: å¿…é¡»å‹¾é€‰ Office 365 E3 Developer (å¦åˆ™æ²¡æœ‰ Exchange é‚®ç®±åŠŸèƒ½)ã€‚\n\n\n\n\n2. ä¸ºç”¨æˆ·å¼€å¯ SMTPæ–°åˆ›å»ºçš„ç”¨æˆ·ï¼Œé»˜è®¤å¯èƒ½æœªå¼€å¯ SMTP ä¼ è¾“æƒé™ï¼Œéœ€è¦æ‰‹åŠ¨å¯ç”¨ã€‚\n\nåœ¨ç”¨æˆ·åˆ—è¡¨ä¸­ï¼Œç‚¹å‡»åˆšæ‰åˆ›å»ºçš„ noreply ç”¨æˆ·ã€‚\n\nåœ¨å³ä¾§å¼¹å‡ºçš„è¯¦æƒ…é¡µä¸­ï¼Œåˆ‡æ¢åˆ° Mail (é‚®ä»¶) é€‰é¡¹å¡ã€‚\n\nç‚¹å‡» Manage email apps (ç®¡ç†ç”µå­é‚®ä»¶åº”ç”¨) é“¾æ¥ã€‚\n\nå‹¾é€‰æœ€åº•éƒ¨çš„ Authenticated SMTP (ç»è¿‡èº«ä»½éªŒè¯çš„ SMTP)ã€‚\n\nç‚¹å‡» Save changes ä¿å­˜ã€‚\n\n\nç”Ÿæ•ˆæ—¶é—´æç¤ºï¼šå¾®è½¯å…¨çƒæœåŠ¡å™¨åŒæ­¥å¯èƒ½éœ€è¦æ—¶é—´ã€‚æ­¤å¤„çš„ä¿®æ”¹é€šå¸¸ 15 ~ 60 åˆ†é’Ÿ åæ‰ä¼šå®Œå…¨ç”Ÿæ•ˆã€‚å¦‚æœé…ç½®å®Œç«‹å³æµ‹è¯•è¿æ¥å¤±è´¥ï¼Œè¯·å–æ¯å’–å•¡ç¨åå†è¯•ã€‚\n\n\næ–¹å¼ä¸€ï¼šé…ç½® SMTP å‘ä¿¡1. å…³é—­å®‰å…¨é»˜è®¤å€¼ (å…³é”®)Microsoft Entra IDï¼ˆåŸ Azure ADï¼‰é»˜è®¤çš„å®‰å…¨ç­–ç•¥ä¼š å…¨å±€é˜»æ­¢ SMTP åŸºç¡€è®¤è¯ï¼ˆLegacy Authenticationï¼‰ã€‚å¦‚æœä¸å…³é—­æ­¤é€‰é¡¹ï¼ŒSMTP æ¡æ‰‹å°†ä¸€ç›´å¤±è´¥ã€‚\n\nè®¿é—® Azure é—¨æˆ·ï¼šç‚¹å‡»è·³è½¬ Microsoft Entra ID æ¦‚è§ˆé¡µ\n\nç™»å½•è´¦å·ï¼šä½¿ç”¨ä½ çš„ E3 å…¨å±€ç®¡ç†å‘˜è´¦å·ï¼ˆadmin@xxxx.onmicrosoft.comï¼‰ç™»å½•ã€‚\n\nä¿®æ”¹å±æ€§ï¼šåœ¨ä¸Šæ–¹èœå•æ ç‚¹å‡» Properties (å±æ€§)ã€‚\n\nç®¡ç†å®‰å…¨é»˜è®¤å€¼ï¼šæ»šåŠ¨åˆ°é¡µé¢æœ€åº•éƒ¨ï¼Œç‚¹å‡»è“è‰²é“¾æ¥ Manage security defaults (ç®¡ç†å®‰å…¨é»˜è®¤å€¼)ã€‚\n\nç¦ç”¨ç­–ç•¥ï¼šåœ¨å³ä¾§å¼¹å‡ºçš„é¢æ¿ä¸­ï¼Œå°† Security defaults åˆ‡æ¢ä¸º Disabled (ç¦ç”¨)ã€‚\n\nReason for disabling: éšæ„é€‰æ‹©ï¼Œä¾‹å¦‚ â€œApplication requires legacy authenticationâ€ã€‚\nç‚¹å‡» Save ä¿å­˜ã€‚\n\n\n\n\n\n2. SMTP é…ç½®å‚æ•°é€ŸæŸ¥ç°åœ¨ï¼Œä½ å¯ä»¥å°†ä»¥ä¸‹ä¿¡æ¯å¡«å…¥ Artalkã€WordPressã€UptimeKuma ç­‰æœåŠ¡çš„é‚®ä»¶é€šçŸ¥é…ç½®ä¸­ï¼š\n\n\n\n\né…ç½®é¡¹\nå€¼\nè¯´æ˜\n\n\n\n\nSMTP Host\nsmtp.office365.com\nå‘ä¿¡æœåŠ¡å™¨åœ°å€\n\n\nSMTP Port\n587\nç«¯å£ (æ¨è)\n\n\nEncryption\nSTARTTLS æˆ– TLS\nåŠ å¯†æ–¹å¼\n\n\nUsername\nnoreply@gabriel.edu.kg\nä½ çš„å®Œæ•´é‚®ç®±åœ°å€\n\n\nPassword\n********\nè¯¥ç”¨æˆ·çš„ç™»å½•å¯†ç \n\n\n\n\n\nè‡³æ­¤ï¼Œä¸€ä¸ªé«˜æƒé‡ã€é«˜é€è¾¾ç‡ä¸”å¸¦æœ‰è‡ªå®šä¹‰åŸŸåçš„ä¼ä¸šçº§ SMTP æœåŠ¡å°±æ­å»ºå®Œæˆäº†ã€‚\næ–¹å¼äºŒï¼šé…ç½® Azure åº”ç”¨ (OAuth2 å‡­è¯)å¦‚æœä½ è®¡åˆ’ä½¿ç”¨ Microsoft Graph API å‘ä¿¡ï¼ˆå¦‚ Apprise, LobeChat, Alistï¼‰ï¼Œæˆ–è€…ç¬¬ä¸‰æ–¹åº”ç”¨æ”¯æŒ OAuth2 ç™»å½•ï¼Œä½ éœ€è¦æ³¨å†Œä¸€ä¸ª Azure åº”ç”¨æ¥è·å– Client ID å’Œ Client Secretã€‚\n1. æ³¨å†Œåº”ç”¨\nè®¿é—® Azure AD åº”ç”¨æ³¨å†Œé¡µé¢ã€‚\nç‚¹å‡» New registrationã€‚\nName: å¡«å†™åº”ç”¨åï¼ˆå¦‚ MailBotï¼‰ï¼Œå…¶ä»–ä¿æŒé»˜è®¤ï¼Œç‚¹å‡» Registerã€‚\nåœ¨ Overview (æ¦‚è§ˆ) é¡µï¼Œå¤åˆ¶å¹¶ä¿å­˜ï¼šApplication (client) ID, Directory (tenant) ID\n\n2. ç”Ÿæˆå®¢æˆ·ç«¯å¯†é’¥\nç‚¹å‡»å·¦ä¾§ Certificates &amp; secrets (è¯ä¹¦å’Œå¯†ç ) -&gt; Client secretsã€‚\nç‚¹å‡» New client secretï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆæ¨è 24 ä¸ªæœˆï¼‰ã€‚\nåŠ¡å¿…ç«‹å³å¤åˆ¶ Value å­—æ®µï¼ˆåˆ·æ–°åå°†ä¸å¯è§ï¼‰ã€‚æ³¨ï¼šè‹¥å¯†é’¥å«ç‰¹æ®Šå­—ç¬¦ï¼Œä½¿ç”¨å‰å»ºè®®è¿›è¡Œ URL Encodeã€‚\n\n\n\n3. é…ç½® API æƒé™\nç‚¹å‡»å·¦ä¾§ API permissions -&gt; Add a permission -&gt; Microsoft Graphã€‚\né€‰æ‹© Application permissions (åº”ç”¨çº§æƒé™)ã€‚\næœç´¢å¹¶å‹¾é€‰ Mail.Send, Mail.ReadWriteï¼Œç‚¹å‡» Add permissionsã€‚\nå›åˆ°æƒé™åˆ—è¡¨ï¼ŒçŠ¶æ€æ ä¼šæ˜¾ç¤º â€œNot granted forâ€¦â€ï¼Œ \nç‚¹å‡»åˆ—è¡¨ä¸Šæ–¹çš„ Grant admin consent for &lt;ç»„ç»‡å&gt; æŒ‰é’®å¹¶ç¡®è®¤ã€‚\nçœ‹åˆ°çŠ¶æ€å˜ä¸ºç»¿è‰²çš„ Granted å³ä¸ºé…ç½®æˆåŠŸã€‚\n\n\nè‡³æ­¤ï¼Œä½ å·²ç»æ‹¥æœ‰äº† SMTP å’Œ API ä¸¤ç§å¼ºå¤§çš„å‘ä¿¡æ–¹å¼ã€‚\næ¨èï¼šé…ç½® Catch-all æ— é™é‚®ç®±é™¤äº†åŸºç¡€å‘ä¿¡ï¼ŒExchange è¿˜æ”¯æŒé€šè¿‡è§„åˆ™å®ç°â€œæ— é™åˆ«åâ€åŠŸèƒ½ã€‚é…ç½®åï¼Œä½ å¯ä»¥éšæ„ç¼–é€ é‚®ç®±åœ°å€ï¼ˆå¦‚ test001@gabriel.edu.kgï¼‰ç”¨äºæ³¨å†Œä¸å—ä¿¡ä»»çš„ç½‘ç«™ï¼Œæ‰€æœ‰é‚®ä»¶éƒ½ä¼šè‡ªåŠ¨è½¬å‘åˆ°ä½ çš„ä¸»é‚®ç®±ã€‚\n\nè®¿é—® Exchange ç®¡ç†ä¸­å¿ƒï¼šç‚¹å‡»è·³è½¬ Exchange Admin Centerã€‚\n\nä¿®æ”¹åŸŸåç±»å‹ï¼š\n\nåœ¨å·¦ä¾§å¯¼èˆªæ ç‚¹å‡» Mail flow (é‚®ä»¶æµ) -&gt; Accepted domains (æ¥å—çš„åŸŸ)ã€‚\nç‚¹å‡»ä½ çš„ä¸»åŸŸåè¿›å…¥è¯¦æƒ…é¡µã€‚\nå°† This accepted domain is é€‰é¡¹ä» Authoritative åˆ‡æ¢ä¸º Internal relay (å†…éƒ¨ä¸­ç»§)ã€‚\nç‚¹å‡» Save ä¿å­˜ã€‚\n\n\nåˆ›å»ºè½¬å‘è§„åˆ™ï¼š\n\nç‚¹å‡»å·¦ä¾§å¯¼èˆªæ  Mail flow (é‚®ä»¶æµ) -&gt; Rules (è§„åˆ™)ã€‚\nç‚¹å‡» Add a rule -&gt; Create a new ruleã€‚\nName: éšæ„å¡«å†™ï¼Œæ¯”å¦‚ Catch-allã€‚\nApply this rule if: é€‰æ‹© The recipient -&gt; address matches any of these text patternsã€‚\nspecify text patterns: è¾“å…¥æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ ^test.*@gabriel\\.edu\\.kg$ã€‚æ³¨ï¼šæ­¤æ­£åˆ™è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä»¥ test å¼€å¤´ï¼ˆå¦‚ test-app, test01ï¼‰çš„é‚®ç®±åœ°å€ã€‚\n\n\nDo the following: é€‰æ‹© Redirect the message to -&gt; these recipientsï¼Œå¹¶åœ¨åˆ—è¡¨ä¸­é€‰æ‹©ä½ çš„ä¸»è´¦å·ã€‚\nåç»­ Settings ä¿æŒé»˜è®¤ï¼Œç‚¹å‡» Finishã€‚\n\n\nå¯ç”¨è§„åˆ™ï¼š\n\næ–°åˆ›å»ºçš„è§„åˆ™é»˜è®¤å¤„äº Disabled çŠ¶æ€ã€‚\nç‚¹å‡»è§„åˆ™åç§°ï¼Œåœ¨è¯¦æƒ…é¢æ¿ä¸­å°†æ»‘å—åˆ‡æ¢ä¸º Enabledã€‚\n\n\n\né…ç½®å®Œæˆï¼šç°åœ¨ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ test001@gabriel.edu.kg æˆ– test-anything@gabriel.edu.kg è¿›è¡Œæ³¨å†Œï¼Œé‚®ä»¶å°†è‡ªåŠ¨æŠ•é€’åˆ°ä½ çš„æ”¶ä»¶ç®±ã€‚\n\n","categories":["èµ„æºåˆ†äº«","è¿›é˜¶æ•™ç¨‹"],"tags":["Microsoft365","SMTP","Exchange"]}]